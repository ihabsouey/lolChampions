var _T=Object.defineProperty,ST=Object.defineProperties;var ET=Object.getOwnPropertyDescriptors;var $y=Object.getOwnPropertySymbols;var xT=Object.prototype.hasOwnProperty,DT=Object.prototype.propertyIsEnumerable;var Ky=(i,t,e)=>t in i?_T(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,W=(i,t)=>{for(var e in t||={})xT.call(t,e)&&Ky(i,e,t[e]);if($y)for(var e of $y(t))DT.call(t,e)&&Ky(i,e,t[e]);return i},Ae=(i,t)=>ST(i,ET(t));var Yy=null;var Ip=1;function Vt(i){let t=Yy;return Yy=i,t}var Qy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function TT(i){if(!(Fp(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===Ip)){if(!i.producerMustRecompute(i)&&!Mp(i)){i.dirty=!1,i.lastCleanEpoch=Ip;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=Ip}}function Zy(i){return i&&(i.nextProducerIndex=0),Vt(i)}function Xy(i,t){if(Vt(t),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(Fp(i))for(let e=i.nextProducerIndex;e<i.producerNode.length;e++)Pp(i.producerNode[e],i.producerIndexOfThis[e]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Mp(i){ql(i);for(let t=0;t<i.producerNode.length;t++){let e=i.producerNode[t],n=i.producerLastReadVersion[t];if(n!==e.version||(TT(e),n!==e.version))return!0}return!1}function Jy(i){if(ql(i),Fp(i))for(let t=0;t<i.producerNode.length;t++)Pp(i.producerNode[t],i.producerIndexOfThis[t]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Pp(i,t){if(RT(i),ql(i),i.liveConsumerNode.length===1)for(let n=0;n<i.producerNode.length;n++)Pp(i.producerNode[n],i.producerIndexOfThis[n]);let e=i.liveConsumerNode.length-1;if(i.liveConsumerNode[t]=i.liveConsumerNode[e],i.liveConsumerIndexOfThis[t]=i.liveConsumerIndexOfThis[e],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,t<i.liveConsumerNode.length){let n=i.liveConsumerIndexOfThis[t],r=i.liveConsumerNode[t];ql(r),r.producerIndexOfThis[n]=t}}function Fp(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function ql(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function RT(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function OT(){throw new Error}var AT=OT;function ew(i){AT=i}function se(i){return typeof i=="function"}function ho(i){let e=i(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var $l=ho(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Ci(i,t){if(i){let e=i.indexOf(t);0<=e&&i.splice(e,1)}}var Be=class i{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(se(n))try{n()}catch(o){t=o instanceof $l?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{tw(o)}catch(a){t=t??[],a instanceof $l?t=[...t,...a.errors]:t.push(a)}}if(t)throw new $l(t)}}add(t){var e;if(t&&t!==this)if(this.closed)tw(t);else{if(t instanceof i){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ci(e,t)}remove(t){let{_finalizers:e}=this;e&&Ci(e,t),t instanceof i&&t._removeParent(this)}};Be.EMPTY=(()=>{let i=new Be;return i.closed=!0,i})();var Np=Be.EMPTY;function Kl(i){return i instanceof Be||i&&"closed"in i&&se(i.remove)&&se(i.add)&&se(i.unsubscribe)}function tw(i){se(i)?i():i.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var go={setTimeout(i,t,...e){let{delegate:n}=go;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){let{delegate:t}=go;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function Yl(i){go.setTimeout(()=>{let{onUnhandledError:t}=bn;if(t)t(i);else throw i})}function Oa(){}var nw=(()=>Lp("C",void 0,void 0))();function rw(i){return Lp("E",void 0,i)}function iw(i){return Lp("N",i,void 0)}function Lp(i,t,e){return{kind:i,value:t,error:e}}var bi=null;function mo(i){if(bn.useDeprecatedSynchronousErrorHandling){let t=!bi;if(t&&(bi={errorThrown:!1,error:null}),i(),t){let{errorThrown:e,error:n}=bi;if(bi=null,e)throw n}}else i()}function ow(i){bn.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=i)}var _i=class extends Be{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Kl(t)&&t.add(this)):this.destination=PT}static create(t,e,n){return new dr(t,e,n)}next(t){this.isStopped?zp(iw(t),this):this._next(t)}error(t){this.isStopped?zp(rw(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?zp(nw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IT=Function.prototype.bind;function kp(i,t){return IT.call(i,t)}var Vp=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){Ql(n)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){Ql(n)}else Ql(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ql(e)}}},dr=class extends _i{constructor(t,e,n){super();let r;if(se(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&bn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&kp(t.next,o),error:t.error&&kp(t.error,o),complete:t.complete&&kp(t.complete,o)}):r=t}this.destination=new Vp(r)}};function Ql(i){bn.useDeprecatedSynchronousErrorHandling?ow(i):Yl(i)}function MT(i){throw i}function zp(i,t){let{onStoppedNotification:e}=bn;e&&go.setTimeout(()=>e(i,t))}var PT={closed:!0,next:Oa,error:MT,complete:Oa};var vo=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function gt(i){return i}function Gp(...i){return Hp(i)}function Hp(i){return i.length===0?gt:i.length===1?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}var ue=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){let o=NT(e)?e:new dr(e,n,r);return mo(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=aw(n),new n((r,o)=>{let a=new dr({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[vo](){return this}pipe(...e){return Hp(e)(this)}toPromise(e){return e=aw(e),new e((n,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>n(o))})}}return i.create=t=>new i(t),i})();function aw(i){var t;return(t=i??bn.Promise)!==null&&t!==void 0?t:Promise}function FT(i){return i&&se(i.next)&&se(i.error)&&se(i.complete)}function NT(i){return i&&i instanceof _i||FT(i)&&Kl(i)}function jp(i){return se(i?.lift)}function pe(i){return t=>{if(jp(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(i,t,e,n,r){return new Bp(i,t,e,n,r)}var Bp=class extends _i{constructor(t,e,n,r,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){t.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function yo(){return pe((i,t)=>{let e=null;i._refCount++;let n=fe(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){e=null;return}let r=i._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}var wo=class extends ue{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,jp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Be;let e=this.getSubject();t.add(this.source.subscribe(fe(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Be.EMPTY)}return t}refCount(){return yo()(this)}};var sw=ho(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class i extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new Zl(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new sw}next(e){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:r,observers:o}=this;return n||r?Np:(this.currentObservers=null,o.push(e),new Be(()=>{this.currentObservers=null,Ci(o,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){let e=new ue;return e.source=this,e}}return i.create=(t,e)=>new Zl(t,e),i})(),Zl=class extends ot{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,t)}error(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:Np}};var Ke=class extends ot{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var Up={now(){return(Up.delegate||Date).now()},delegate:void 0};var Xl=class extends Be{constructor(t,e){super()}schedule(t,e=0){return this}};var Aa={setInterval(i,t,...e){let{delegate:n}=Aa;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){let{delegate:t}=Aa;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};var Jl=class extends Xl{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return Aa.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&Aa.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ci(n,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Co=class i{constructor(t,e=i.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}};Co.now=Up.now;var ec=class extends Co{constructor(t,e=Co.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}};var lw=new ec(Jl);var Et=new ue(i=>i.complete());function cw(i){return i&&se(i.schedule)}function Wp(i){return i[i.length-1]}function tc(i){return se(Wp(i))?i.pop():void 0}function Bn(i){return cw(Wp(i))?i.pop():void 0}function uw(i,t){return typeof Wp(i)=="number"?i.pop():t}function pw(i,t,e,n){function r(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{c(n.next(u))}catch(d){a(d)}}function l(u){try{c(n.throw(u))}catch(d){a(d)}}function c(u){u.done?o(u.value):r(u.value).then(s,l)}c((n=n.apply(i,t||[])).next())})}function dw(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(i){return this instanceof Si?(this.v=i,this):new Si(i)}function fw(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(i,t||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(p){n[p]&&(r[p]=function(f){return new Promise(function(h,g){o.push([p,f,h,g])>1||s(p,f)})})}function s(p,f){try{l(n[p](f))}catch(h){d(o[0][3],h)}}function l(p){p.value instanceof Si?Promise.resolve(p.value.v).then(c,u):d(o[0][2],p)}function c(p){s("next",p)}function u(p){s("throw",p)}function d(p,f){p(f),o.shift(),o.length&&s(o[0][0],o[0][1])}}function hw(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],e;return t?t.call(i):(i=typeof dw=="function"?dw(i):i[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=i[o]&&function(a){return new Promise(function(s,l){a=i[o](a),r(s,l,a.done,a.value)})}}function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}}var nc=i=>i&&typeof i.length=="number"&&typeof i!="function";function rc(i){return se(i?.then)}function ic(i){return se(i[vo])}function oc(i){return Symbol.asyncIterator&&se(i?.[Symbol.asyncIterator])}function ac(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sc=LT();function lc(i){return se(i?.[sc])}function cc(i){return fw(this,arguments,function*(){let e=i.getReader();try{for(;;){let{value:n,done:r}=yield Si(e.read());if(r)return yield Si(void 0);yield yield Si(n)}}finally{e.releaseLock()}})}function uc(i){return se(i?.getReader)}function Pe(i){if(i instanceof ue)return i;if(i!=null){if(ic(i))return kT(i);if(nc(i))return zT(i);if(rc(i))return VT(i);if(oc(i))return gw(i);if(lc(i))return GT(i);if(uc(i))return HT(i)}throw ac(i)}function kT(i){return new ue(t=>{let e=i[vo]();if(se(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zT(i){return new ue(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}function VT(i){return new ue(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Yl)})}function GT(i){return new ue(t=>{for(let e of i)if(t.next(e),t.closed)return;t.complete()})}function gw(i){return new ue(t=>{jT(i,t).catch(e=>t.error(e))})}function HT(i){return gw(cc(i))}function jT(i,t){var e,n,r,o;return pw(this,void 0,void 0,function*(){try{for(e=hw(i);n=yield e.next(),!n.done;){let a=n.value;if(t.next(a),t.closed)return}}catch(a){r={error:a}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})}function xt(i,t,e,n=0,r=!1){let o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function dc(i,t=0){return pe((e,n)=>{e.subscribe(fe(n,r=>xt(n,i,()=>n.next(r),t),()=>xt(n,i,()=>n.complete(),t),r=>xt(n,i,()=>n.error(r),t)))})}function pc(i,t=0){return pe((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function mw(i,t){return Pe(i).pipe(pc(t),dc(t))}function vw(i,t){return Pe(i).pipe(pc(t),dc(t))}function yw(i,t){return new ue(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}function ww(i,t){return new ue(e=>{let n;return xt(e,t,()=>{n=i[sc](),xt(e,t,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(a){e.error(a);return}o?e.complete():e.next(r)},0,!0)}),()=>se(n?.return)&&n.return()})}function fc(i,t){if(!i)throw new Error("Iterable cannot be null");return new ue(e=>{xt(e,t,()=>{let n=i[Symbol.asyncIterator]();xt(e,t,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Cw(i,t){return fc(cc(i),t)}function bw(i,t){if(i!=null){if(ic(i))return mw(i,t);if(nc(i))return yw(i,t);if(rc(i))return vw(i,t);if(oc(i))return fc(i,t);if(lc(i))return ww(i,t);if(uc(i))return Cw(i,t)}throw ac(i)}function De(i,t){return t?bw(i,t):Pe(i)}function Y(...i){let t=Bn(i);return De(i,t)}function bo(i,t){let e=se(i)?i:()=>i,n=r=>r.error(e());return new ue(t?r=>t.schedule(n,0,r):n)}function qp(i){return!!i&&(i instanceof ue||se(i.lift)&&se(i.subscribe))}var pr=ho(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(i,t){return pe((e,n)=>{let r=0;e.subscribe(fe(n,o=>{n.next(i.call(t,o,r++))}))})}var{isArray:BT}=Array;function UT(i,t){return BT(t)?i(...t):i(t)}function hc(i){return oe(t=>UT(i,t))}var{isArray:WT}=Array,{getPrototypeOf:qT,prototype:$T,keys:KT}=Object;function gc(i){if(i.length===1){let t=i[0];if(WT(t))return{args:t,keys:null};if(YT(t)){let e=KT(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}function YT(i){return i&&typeof i=="object"&&qT(i)===$T}function mc(i,t){return i.reduce((e,n,r)=>(e[n]=t[r],e),{})}function Ei(...i){let t=Bn(i),e=tc(i),{args:n,keys:r}=gc(i);if(n.length===0)return De([],t);let o=new ue(QT(n,t,r?a=>mc(r,a):gt));return e?o.pipe(hc(e)):o}function QT(i,t,e=gt){return n=>{_w(t,()=>{let{length:r}=i,o=new Array(r),a=r,s=r;for(let l=0;l<r;l++)_w(t,()=>{let c=De(i[l],t),u=!1;c.subscribe(fe(n,d=>{o[l]=d,u||(u=!0,s--),s||n.next(e(o.slice()))},()=>{--a||n.complete()}))},n)},n)}}function _w(i,t,e){i?xt(e,i,t):t()}function Sw(i,t,e,n,r,o,a,s){let l=[],c=0,u=0,d=!1,p=()=>{d&&!l.length&&!c&&t.complete()},f=g=>c<n?h(g):l.push(g),h=g=>{o&&t.next(g),c++;let y=!1;Pe(e(g,u++)).subscribe(fe(t,w=>{r?.(w),o?f(w):t.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<n;){let w=l.shift();a?xt(t,a,()=>h(w)):h(w)}p()}catch(w){t.error(w)}}))};return i.subscribe(fe(t,f,()=>{d=!0,p()})),()=>{s?.()}}function Ue(i,t,e=1/0){return se(t)?Ue((n,r)=>oe((o,a)=>t(n,o,r,a))(Pe(i(n,r))),e):(typeof t=="number"&&(e=t),pe((n,r)=>Sw(n,r,i,e)))}function Ir(i=1/0){return Ue(gt,i)}function Ew(){return Ir(1)}function Mr(...i){return Ew()(De(i,Bn(i)))}function vc(i){return new ue(t=>{Pe(i()).subscribe(t)})}function $p(...i){let t=tc(i),{args:e,keys:n}=gc(i),r=new ue(o=>{let{length:a}=e;if(!a){o.complete();return}let s=new Array(a),l=a,c=a;for(let u=0;u<a;u++){let d=!1;Pe(e[u]).subscribe(fe(o,p=>{d||(d=!0,c--),s[u]=p},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(n?mc(n,s):s),o.complete())}))}});return t?r.pipe(hc(t)):r}function Kp(...i){let t=Bn(i),e=uw(i,1/0),n=i;return n.length?n.length===1?Pe(n[0]):Ir(e)(De(n,t)):Et}function dt(i,t){return pe((e,n)=>{let r=0;e.subscribe(fe(n,o=>i.call(t,o,r++)&&n.next(o)))})}function Pr(i){return pe((t,e)=>{let n=null,r=!1,o;n=t.subscribe(fe(e,void 0,void 0,a=>{o=Pe(i(a,Pr(i)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function xw(i,t,e,n,r){return(o,a)=>{let s=e,l=t,c=0;o.subscribe(fe(a,u=>{let d=c++;l=s?i(l,u,d):(s=!0,u),n&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}function on(i,t){return se(t)?Ue(i,t,1):Ue(i,1)}function Yp(i,t=lw){return pe((e,n)=>{let r=null,o=null,a=null,s=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,n.next(c)}};function l(){let c=a+i,u=t.now();if(u<c){r=this.schedule(void 0,c-u),n.add(r);return}s()}e.subscribe(fe(n,c=>{o=c,a=t.now(),r||(r=t.schedule(l,i),n.add(r))},()=>{s(),n.complete()},void 0,()=>{o=r=null}))})}function Fr(i){return pe((t,e)=>{let n=!1;t.subscribe(fe(e,r=>{n=!0,e.next(r)},()=>{n||e.next(i),e.complete()}))})}function _n(i){return i<=0?()=>Et:pe((t,e)=>{let n=0;t.subscribe(fe(e,r=>{++n<=i&&(e.next(r),i<=n&&e.complete())}))})}function Qp(i){return oe(()=>i)}function Zp(i,t=gt){return i=i??ZT,pe((e,n)=>{let r,o=!0;e.subscribe(fe(n,a=>{let s=t(a);(o||!i(r,s))&&(o=!1,r=s,n.next(a))}))})}function ZT(i,t){return i===t}function yc(i=XT){return pe((t,e)=>{let n=!1;t.subscribe(fe(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(i())))})}function XT(){return new pr}function Nr(i){return pe((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}function Gt(i,t){let e=arguments.length>=2;return n=>n.pipe(i?dt((r,o)=>i(r,o,n)):gt,_n(1),e?Fr(t):yc(()=>new pr))}function _o(i){return i<=0?()=>Et:pe((t,e)=>{let n=[];t.subscribe(fe(e,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(let r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function Xp(i,t){let e=arguments.length>=2;return n=>n.pipe(i?dt((r,o)=>i(r,o,n)):gt,_o(1),e?Fr(t):yc(()=>new pr))}function Jp(i,t){return pe(xw(i,t,arguments.length>=2,!0))}function tf(i={}){let{connector:t=()=>new ot,resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return o=>{let a,s,l,c=0,u=!1,d=!1,p=()=>{s?.unsubscribe(),s=void 0},f=()=>{p(),a=l=void 0,u=d=!1},h=()=>{let g=a;f(),g?.unsubscribe()};return pe((g,y)=>{c++,!d&&!u&&p();let w=l=l??t();y.add(()=>{c--,c===0&&!d&&!u&&(s=ef(h,r))}),w.subscribe(y),!a&&c>0&&(a=new dr({next:C=>w.next(C),error:C=>{d=!0,p(),s=ef(f,e,C),w.error(C)},complete:()=>{u=!0,p(),s=ef(f,n),w.complete()}}),Pe(g).subscribe(a))})(o)}}function ef(i,t,...e){if(t===!0){i();return}if(t===!1)return;let n=new dr({next:()=>{n.unsubscribe(),i()}});return Pe(t(...e)).subscribe(n)}function nf(i){return dt((t,e)=>i<=e)}function Ia(...i){let t=Bn(i);return pe((e,n)=>{(t?Mr(i,e,t):Mr(i,e)).subscribe(n)})}function pt(i,t){return pe((e,n)=>{let r=null,o=0,a=!1,s=()=>a&&!r&&n.complete();e.subscribe(fe(n,l=>{r?.unsubscribe();let c=0,u=o++;Pe(i(l,u)).subscribe(r=fe(n,d=>n.next(t?t(l,d,u,c++):d),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function Ma(i){return pe((t,e)=>{Pe(i).subscribe(fe(e,()=>e.complete(),Oa)),!e.closed&&t.subscribe(e)})}function Ye(i,t,e){let n=se(i)||t||e?{next:i,error:t,complete:e}:i;return n?pe((r,o)=>{var a;(a=n.subscribe)===null||a===void 0||a.call(n);let s=!0;r.subscribe(fe(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;s=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;s=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;s&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):gt}function Ie(i){for(let t in i)if(i[t]===Ie)return t;throw Error("Could not find renamed property on target object.")}function wc(i,t){for(let e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function vt(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(vt).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let t=i.toString();if(t==null)return""+t;let e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Dw(i,t){return i==null||i===""?t===null?"":t:t==null||t===""?i:i+" "+t}var JT=Ie({__forward_ref__:Ie});function Vo(i){return i.__forward_ref__=Vo,i.toString=function(){return vt(this())},i}function mt(i){return cC(i)?i():i}function cC(i){return typeof i=="function"&&i.hasOwnProperty(JT)&&i.__forward_ref__===Vo}function uC(i){return i&&!!i.\u0275providers}var eR="https://g.co/ng/security#xss",N=class extends Error{constructor(t,e){super(Kc(t,e)),this.code=t}};function Kc(i,t){return`${`NG0${Math.abs(i)}`}${t?": "+t:""}`}var tR=Ie({\u0275cmp:Ie}),nR=Ie({\u0275dir:Ie}),rR=Ie({\u0275pipe:Ie}),iR=Ie({\u0275mod:Ie}),Oc=Ie({\u0275fac:Ie}),Pa=Ie({__NG_ELEMENT_ID__:Ie}),Tw=Ie({__NG_ENV_ID__:Ie});function oR(i){return typeof i=="string"?i:i==null?"":String(i)}function aR(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():oR(i)}function sR(i,t){let e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new N(-200,`Circular dependency in DI detected for ${i}${e}`)}function eh(i,t){let e=t?` in ${t}`:"";throw new N(-201,!1)}function lR(i,t){i==null&&cR(t,i,null,"!=")}function cR(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(n==null?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}function G(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Q(i){return{providers:i.providers||[],imports:i.imports||[]}}function Yc(i){return Rw(i,pC)||Rw(i,fC)}function dC(i){return Yc(i)!==null}function Rw(i,t){return i.hasOwnProperty(t)?i[t]:null}function uR(i){let t=i&&(i[pC]||i[fC]);return t||null}function Ow(i){return i&&(i.hasOwnProperty(Aw)||i.hasOwnProperty(dR))?i[Aw]:null}var pC=Ie({\u0275prov:Ie}),Aw=Ie({\u0275inj:Ie}),fC=Ie({ngInjectableDef:Ie}),dR=Ie({ngInjectorDef:Ie}),me=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(me||{}),yf;function hC(){return yf}function an(i){let t=yf;return yf=i,t}function gC(i,t,e){let n=Yc(i);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&me.Optional)return null;if(t!==void 0)return t;eh(vt(i),"Injector")}var Ht=globalThis;var $=class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=G({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var pR={},Na=pR,wf="__NG_DI_FLAG__",Ac="ngTempTokenPath",fR="ngTokenPath",hR=/\n/gm,gR="\u0275",Iw="__source",To;function mR(){return To}function Lr(i){let t=To;return To=i,t}function vR(i,t=me.Default){if(To===void 0)throw new N(-203,!1);return To===null?gC(i,void 0,t):To.get(i,t&me.Optional?null:void 0,t)}function F(i,t=me.Default){return(hC()||vR)(mt(i),t)}function j(i,t=me.Default){return F(i,Qc(t))}function Qc(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Cf(i){let t=[];for(let e=0;e<i.length;e++){let n=mt(i[e]);if(Array.isArray(n)){if(n.length===0)throw new N(900,!1);let r,o=me.Default;for(let a=0;a<n.length;a++){let s=n[a],l=yR(s);typeof l=="number"?l===-1?r=s.token:o|=l:r=s}t.push(F(r,o))}else t.push(F(n))}return t}function mC(i,t){return i[wf]=t,i.prototype[wf]=t,i}function yR(i){return i[wf]}function wR(i,t,e,n){let r=i[Ac];throw t[Iw]&&r.unshift(t[Iw]),i.message=CR(`
`+i.message,r,e,n),i[fR]=r,i[Ac]=null,i}function CR(i,t,e,n=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==gR?i.slice(2):i;let r=vt(t);if(Array.isArray(t))r=t.map(vt).join(" -> ");else if(typeof t=="object"){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let s=t[a];o.push(a+":"+(typeof s=="string"?JSON.stringify(s):vt(s)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${i.replace(hR,`
  `)}`}function Ba(i){return{toString:i}.toString()}var vC=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(vC||{}),qn=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(qn||{}),Oo={},sn=[];function yC(i,t,e){let n=i.length;for(;;){let r=i.indexOf(t,e);if(r===-1)return r;if(r===0||i.charCodeAt(r-1)<=32){let o=t.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}e=r+1}}function bf(i,t,e){let n=0;for(;n<e.length;){let r=e[n];if(typeof r=="number"){if(r!==0)break;n++;let o=e[n++],a=e[n++],s=e[n++];i.setAttribute(t,a,s,o)}else{let o=r,a=e[++n];_R(o)?i.setProperty(t,o,a):i.setAttribute(t,o,a),n++}}return n}function bR(i){return i===3||i===4||i===6}function _R(i){return i.charCodeAt(0)===64}function La(i,t){if(!(t===null||t.length===0))if(i===null||i.length===0)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){let r=t[n];typeof r=="number"?e=r:e===0||(e===-1||e===2?Mw(i,e,r,null,t[++n]):Mw(i,e,r,null,null))}}return i}function Mw(i,t,e,n,r){let o=0,a=i.length;if(t===-1)a=-1;else for(;o<i.length;){let s=i[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<i.length;){let s=i[o];if(typeof s=="number")break;if(s===e){if(n===null){r!==null&&(i[o+1]=r);return}else if(n===i[o+1]){i[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}a!==-1&&(i.splice(a,0,t),o=a+1),i.splice(o++,0,e),n!==null&&i.splice(o++,0,n),r!==null&&i.splice(o++,0,r)}var wC="ng-template";function SR(i,t,e){let n=0,r=!0;for(;n<i.length;){let o=i[n++];if(typeof o=="string"&&r){let a=i[n++];if(e&&o==="class"&&yC(a.toLowerCase(),t,0)!==-1)return!0}else if(o===1){for(;n<i.length&&typeof(o=i[n++])=="string";)if(o.toLowerCase()===t)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function CC(i){return i.type===4&&i.value!==wC}function ER(i,t,e){let n=i.type===4&&!e?wC:i.value;return t===n}function xR(i,t,e){let n=4,r=i.attrs||[],o=RR(r),a=!1;for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number"){if(!a&&!Sn(n)&&!Sn(l))return!1;if(a&&Sn(l))continue;a=!1,n=l|n&1;continue}if(!a)if(n&4){if(n=2|n&1,l!==""&&!ER(i,l,e)||l===""&&t.length===1){if(Sn(n))return!1;a=!0}}else{let c=n&8?l:t[++s];if(n&8&&i.attrs!==null){if(!SR(i.attrs,c,e)){if(Sn(n))return!1;a=!0}continue}let u=n&8?"class":l,d=DR(u,r,CC(i),e);if(d===-1){if(Sn(n))return!1;a=!0;continue}if(c!==""){let p;d>o?p="":p=r[d+1].toLowerCase();let f=n&8?p:null;if(f&&yC(f,c,0)!==-1||n&2&&c!==p){if(Sn(n))return!1;a=!0}}}}return Sn(n)||a}function Sn(i){return(i&1)===0}function DR(i,t,e,n){if(t===null)return-1;let r=0;if(n||!e){let o=!1;for(;r<t.length;){let a=t[r];if(a===i)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++r];for(;typeof s=="string";)s=t[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return OR(t,i)}function TR(i,t,e=!1){for(let n=0;n<t.length;n++)if(xR(i,t[n],e))return!0;return!1}function RR(i){for(let t=0;t<i.length;t++){let e=i[t];if(bR(e))return t}return i.length}function OR(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){let n=i[e];if(typeof n=="number")return-1;if(n===t)return e;e++}return-1}function Pw(i,t){return i?":not("+t.trim()+")":t}function AR(i){let t=i[0],e=1,n=2,r="",o=!1;for(;e<i.length;){let a=i[e];if(typeof a=="string")if(n&2){let s=i[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else n&8?r+="."+a:n&4&&(r+=" "+a);else r!==""&&!Sn(a)&&(t+=Pw(o,r),r=""),n=a,o=o||!Sn(n);e++}return r!==""&&(t+=Pw(o,r)),t}function IR(i){return i.map(AR).join(",")}function MR(i){let t=[],e=[],n=1,r=2;for(;n<i.length;){let o=i[n];if(typeof o=="string")r===2?o!==""&&t.push(o,i[++n]):r===8&&e.push(o);else{if(!Sn(r))break;r=o}n++}return{attrs:t,classes:e}}function Ct(i){return Ba(()=>{let t=xC(i),e=Ae(W({},t),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===vC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||qn.Emulated,styles:i.styles||sn,_:null,schemas:i.schemas||null,tView:null,id:""});DC(e);let n=i.dependencies;return e.directiveDefs=Nw(n,!1),e.pipeDefs=Nw(n,!0),e.id=NR(e),e})}function PR(i){return Vr(i)||bC(i)}function FR(i){return i!==null}function Z(i){return Ba(()=>({type:i.type,bootstrap:i.bootstrap||sn,declarations:i.declarations||sn,imports:i.imports||sn,exports:i.exports||sn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Fw(i,t){if(i==null)return Oo;let e={};for(let n in i)if(i.hasOwnProperty(n)){let r=i[n],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=n,t&&(t[r]=o)}return e}function Ve(i){return Ba(()=>{let t=xC(i);return DC(t),t})}function Vr(i){return i[tR]||null}function bC(i){return i[nR]||null}function _C(i){return i[rR]||null}function SC(i){let t=Vr(i)||bC(i)||_C(i);return t!==null?t.standalone:!1}function EC(i,t){let e=i[iR]||null;if(!e&&t===!0)throw new Error(`Type ${vt(i)} does not have '\u0275mod' property.`);return e}function xC(i){let t={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:i.inputs||Oo,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||sn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fw(i.inputs,t),outputs:Fw(i.outputs),debugInfo:null}}function DC(i){i.features?.forEach(t=>t(i))}function Nw(i,t){if(!i)return null;let e=t?_C:PR;return()=>(typeof i=="function"?i():i).map(n=>e(n)).filter(FR)}function NR(i){let t=0,e=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483647+1,"c"+t}var gr=0,Ce=1,ae=2,Qe=3,En=4,Tn=5,Ic=6,ka=7,fr=8,Ao=9,za=10,yt=11,Va=12,Lw=13,Ua=14,$n=15,th=16,So=17,nh=18,Zc=19,TC=20,kr=21,rf=22,Di=23,Ti=25,RC=1;var Ri=7,Mc=8,Pc=9,ln=10,Io=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i[i.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",i}(Io||{});function zr(i){return Array.isArray(i)&&typeof i[RC]=="object"}function xn(i){return Array.isArray(i)&&i[RC]===!0}function OC(i){return(i.flags&4)!==0}function Xc(i){return i.componentOffset>-1}function AC(i){return(i.flags&1)===1}function Gr(i){return!!i.template}function LR(i){return(i[ae]&512)!==0}function Mo(i,t){let e=i.hasOwnProperty(Oc);return e?i[Oc]:null}var _f=class{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function Rn(){return IC}function IC(i){return i.type.prototype.ngOnChanges&&(i.setInput=zR),kR}Rn.ngInherit=!0;function kR(){let i=PC(this),t=i?.current;if(t){let e=i.previous;if(e===Oo)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function zR(i,t,e,n){let r=this.declaredInputs[e],o=PC(i)||VR(i,{previous:Oo,current:null}),a=o.current||(o.current={}),s=o.previous,l=s[r];a[r]=new _f(l&&l.currentValue,t,s===Oo),i[n]=t}var MC="__ngSimpleChanges__";function PC(i){return i[MC]||null}function VR(i,t){return i[MC]=t}var kw=null;var Un=function(i,t,e){kw?.(i,t,e)},GR="svg",HR="math";function Kn(i){for(;Array.isArray(i);)i=i[gr];return i}function jR(i,t){return Kn(t[i])}function On(i,t){return Kn(t[i.index])}function FC(i,t){return i.data[t]}function Br(i,t){let e=t[i];return zr(e)?e:e[gr]}function rh(i){return(i[ae]&128)===128}function BR(i){return xn(i[Qe])}function zw(i,t){return t==null?null:i[t]}function NC(i){i[So]=0}function UR(i){i[ae]&1024||(i[ae]|=1024,rh(i)&&Jc(i))}function LC(i){return i[ae]&9216||i[Di]?.dirty}function kC(i){LC(i)&&Jc(i)}function Jc(i){let t=i[Qe];for(;t!==null&&!(xn(t)&&t[ae]&Io.HasChildViewsToRefresh||zr(t)&&t[ae]&8192);){if(xn(t))t[ae]|=Io.HasChildViewsToRefresh;else if(t[ae]|=8192,!rh(t))break;t=t[Qe]}}function zC(i,t){if((i[ae]&256)===256)throw new N(911,!1);i[kr]===null&&(i[kr]=[]),i[kr].push(t)}function WR(i,t){if(i[kr]===null)return;let e=i[kr].indexOf(t);e!==-1&&i[kr].splice(e,1)}var _e={lFrame:WC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qR(){return _e.lFrame.elementDepthCount}function $R(){_e.lFrame.elementDepthCount++}function KR(){_e.lFrame.elementDepthCount--}function VC(){return _e.bindingsEnabled}function YR(){return _e.skipHydrationRootTNode!==null}function QR(i){return _e.skipHydrationRootTNode===i}function ZR(){_e.skipHydrationRootTNode=null}function et(){return _e.lFrame.lView}function mr(){return _e.lFrame.tView}function An(){let i=GC();for(;i!==null&&i.type===64;)i=i.parent;return i}function GC(){return _e.lFrame.currentTNode}function XR(){let i=_e.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}function eu(i,t){let e=_e.lFrame;e.currentTNode=i,e.isParent=t}function HC(){return _e.lFrame.isParent}function JR(){_e.lFrame.isParent=!1}function eO(){let i=_e.lFrame,t=i.bindingRootIndex;return t===-1&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function tO(i){return _e.lFrame.bindingIndex=i}function nO(){return _e.lFrame.bindingIndex++}function rO(i){let t=_e.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function iO(){return _e.lFrame.inI18n}function oO(i,t){let e=_e.lFrame;e.bindingIndex=e.bindingRootIndex=i,Sf(t)}function aO(){return _e.lFrame.currentDirectiveIndex}function Sf(i){_e.lFrame.currentDirectiveIndex=i}function sO(i){let t=_e.lFrame.currentDirectiveIndex;return t===-1?null:i[t]}function jC(i){_e.lFrame.currentQueryIndex=i}function lO(i){let t=i[Ce];return t.type===2?t.declTNode:t.type===1?i[Tn]:null}function BC(i,t,e){if(e&me.SkipSelf){let r=t,o=i;for(;r=r.parent,r===null&&!(e&me.Host);)if(r=lO(o),r===null||(o=o[Ua],r.type&10))break;if(r===null)return!1;t=r,i=o}let n=_e.lFrame=UC();return n.currentTNode=t,n.lView=i,!0}function ih(i){let t=UC(),e=i[Ce];_e.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function UC(){let i=_e.lFrame,t=i===null?null:i.child;return t===null?WC(i):t}function WC(i){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=t),t}function qC(){let i=_e.lFrame;return _e.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var $C=qC;function oh(){let i=qC();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Wa(){return _e.lFrame.selectedIndex}function Oi(i){_e.lFrame.selectedIndex=i}function cO(){let i=_e.lFrame;return FC(i.tView,i.selectedIndex)}function uO(){return _e.lFrame.currentNamespace}var KC=!0;function YC(){return KC}function QC(i){KC=i}function dO(i,t,e){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(n){let a=IC(t);(e.preOrderHooks??=[]).push(i,a),(e.preOrderCheckHooks??=[]).push(i,a)}r&&(e.preOrderHooks??=[]).push(0-i,r),o&&((e.preOrderHooks??=[]).push(i,o),(e.preOrderCheckHooks??=[]).push(i,o))}function ZC(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){let o=i.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(i.contentHooks??=[]).push(-e,a),s&&((i.contentHooks??=[]).push(e,s),(i.contentCheckHooks??=[]).push(e,s)),l&&(i.viewHooks??=[]).push(-e,l),c&&((i.viewHooks??=[]).push(e,c),(i.viewCheckHooks??=[]).push(e,c)),u!=null&&(i.destroyHooks??=[]).push(e,u)}}function Ec(i,t,e){XC(i,t,3,e)}function xc(i,t,e,n){(i[ae]&3)===e&&XC(i,t,e,n)}function of(i,t){let e=i[ae];(e&3)===t&&(e&=16383,e+=1,i[ae]=e)}function XC(i,t,e,n){let r=n!==void 0?i[So]&65535:0,o=n??-1,a=t.length-1,s=0;for(let l=r;l<a;l++)if(typeof t[l+1]=="number"){if(s=t[l],n!=null&&s>=n)break}else t[l]<0&&(i[So]+=65536),(s<o||o==-1)&&(pO(i,e,t,l),i[So]=(i[So]&4294901760)+l+2),l++}function Vw(i,t){Un(4,i,t);let e=Vt(null);try{t.call(i)}finally{Vt(e),Un(5,i,t)}}function pO(i,t,e,n){let r=e[n]<0,o=e[n+1],a=r?-e[n]:e[n],s=i[a];r?i[ae]>>14<i[So]>>16&&(i[ae]&3)===t&&(i[ae]+=16384,Vw(s,o)):Vw(s,o)}var Ro=-1,Ai=class{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}};function fO(i){return i instanceof Ai}function hO(i){return(i.flags&8)!==0}function gO(i){return(i.flags&16)!==0}function JC(i){return i!==Ro}function Fc(i){let t=i&32767;return i&32767}function mO(i){return i>>16}function Nc(i,t){let e=mO(i),n=t;for(;e>0;)n=n[Ua],e--;return n}var Ef=!0;function Gw(i){let t=Ef;return Ef=i,t}var vO=256,eb=vO-1,tb=5,yO=0,Wn={};function wO(i,t,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(Pa)&&(n=e[Pa]),n==null&&(n=e[Pa]=yO++);let r=n&eb,o=1<<r;t.data[i+(r>>tb)]|=o}function Lc(i,t){let e=nb(i,t);if(e!==-1)return e;let n=t[Ce];n.firstCreatePass&&(i.injectorIndex=t.length,af(n.data,i),af(t,null),af(n.blueprint,null));let r=ah(i,t),o=i.injectorIndex;if(JC(r)){let a=Fc(r),s=Nc(r,t),l=s[Ce].data;for(let c=0;c<8;c++)t[o+c]=s[a+c]|l[a+c]}return t[o+8]=r,o}function af(i,t){i.push(0,0,0,0,0,0,0,0,t)}function nb(i,t){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||t[i.injectorIndex+8]===null?-1:i.injectorIndex}function ah(i,t){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let e=0,n=null,r=t;for(;r!==null;){if(n=sb(r),n===null)return Ro;if(e++,r=r[Ua],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return Ro}function xf(i,t,e){wO(i,t,e)}function rb(i,t,e){if(e&me.Optional||i!==void 0)return i;eh(t,"NodeInjector")}function ib(i,t,e,n){if(e&me.Optional&&n===void 0&&(n=null),!(e&(me.Self|me.Host))){let r=i[Ao],o=an(void 0);try{return r?r.get(t,n,e&me.Optional):gC(t,n,e&me.Optional)}finally{an(o)}}return rb(n,t,e)}function ob(i,t,e,n=me.Default,r){if(i!==null){if(t[ae]&2048&&!(n&me.Self)){let a=EO(i,t,e,n,Wn);if(a!==Wn)return a}let o=ab(i,t,e,n,Wn);if(o!==Wn)return o}return ib(t,e,n,r)}function ab(i,t,e,n,r){let o=_O(e);if(typeof o=="function"){if(!BC(t,i,n))return n&me.Host?rb(r,e,n):ib(t,e,n,r);try{let a;if(a=o(n),a==null&&!(n&me.Optional))eh(e);else return a}finally{$C()}}else if(typeof o=="number"){let a=null,s=nb(i,t),l=Ro,c=n&me.Host?t[$n][Tn]:null;for((s===-1||n&me.SkipSelf)&&(l=s===-1?ah(i,t):t[s+8],l===Ro||!jw(n,!1)?s=-1:(a=t[Ce],s=Fc(l),t=Nc(l,t)));s!==-1;){let u=t[Ce];if(Hw(o,s,u.data)){let d=CO(s,t,e,a,n,c);if(d!==Wn)return d}l=t[s+8],l!==Ro&&jw(n,t[Ce].data[s+8]===c)&&Hw(o,s,t)?(a=u,s=Fc(l),t=Nc(l,t)):s=-1}}return r}function CO(i,t,e,n,r,o){let a=t[Ce],s=a.data[i+8],l=n==null?Xc(s)&&Ef:n!=a&&(s.type&3)!==0,c=r&me.Host&&o===s,u=bO(s,a,e,l,c);return u!==null?Po(t,a,u,s):Wn}function bO(i,t,e,n,r){let o=i.providerIndexes,a=t.data,s=o&1048575,l=i.directiveStart,c=i.directiveEnd,u=o>>20,d=n?s:s+u,p=r?s+u:c;for(let f=d;f<p;f++){let h=a[f];if(f<l&&e===h||f>=l&&h.type===e)return f}if(r){let f=a[l];if(f&&Gr(f)&&f.type===e)return l}return null}function Po(i,t,e,n){let r=i[e],o=t.data;if(fO(r)){let a=r;a.resolving&&sR(aR(o[e]));let s=Gw(a.canSeeViewProviders);a.resolving=!0;let l,c=a.injectImpl?an(a.injectImpl):null,u=BC(i,n,me.Default);try{r=i[e]=a.factory(void 0,o,i,n),t.firstCreatePass&&e>=n.directiveStart&&dO(e,o[e],t)}finally{c!==null&&an(c),Gw(s),a.resolving=!1,$C()}}return r}function _O(i){if(typeof i=="string")return i.charCodeAt(0)||0;let t=i.hasOwnProperty(Pa)?i[Pa]:void 0;return typeof t=="number"?t>=0?t&eb:SO:t}function Hw(i,t,e){let n=1<<i;return!!(e[t+(i>>tb)]&n)}function jw(i,t){return!(i&me.Self)&&!(i&me.Host&&t)}var xi=class{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return ob(this._tNode,this._lView,t,Qc(n),e)}};function SO(){return new xi(An(),et())}function Pi(i){return Ba(()=>{let t=i.prototype.constructor,e=t[Oc]||Df(t),n=Object.prototype,r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){let o=r[Oc]||Df(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Df(i){return cC(i)?()=>{let t=Df(mt(i));return t&&t()}:Mo(i)}function EO(i,t,e,n,r){let o=i,a=t;for(;o!==null&&a!==null&&a[ae]&2048&&!(a[ae]&512);){let s=ab(o,a,e,n|me.Self,Wn);if(s!==Wn)return s;let l=o.parent;if(!l){let c=a[TC];if(c){let u=c.get(e,Wn,n);if(u!==Wn)return u}l=sb(a),a=a[Ua]}o=l}return r}function sb(i){let t=i[Ce],e=t.type;return e===2?t.declTNode:e===1?i[Tn]:null}var Cc="__parameters__";function xO(i){return function(...e){if(i){let n=i(...e);for(let r in n)this[r]=n[r]}}}function lb(i,t,e){return Ba(()=>{let n=xO(t);function r(...o){if(this instanceof r)return n.apply(this,o),this;let a=new r(...o);return s.annotation=a,s;function s(l,c,u){let d=l.hasOwnProperty(Cc)?l[Cc]:Object.defineProperty(l,Cc,{value:[]})[Cc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(a),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function DO(i){let t=Ht.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function TO(i){return typeof i=="function"}function sh(i,t){i.forEach(e=>Array.isArray(e)?sh(e,t):t(e))}function cb(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function kc(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function RO(i,t){let e=[];for(let n=0;n<i;n++)e.push(t);return e}function OO(i,t,e,n){let r=i.length;if(r==t)i.push(e,n);else if(r===1)i.push(n,i[0]),i[0]=e;else{for(r--,i.push(i[r-1],i[r]);r>t;){let o=r-2;i[r]=i[o],r--}i[t]=e,i[t+1]=n}}function AO(i,t,e){let n=qa(i,t);return n>=0?i[n|1]=e:(n=~n,OO(i,n,t,e)),n}function sf(i,t){let e=qa(i,t);if(e>=0)return i[e|1]}function qa(i,t){return IO(i,t,1)}function IO(i,t,e){let n=0,r=i.length>>e;for(;r!==n;){let o=n+(r-n>>1),a=i[o<<e];if(t===a)return o<<e;a>t?r=o:n=o+1}return~(r<<e)}var lh=mC(lb("Optional"),8);var ub=mC(lb("SkipSelf"),4);function MO(i){let t=[],e=new Map;function n(r){let o=e.get(r);if(!o){let a=i(r);e.set(r,o=a.then(LO))}return o}return zc.forEach((r,o)=>{let a=[];r.templateUrl&&a.push(n(r.templateUrl).then(c=>{r.template=c}));let s=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=s,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,p)=>{s.push(""),a.push(n(d).then(f=>{s[c+p]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&a.push(n(r.styleUrl).then(c=>{s.push(c),r.styleUrl=void 0}));let l=Promise.all(a).then(()=>kO(o));t.push(l)}),FO(),Promise.all(t).then(()=>{})}var zc=new Map,PO=new Set;function FO(){let i=zc;return zc=new Map,i}function NO(){return zc.size===0}function LO(i){return typeof i=="string"?i:i.text()}function kO(i){PO.delete(i)}var $a=new $("ENVIRONMENT_INITIALIZER"),db=new $("INJECTOR",-1),pb=new $("INJECTOR_DEF_TYPES"),Vc=class{get(t,e=Na){if(e===Na){let n=new Error(`NullInjectorError: No provider for ${vt(t)}!`);throw n.name="NullInjectorError",n}return e}};function tu(i){return{\u0275providers:i}}function zO(...i){return{\u0275providers:fb(!0,i),\u0275fromNgModule:!0}}function fb(i,...t){let e=[],n=new Set,r,o=a=>{e.push(a)};return sh(t,a=>{let s=a;Tf(s,o,[],n)&&(r||=[],r.push(s))}),r!==void 0&&hb(r,o),e}function hb(i,t){for(let e=0;e<i.length;e++){let{ngModule:n,providers:r}=i[e];ch(r,o=>{t(o,n)})}}function Tf(i,t,e,n){if(i=mt(i),!i)return!1;let r=null,o=Ow(i),a=!o&&Vr(i);if(!o&&!a){let l=i.ngModule;if(o=Ow(l),o)r=l;else return!1}else{if(a&&!a.standalone)return!1;r=i}let s=n.has(r);if(a){if(s)return!1;if(n.add(r),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of l)Tf(c,t,e,n)}}else if(o){if(o.imports!=null&&!s){n.add(r);let c;try{sh(o.imports,u=>{Tf(u,t,e,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&hb(c,t)}if(!s){let c=Mo(r)||(()=>new r);t({provide:r,useFactory:c,deps:sn},r),t({provide:pb,useValue:r,multi:!0},r),t({provide:$a,useValue:()=>F(r),multi:!0},r)}let l=o.providers;if(l!=null&&!s){let c=i;ch(l,u=>{t(u,c)})}}else return!1;return r!==i&&i.providers!==void 0}function ch(i,t){for(let e of i)uC(e)&&(e=e.\u0275providers),Array.isArray(e)?ch(e,t):t(e)}var VO=Ie({provide:String,useValue:Ie});function gb(i){return i!==null&&typeof i=="object"&&VO in i}function GO(i){return!!(i&&i.useExisting)}function HO(i){return!!(i&&i.useFactory)}function Fo(i){return typeof i=="function"}function jO(i){return!!i.useClass}var nu=new $("Set Injector scope."),Dc={},BO={},lf;function uh(){return lf===void 0&&(lf=new Vc),lf}var wt=class{},Ga=class extends wt{get destroyed(){return this._destroyed}constructor(t,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Of(t,a=>this.processProvider(a)),this.records.set(db,Eo(void 0,this)),r.has("environment")&&this.records.set(wt,Eo(void 0,this));let o=this.records.get(nu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pb,sn,me.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let e of this._ngOnDestroyHooks)e.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let e=Lr(this),n=an(void 0),r;try{return t()}finally{Lr(e),an(n)}}get(t,e=Na,n=me.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Tw))return t[Tw](this);n=Qc(n);let r,o=Lr(this),a=an(void 0);try{if(!(n&me.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=KO(t)&&Yc(t);c&&this.injectableDefInScope(c)?l=Eo(Rf(t),Dc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let s=n&me.Self?uh():this.parent;return e=n&me.Optional&&e===Na?null:e,s.get(t,e)}catch(s){if(s.name==="NullInjectorError"){if((s[Ac]=s[Ac]||[]).unshift(vt(t)),o)throw s;return wR(s,t,"R3InjectorError",this.source)}else throw s}finally{an(a),Lr(o)}}resolveInjectorInitializers(){let t=Lr(this),e=an(void 0),n;try{let r=this.get($a,sn,me.Self);for(let o of r)o()}finally{Lr(t),an(e)}}toString(){let t=[],e=this.records;for(let n of e.keys())t.push(vt(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(t){t=mt(t);let e=Fo(t)?t:mt(t&&t.provide),n=WO(t);if(!Fo(t)&&t.multi===!0){let r=this.records.get(e);r||(r=Eo(void 0,Dc,!0),r.factory=()=>Cf(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}else{let r=this.records.get(e)}this.records.set(e,n)}hydrate(t,e){return e.value===Dc&&(e.value=BO,e.value=e.factory()),typeof e.value=="object"&&e.value&&$O(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;let e=mt(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Rf(i){let t=Yc(i),e=t!==null?t.factory:Mo(i);if(e!==null)return e;if(i instanceof $)throw new N(204,!1);if(i instanceof Function)return UO(i);throw new N(204,!1)}function UO(i){let t=i.length;if(t>0){let n=RO(t,"?");throw new N(204,!1)}let e=uR(i);return e!==null?()=>e.factory(i):()=>new i}function WO(i){if(gb(i))return Eo(void 0,i.useValue);{let t=mb(i);return Eo(t,Dc)}}function mb(i,t,e){let n;if(Fo(i)){let r=mt(i);return Mo(r)||Rf(r)}else if(gb(i))n=()=>mt(i.useValue);else if(HO(i))n=()=>i.useFactory(...Cf(i.deps||[]));else if(GO(i))n=()=>F(mt(i.useExisting));else{let r=mt(i&&(i.useClass||i.provide));if(qO(i))n=()=>new r(...Cf(i.deps));else return Mo(r)||Rf(r)}return n}function Eo(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function qO(i){return!!i.deps}function $O(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function KO(i){return typeof i=="function"||typeof i=="object"&&i instanceof $}function Of(i,t){for(let e of i)Array.isArray(e)?Of(e,t):e&&uC(e)?Of(e.\u0275providers,t):t(e)}function Yn(i,t){i instanceof Ga&&i.assertNotDestroyed();let e,n=Lr(i),r=an(void 0);try{return t()}finally{Lr(n),an(r)}}function YO(i){if(!hC()&&!mR())throw new N(-203,!1)}function Bw(i,t=null,e=null,n){let r=vb(i,t,e,n);return r.resolveInjectorInitializers(),r}function vb(i,t=null,e=null,n,r=new Set){let o=[e||sn,zO(i)];return n=n||(typeof i=="object"?void 0:vt(i)),new Ga(o,t||uh(),n||null,r)}var cn=(()=>{let t=class t{static create(n,r){if(Array.isArray(n))return Bw({name:""},r,n,"");{let o=n.name??"";return Bw({name:o},n.parent,n.providers,o)}}};t.THROW_IF_NOT_FOUND=Na,t.NULL=new Vc,t.\u0275prov=G({token:t,providedIn:"any",factory:()=>F(db)}),t.__NG_ELEMENT_ID__=-1;let i=t;return i})();var Af;function yb(i){Af=i}function QO(){if(Af!==void 0)return Af;if(typeof document<"u")return document;throw new N(210,!1)}var Ka=new $("AppId",{providedIn:"root",factory:()=>ZO}),ZO="ng",dh=new $("Platform Initializer"),In=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var ru=new $("AnimationModuleType"),Ya=new $("CSP nonce",{providedIn:"root",factory:()=>QO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function wb(i){return i instanceof Function?i():i}function XO(i){return(i??j(cn)).get(In)==="browser"}function Cb(i){return(i.flags&128)===128}var hr=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(hr||{});var bb=new Map,JO=0;function eA(){return JO++}function tA(i){bb.set(i[Zc],i)}function nA(i){bb.delete(i[Zc])}var Uw="__ngContext__";function No(i,t){zr(t)?(i[Uw]=t[Zc],tA(t)):i[Uw]=t}var rA;function ph(i,t){return rA(i,t)}function fh(i){let t=i[Qe];return xn(t)?t[Qe]:t}function _b(i){return Eb(i[Va])}function Sb(i){return Eb(i[En])}function Eb(i){for(;i!==null&&!xn(i);)i=i[En];return i}function xo(i,t,e,n,r){if(n!=null){let o,a=!1;xn(n)?o=n:zr(n)&&(a=!0,n=n[gr]);let s=Kn(n);i===0&&e!==null?r==null?Rb(t,e,s):Gc(t,e,s,r||null,!0):i===1&&e!==null?Gc(t,e,s,r||null,!0):i===2?CA(t,s,a):i===3&&t.destroyNode(s),o!=null&&_A(t,i,o,e,r)}}function iA(i,t){return i.createText(t)}function xb(i,t,e){return i.createElement(t,e)}function oA(i,t){let e=t[yt];Qa(i,t,e,2,null,null),t[gr]=null,t[Tn]=null}function aA(i,t,e,n,r,o){n[gr]=r,n[Tn]=t,Qa(i,n,e,1,r,o)}function sA(i,t){Qa(i,t,t[yt],2,null,null)}function lA(i){let t=i[Va];if(!t)return cf(i[Ce],i);for(;t;){let e=null;if(zr(t))e=t[Va];else{let n=t[ln];n&&(e=n)}if(!e){for(;t&&!t[En]&&t!==i;)zr(t)&&cf(t[Ce],t),t=t[Qe];t===null&&(t=i),zr(t)&&cf(t[Ce],t),e=t&&t[En]}t=e}}function cA(i,t,e,n){let r=ln+n,o=e.length;n>0&&(e[r-1][En]=t),n<o-ln?(t[En]=e[r],cb(e,ln+n,t)):(e.push(t),t[En]=null),t[Qe]=e;let a=t[th];a!==null&&e!==a&&uA(a,t);let s=t[nh];s!==null&&s.insertView(i),kC(t),t[ae]|=128}function uA(i,t){let e=i[Pc],r=t[Qe][Qe][$n];t[$n]!==r&&(i[ae]|=Io.HasTransplantedViews),e===null?i[Pc]=[t]:e.push(t)}function Db(i,t){let e=i[Pc],n=e.indexOf(t),r=t[Qe];e.splice(n,1)}function If(i,t){if(i.length<=ln)return;let e=ln+t,n=i[e];if(n){let r=n[th];r!==null&&r!==i&&Db(r,n),t>0&&(i[e-1][En]=n[En]);let o=kc(i,ln+t);oA(n[Ce],n);let a=o[nh];a!==null&&a.detachView(o[Ce]),n[Qe]=null,n[En]=null,n[ae]&=-129}return n}function Tb(i,t){if(!(t[ae]&256)){let e=t[yt];e.destroyNode&&Qa(i,t,e,3,null,null),lA(t)}}function cf(i,t){if(!(t[ae]&256)){t[ae]&=-129,t[ae]|=256,t[Di]&&Jy(t[Di]),pA(i,t),dA(i,t),t[Ce].type===1&&t[yt].destroy();let e=t[th];if(e!==null&&xn(t[Qe])){e!==t[Qe]&&Db(e,t);let n=t[nh];n!==null&&n.detachView(i)}nA(t)}}function dA(i,t){let e=i.cleanup,n=t[ka];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let a=e[o+3];a>=0?n[a]():n[-a].unsubscribe(),o+=2}else{let a=n[e[o+1]];e[o].call(a)}n!==null&&(t[ka]=null);let r=t[kr];if(r!==null){t[kr]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function pA(i,t){let e;if(i!=null&&(e=i.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let r=t[e[n]];if(!(r instanceof Ai)){let o=e[n+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=r[o[a]],l=o[a+1];Un(4,s,l);try{l.call(s)}finally{Un(5,s,l)}}else{Un(4,r,o);try{o.call(r)}finally{Un(5,r,o)}}}}}function fA(i,t,e){return hA(i,t.parent,e)}function hA(i,t,e){let n=t;for(;n!==null&&n.type&40;)t=n,n=t.parent;if(n===null)return e[gr];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=i.data[n.directiveStart+r];if(o===qn.None||o===qn.Emulated)return null}return On(n,e)}}function Gc(i,t,e,n,r){i.insertBefore(t,e,n,r)}function Rb(i,t,e){i.appendChild(t,e)}function Ww(i,t,e,n,r){n!==null?Gc(i,t,e,n,r):Rb(i,t,e)}function gA(i,t,e,n){i.removeChild(t,e,n)}function hh(i,t){return i.parentNode(t)}function mA(i,t){return i.nextSibling(t)}function vA(i,t,e){return wA(i,t,e)}function yA(i,t,e){return i.type&40?On(i,e):null}var wA=yA,qw;function Ob(i,t,e,n){let r=fA(i,n,t),o=t[yt],a=n.parent||t[Tn],s=vA(a,n,t);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Ww(o,r,e[l],s,!1);else Ww(o,r,e,s,!1);qw!==void 0&&qw(o,n,t,e,r)}function Tc(i,t){if(t!==null){let e=t.type;if(e&3)return On(t,i);if(e&4)return Mf(-1,i[t.index]);if(e&8){let n=t.child;if(n!==null)return Tc(i,n);{let r=i[t.index];return xn(r)?Mf(-1,r):Kn(r)}}else{if(e&32)return ph(t,i)()||Kn(i[t.index]);{let n=Ab(i,t);if(n!==null){if(Array.isArray(n))return n[0];let r=fh(i[$n]);return Tc(r,n)}else return Tc(i,t.next)}}}return null}function Ab(i,t){if(t!==null){let n=i[$n][Tn],r=t.projection;return n.projection[r]}return null}function Mf(i,t){let e=ln+i+1;if(e<t.length){let n=t[e],r=n[Ce].firstChild;if(r!==null)return Tc(n,r)}return t[Ri]}function CA(i,t,e){let n=hh(i,t);n&&gA(i,n,t,e)}function gh(i,t,e,n,r,o,a){for(;e!=null;){let s=n[e.index],l=e.type;if(a&&t===0&&(s&&No(Kn(s),n),e.flags|=2),(e.flags&32)!==32)if(l&8)gh(i,t,e.child,n,r,o,!1),xo(t,i,r,s,o);else if(l&32){let c=ph(e,n),u;for(;u=c();)xo(t,i,r,u,o);xo(t,i,r,s,o)}else l&16?bA(i,t,n,e,r,o):xo(t,i,r,s,o);e=a?e.projectionNext:e.next}}function Qa(i,t,e,n,r,o){gh(e,n,i.firstChild,t,r,o,!1)}function bA(i,t,e,n,r,o){let a=e[$n],l=a[Tn].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];xo(t,i,r,u,o)}else{let c=l,u=a[Qe];Cb(n)&&(c.flags|=128),gh(i,t,c,u,r,o,!0)}}function _A(i,t,e,n,r){let o=e[Ri],a=Kn(e);o!==a&&xo(t,i,n,o,r);for(let s=ln;s<e.length;s++){let l=e[s];Qa(l[Ce],l,i,t,n,o)}}function SA(i,t,e,n,r){if(t)r?i.addClass(e,n):i.removeClass(e,n);else{let o=n.indexOf("-")===-1?void 0:hr.DashCase;r==null?i.removeStyle(e,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=hr.Important),i.setStyle(e,n,r,o))}}function EA(i,t,e){i.setAttribute(t,"style",e)}function Ib(i,t,e){e===""?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e)}function Mb(i,t,e){let{mergedAttrs:n,classes:r,styles:o}=e;n!==null&&bf(i,t,n),r!==null&&Ib(i,t,r),o!==null&&EA(i,t,o)}var Pf=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eR})`}};function mh(i){return i instanceof Pf?i.changingThisBreaksApplicationSecurity:i}var xA="h",DA="b";var TA=(i,t,e)=>null;function vh(i,t,e=!1){return TA(i,t,e)}var Ff=class{},Hc=class{};function RA(i){let t=Error(`No component factory found for ${vt(i)}.`);return t[OA]=i,t}var OA="ngComponent";var Nf=class{resolveComponentFactory(t){throw RA(t)}},Go=(()=>{let t=class t{};t.NULL=new Nf;let i=t;return i})();function AA(){return yh(An(),et())}function yh(i,t){return new He(On(i,t))}var He=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=AA;let i=t;return i})();var Ii=class{},Ho=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>IA();let i=t;return i})();function IA(){let i=et(),t=An(),e=Br(t.index,i);return(zr(e)?e:i)[yt]}var MA=(()=>{let t=class t{};t.\u0275prov=G({token:t,providedIn:"root",factory:()=>null});let i=t;return i})(),Hr=class{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}},PA=new Hr("17.0.7"),uf={};function jc(i,t,e,n,r=!1){for(;e!==null;){let o=t[e.index];o!==null&&n.push(Kn(o)),xn(o)&&FA(o,n);let a=e.type;if(a&8)jc(i,t,e.child,n);else if(a&32){let s=ph(e,t),l;for(;l=s();)n.push(l)}else if(a&16){let s=Ab(t,e);if(Array.isArray(s))n.push(...s);else{let l=fh(t[$n]);jc(l[Ce],l,s,n,!0)}}e=r?e.projectionNext:e.next}return n}function FA(i,t){for(let e=ln;e<i.length;e++){let n=i[e],r=n[Ce].firstChild;r!==null&&jc(n[Ce],n,r,t)}i[Ri]!==i[gr]&&t.push(i[Ri])}var Pb=[];function NA(i){return i[Di]??LA(i)}function LA(i){let t=Pb.pop()??Object.create(zA);return t.lView=i,t}function kA(i){i.lView[Di]!==i&&(i.lView=null,Pb.push(i))}var zA=Ae(W({},Qy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Jc(i.lView)},consumerOnSignalRead(){this.lView[Di]=this}}),VA="ngOriginalError";function df(i){return i[VA]}var Dn=class{constructor(){this._console=console}handleError(t){let e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&df(t);for(;e&&df(e);)e=df(e);return e||null}},Fb=new $("",{providedIn:"root",factory:()=>j(Dn).handleError.bind(void 0)});var Nb=!1,GA=new $("",{providedIn:"root",factory:()=>Nb});var Za={};function Xa(i){Lb(mr(),et(),Wa()+i,!1)}function Lb(i,t,e,n){if(!n)if((t[ae]&3)===3){let o=i.preOrderCheckHooks;o!==null&&Ec(t,o,e)}else{let o=i.preOrderHooks;o!==null&&xc(t,o,0,e)}Oi(e)}function he(i,t=me.Default){let e=et();if(e===null)return F(i,t);let n=An();return ob(n,e,mt(i),t)}function wh(){let i="invalid";throw new Error(i)}function HA(i,t){let e=i.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let r=e[n];if(r<0)Oi(~r);else{let o=r,a=e[++n],s=e[++n];oO(a,o);let l=t[o];s(2,l)}}}finally{Oi(-1)}}function Ch(i,t,e,n,r,o,a,s,l,c,u){let d=t.blueprint.slice();return d[gr]=r,d[ae]=n|4|128|8,(c!==null||i&&i[ae]&2048)&&(d[ae]|=2048),NC(d),d[Qe]=d[Ua]=i,d[fr]=e,d[za]=a||i&&i[za],d[yt]=s||i&&i[yt],d[Ao]=l||i&&i[Ao]||null,d[Tn]=o,d[Zc]=eA(),d[Ic]=u,d[TC]=c,d[$n]=t.type==2?i[$n]:d,d}function bh(i,t,e,n,r){let o=i.data[t];if(o===null)o=jA(i,t,e,n,r),iO()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=n,o.attrs=r;let a=XR();o.injectorIndex=a===null?-1:a.injectorIndex}return eu(o,!0),o}function jA(i,t,e,n,r){let o=GC(),a=HC(),s=a?o:o&&o.parent,l=i.data[t]=YA(i,s,e,t,n,r);return i.firstChild===null&&(i.firstChild=l),o!==null&&(a?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function kb(i,t,e,n){if(e===0)return-1;let r=t.length;for(let o=0;o<e;o++)t.push(n),i.blueprint.push(n),i.data.push(null);return r}function zb(i,t,e,n,r){let o=Wa(),a=n&2;try{Oi(-1),a&&t.length>Ti&&Lb(i,t,Ti,!1),Un(a?2:0,r),e(n,r)}finally{Oi(o),Un(a?3:1,r)}}function Vb(i,t,e){if(OC(t)){let n=Vt(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let a=r;a<o;a++){let s=i.data[a];s.contentQueries&&s.contentQueries(1,e[a],a)}}finally{Vt(n)}}}function BA(i,t,e){VC()&&(rI(i,t,e,On(e,t)),(e.flags&64)===64&&Bb(i,t,e))}function UA(i,t,e=On){let n=t.localNames;if(n!==null){let r=t.index+1;for(let o=0;o<n.length;o+=2){let a=n[o+1],s=a===-1?e(t,i):i[a];i[r++]=s}}}function Gb(i){let t=i.tView;return t===null||t.incompleteFirstPass?i.tView=Hb(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):t}function Hb(i,t,e,n,r,o,a,s,l,c,u){let d=Ti+n,p=d+r,f=WA(d,p),h=typeof c=="function"?c():c;return f[Ce]={type:i,blueprint:f,template:e,queries:null,viewQuery:s,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1,ssrId:u}}function WA(i,t){let e=[];for(let n=0;n<t;n++)e.push(n<i?null:Za);return e}function qA(i,t,e,n){let o=n.get(GA,Nb)||e===qn.ShadowDom,a=i.selectRootElement(t,o);return $A(a),a}function $A(i){KA(i)}var KA=i=>null;function YA(i,t,e,n,r,o){let a=t?t.injectorIndex:-1,s=0;return YR()&&(s|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $w(i,t,e,n){for(let r in i)if(i.hasOwnProperty(r)){e=e===null?{}:e;let o=i[r];n===null?Kw(e,t,r,o):n.hasOwnProperty(r)&&Kw(e,t,n[r],o)}return e}function Kw(i,t,e,n){i.hasOwnProperty(e)?i[e].push(t,n):i[e]=[t,n]}function QA(i,t,e){let n=t.directiveStart,r=t.directiveEnd,o=i.data,a=t.attrs,s=[],l=null,c=null;for(let u=n;u<r;u++){let d=o[u],p=e?e.get(d):null,f=p?p.inputs:null,h=p?p.outputs:null;l=$w(d.inputs,u,l,f),c=$w(d.outputs,u,c,h);let g=l!==null&&a!==null&&!CC(t)?pI(l,u,a):null;s.push(g)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=s,t.inputs=l,t.outputs=c}function ZA(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function XA(i,t,e,n,r,o,a,s){let l=On(t,e),c=t.inputs,u;!s&&c!=null&&(u=c[n])?(Sh(i,e,u,n,r),Xc(t)&&JA(e,t.index)):t.type&3?(n=ZA(n),r=a!=null?a(r,t.value||"",n):r,o.setProperty(l,n,r)):t.type&12}function JA(i,t){let e=Br(t,i);e[ae]&16||(e[ae]|=64)}function eI(i,t,e,n){if(VC()){let r=n===null?null:{"":-1},o=oI(i,e),a,s;o===null?a=s=null:[a,s]=o,a!==null&&jb(i,t,e,a,r,s),r&&aI(e,n,r)}e.mergedAttrs=La(e.mergedAttrs,e.attrs)}function jb(i,t,e,n,r,o){for(let c=0;c<n.length;c++)xf(Lc(e,t),i,n[c].type);lI(e,i.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let a=!1,s=!1,l=kb(i,t,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];e.mergedAttrs=La(e.mergedAttrs,u.hostAttrs),cI(i,e,t,l,u),sI(l,u,r),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let d=u.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((i.preOrderHooks??=[]).push(e.index),a=!0),!s&&(d.ngOnChanges||d.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(e.index),s=!0),l++}QA(i,e,o)}function tI(i,t,e,n,r){let o=r.hostBindings;if(o){let a=i.hostBindingOpCodes;a===null&&(a=i.hostBindingOpCodes=[]);let s=~t.index;nI(a)!=s&&a.push(s),a.push(e,n,o)}}function nI(i){let t=i.length;for(;t>0;){let e=i[--t];if(typeof e=="number"&&e<0)return e}return 0}function rI(i,t,e,n){let r=e.directiveStart,o=e.directiveEnd;Xc(e)&&uI(t,e,i.data[r+e.componentOffset]),i.firstCreatePass||Lc(e,t),No(n,t);let a=e.initialInputs;for(let s=r;s<o;s++){let l=i.data[s],c=Po(t,i,s,e);if(No(c,t),a!==null&&dI(t,s-r,c,l,e,a),Gr(l)){let u=Br(e.index,t);u[fr]=Po(t,i,s,e)}}}function Bb(i,t,e){let n=e.directiveStart,r=e.directiveEnd,o=e.index,a=aO();try{Oi(o);for(let s=n;s<r;s++){let l=i.data[s],c=t[s];Sf(s),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&iI(l,c)}}finally{Oi(-1),Sf(a)}}function iI(i,t){i.hostBindings!==null&&i.hostBindings(1,t)}function oI(i,t){let e=i.directiveRegistry,n=null,r=null;if(e)for(let o=0;o<e.length;o++){let a=e[o];if(TR(t,a.selectors,!1))if(n||(n=[]),Gr(a))if(a.findHostDirectiveDefs!==null){let s=[];r=r||new Map,a.findHostDirectiveDefs(a,s,r),n.unshift(...s,a);let l=s.length;Lf(i,t,l)}else n.unshift(a),Lf(i,t,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,n,r),n.push(a)}return n===null?null:[n,r]}function Lf(i,t,e){t.componentOffset=e,(i.components??=[]).push(t.index)}function aI(i,t,e){if(t){let n=i.localNames=[];for(let r=0;r<t.length;r+=2){let o=e[t[r+1]];if(o==null)throw new N(-301,!1);n.push(t[r],o)}}}function sI(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;Gr(t)&&(e[""]=i)}}function lI(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function cI(i,t,e,n,r){i.data[n]=r;let o=r.factory||(r.factory=Mo(r.type,!0)),a=new Ai(o,Gr(r),he);i.blueprint[n]=a,e[n]=a,tI(i,t,n,kb(i,e,r.hostVars,Za),r)}function uI(i,t,e){let n=On(t,i),r=Gb(e),o=i[za].rendererFactory,a=16;e.signals?a=4096:e.onPush&&(a=64);let s=_h(i,Ch(i,r,null,a,n,t,null,o.createRenderer(n,e),null,null,null));i[t.index]=s}function dI(i,t,e,n,r,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;){let l=a[s++],c=a[s++],u=a[s++];Ub(n,e,l,c,u)}}function Ub(i,t,e,n,r){let o=Vt(null);try{let a=i.inputTransforms;a!==null&&a.hasOwnProperty(n)&&(r=a[n].call(t,r)),i.setInput!==null?i.setInput(t,r,e,n):t[n]=r}finally{Vt(o)}}function pI(i,t,e){let n=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(i.hasOwnProperty(o)){n===null&&(n=[]);let a=i[o];for(let s=0;s<a.length;s+=2)if(a[s]===t){n.push(o,a[s+1],e[r+1]);break}}r+=2}return n}function fI(i,t,e,n){return[i,!0,0,t,null,n,null,e,null,null]}function Wb(i,t){let e=i.contentQueries;if(e!==null){let n=Vt(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],a=e[r+1];if(a!==-1){let s=i.data[a];jC(o),s.contentQueries(2,t[a],a)}}}finally{Vt(n)}}}function _h(i,t){return i[Va]?i[Lw][En]=t:i[Va]=t,i[Lw]=t,t}function kf(i,t,e){jC(0);let n=Vt(null);try{t(i,e)}finally{Vt(n)}}function hI(i){return i[ka]||(i[ka]=[])}function gI(i){return i.cleanup||(i.cleanup=[])}function qb(i,t){let e=i[Ao],n=e?e.get(Dn,null):null;n&&n.handleError(t)}function Sh(i,t,e,n,r){for(let o=0;o<e.length;){let a=e[o++],s=e[o++],l=t[a],c=i.data[a];Ub(c,l,n,s,r)}}var mI=100;function vI(i,t=!0){let e=i[za],n=e.rendererFactory,r=e.afterRenderEventManager,o=!1;o||(n.begin?.(),r?.begin());try{yI(i)}catch(a){throw t&&qb(i,a),a}finally{o||(n.end?.(),e.inlineEffectRunner?.flush(),r?.end())}}function yI(i){zf(i,0);let t=0;for(;LC(i);){if(t===mI)throw new N(103,!1);t++,zf(i,1)}}function wI(i,t,e,n){let r=t[ae];if((r&256)===256)return;let o=!1;!o&&t[za].inlineEffectRunner?.flush(),ih(t);let a=null,s=null;!o&&CI(i)&&(s=NA(t),a=Zy(s));try{NC(t),tO(i.bindingStartIndex),e!==null&&zb(i,t,e,2,n);let l=(r&3)===3;if(!o)if(l){let d=i.preOrderCheckHooks;d!==null&&Ec(t,d,null)}else{let d=i.preOrderHooks;d!==null&&xc(t,d,0,null),of(t,0)}if(bI(t),$b(t,0),i.contentQueries!==null&&Wb(i,t),!o)if(l){let d=i.contentCheckHooks;d!==null&&Ec(t,d)}else{let d=i.contentHooks;d!==null&&xc(t,d,1),of(t,1)}HA(i,t);let c=i.components;c!==null&&Yb(t,c,0);let u=i.viewQuery;if(u!==null&&kf(2,u,n),!o)if(l){let d=i.viewCheckHooks;d!==null&&Ec(t,d)}else{let d=i.viewHooks;d!==null&&xc(t,d,2),of(t,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),t[rf]){for(let d of t[rf])d();t[rf]=null}o||(t[ae]&=-73)}catch(l){throw Jc(t),l}finally{s!==null&&(Xy(s,a),kA(s)),oh()}}function CI(i){return i.type!==2}function $b(i,t){for(let e=_b(i);e!==null;e=Sb(e)){e[ae]&=~Io.HasChildViewsToRefresh;for(let n=ln;n<e.length;n++){let r=e[n];Kb(r,t)}}}function bI(i){for(let t=_b(i);t!==null;t=Sb(t)){if(!(t[ae]&Io.HasTransplantedViews))continue;let e=t[Pc];for(let n=0;n<e.length;n++){let r=e[n],o=r[Qe];UR(r)}}}function _I(i,t,e){let n=Br(t,i);Kb(n,e)}function Kb(i,t){rh(i)&&zf(i,t)}function zf(i,t){let n=i[Ce],r=i[ae],o=i[Di],a=!!(t===0&&r&16);if(a||=!!(r&64&&t===0),a||=!!(r&1024),a||=!!(o?.dirty&&Mp(o)),o&&(o.dirty=!1),i[ae]&=-9217,a)wI(n,i,n.template,i[fr]);else if(r&8192){$b(i,1);let s=n.components;s!==null&&Yb(i,s,1)}}function Yb(i,t,e){for(let n=0;n<t.length;n++)_I(i,t[n],e)}function Eh(i){for(;i;){i[ae]|=64;let t=fh(i);if(LR(i)&&!t)return i;i=t}return null}var Lo=class{get rootNodes(){let t=this._lView,e=t[Ce];return jc(e,t,e.firstChild,[])}constructor(t,e,n=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(t){this._lView[fr]=t}get destroyed(){return(this._lView[ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Qe];if(xn(t)){let e=t[Mc],n=e?e.indexOf(this):-1;n>-1&&(If(t,n),kc(e,n))}this._attachedToViewContainer=!1}Tb(this._lView[Ce],this._lView)}onDestroy(t){zC(this._lView,t)}markForCheck(){Eh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ae]&=-129}reattach(){kC(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,vI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,sA(this._lView[Ce],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=t}},Fi=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=SI;let i=t;return i})();function SI(i){return EI(An(),et(),(i&16)===16)}function EI(i,t,e){if(Xc(i)&&!e){let n=Br(i.index,t);return new Lo(n,n)}else if(i.type&47){let n=t[$n];return new Lo(n,t)}return null}var Qb=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=xI,t.__NG_ENV_ID__=n=>n;let i=t;return i})(),Vf=class extends Qb{constructor(t){super(),this._lView=t}onDestroy(t){return zC(this._lView,t),()=>WR(this._lView,t)}};function xI(){return new Vf(et())}var Yw=new Set;function iu(i){Yw.has(i)||(Yw.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}var Gf=class extends ot{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r=t,o=e||(()=>null),a=n;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=pf(o),r&&(r=pf(r)),a&&(a=pf(a)));let s=super.subscribe({next:r,error:o,complete:a});return t instanceof Be&&t.add(s),s}};function pf(i){return t=>{setTimeout(i,void 0,t)}}var A=Gf;function Qw(...i){}function DI(){let i=typeof Ht.requestAnimationFrame=="function",t=Ht[i?"requestAnimationFrame":"setTimeout"],e=Ht[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}var le=class i{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new A(!1),this.onMicrotaskEmpty=new A(!1),this.onStable=new A(!1),this.onError=new A(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=DI().nativeRequestAnimationFrame,OI(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new N(909,!1)}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,TI,Qw,Qw);try{return o.runTask(a,e,n)}finally{o.cancelTask(a)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}},TI={};function xh(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function RI(i){i.isCheckStableRunning||i.lastRequestAnimationFrameId!==-1||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ht,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Hf(i),i.isCheckStableRunning=!0,xh(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Hf(i))}function OI(i){let t=()=>{RI(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,o,a,s)=>{if(AI(s))return e.invokeTask(r,o,a,s);try{return Zw(i),e.invokeTask(r,o,a,s)}finally{(i.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&t(),Xw(i)}},onInvoke:(e,n,r,o,a,s,l)=>{try{return Zw(i),e.invoke(r,o,a,s,l)}finally{i.shouldCoalesceRunChangeDetection&&t(),Xw(i)}},onHasTask:(e,n,r,o)=>{e.hasTask(r,o),n===r&&(o.change=="microTask"?(i._hasPendingMicrotasks=o.microTask,Hf(i),xh(i)):o.change=="macroTask"&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,n,r,o)=>(e.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}function Hf(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.lastRequestAnimationFrameId!==-1?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function Zw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Xw(i){i._nesting--,xh(i)}var jf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new A,this.onMicrotaskEmpty=new A,this.onStable=new A,this.onError=new A}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}},Zb=new $("",{providedIn:"root",factory:Xb});function Xb(){let i=j(le),t=!0,e=new ue(r=>{t=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{r.next(t),r.complete()})}),n=new ue(r=>{let o;i.runOutsideAngular(()=>{o=i.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});let a=i.onUnstable.subscribe(()=>{le.assertInAngularZone(),t&&(t=!1,i.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}});return Kp(e,n.pipe(tf()))}function AI(i){return!Array.isArray(i)||i.length!==1?!1:i[0].data?.__ignore_ng_zone__===!0}function II(i="zone.js",t){return i==="noop"?new jf:i==="zone.js"?new le(t):i}var Do=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Do||{}),MI={destroy(){}};function Dh(i,t){!t&&YO(Dh);let e=t?.injector??j(cn);if(!XO(e))return MI;iu("NgAfterNextRender");let n=e.get(Jb),r=n.handler??=new Uf,o=t?.phase??Do.MixedReadWrite,a=()=>{r.unregister(l),s()},s=e.get(Qb).onDestroy(a),l=new Bf(e,o,()=>{a(),i()});return r.register(l),{destroy:a}}var Bf=class{constructor(t,e,n){this.phase=e,this.callbackFn=n,this.zone=t.get(le),this.errorHandler=t.get(Dn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},Uf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Do.EarlyRead]:new Set,[Do.Write]:new Set,[Do.MixedReadWrite]:new Set,[Do.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new N(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let e of t)e.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},Jb=(()=>{let t=class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new t});let i=t;return i})();function PI(i,t){let e=Br(t,i),n=e[Ce];FI(n,e);let r=e[gr];r!==null&&e[Ic]===null&&(e[Ic]=vh(r,e[Ao])),e_(n,e,e[fr])}function FI(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])}function e_(i,t,e){ih(t);try{let n=i.viewQuery;n!==null&&kf(1,n,e);let r=i.template;r!==null&&zb(i,t,r,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Wb(i,t),i.staticViewQueries&&kf(2,i.viewQuery,e);let o=i.components;o!==null&&NI(t,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[ae]&=-5,oh()}}function NI(i,t){for(let e=0;e<t.length;e++)PI(i,t[e])}function Wf(i,t,e){let n=e?i.styles:null,r=e?i.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)r=Dw(r,s);else if(o==2){let l=s,c=t[++a];n=Dw(n,l+": "+c+";")}}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=r:i.classesWithoutHost=r}var Bc=class extends Go{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=Vr(t);return new ko(e,this.ngModule)}};function Jw(i){let t=[];for(let e in i)if(i.hasOwnProperty(e)){let n=i[e];t.push({propName:n,templateName:e})}return t}function LI(i){let t=i.toLowerCase();return t==="svg"?GR:t==="math"?HR:null}var qf=class{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,n){n=Qc(n);let r=this.injector.get(t,uf,n);return r!==uf||e===uf?r:this.parentInjector.get(t,e,n)}},ko=class extends Hc{get inputs(){let t=this.componentDef,e=t.inputTransforms,n=Jw(t.inputs);if(e!==null)for(let r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return Jw(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=IR(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,n,r){r=r||this.ngModule;let o=r instanceof wt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new qf(t,o):t,s=a.get(Ii,null);if(s===null)throw new N(407,!1);let l=a.get(MA,null),c=a.get(Jb,null),u={rendererFactory:s,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c},d=s.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",f=n?qA(d,n,this.componentDef.encapsulation,a):xb(d,p,LI(p)),h=4608,g=this.componentDef.onPush?576:528,y=this.componentDef.signals?h:g,w=null;f!==null&&(w=vh(f,a,!0));let C=Hb(0,null,null,1,0,null,null,null,null,null,null),b=Ch(null,C,null,y,null,null,u,d,a,null,w);ih(b);let _,D;try{let R=this.componentDef,M,O=null;R.findHostDirectiveDefs?(M=[],O=new Map,R.findHostDirectiveDefs(R,M,O),M.push(R)):M=[R];let k=kI(b,f),V=zI(k,f,R,M,b,u,d);D=FC(C,Ti),f&&HI(d,R,f,n),e!==void 0&&jI(D,this.ngContentSelectors,e),_=GI(V,R,M,O,b,[BI]),e_(C,b,null)}finally{oh()}return new $f(this.componentType,_,yh(D,b),b,D)}},$f=class extends Ff{constructor(t,e,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Lo(r,void 0,!1),this.componentType=t}setInput(t,e){let n=this._tNode.inputs,r;if(n!==null&&(r=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let o=this._rootLView;Sh(o[Ce],o,r,t,e),this.previousInputValues.set(t,e);let a=Br(this._tNode.index,o);Eh(a)}}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function kI(i,t){let e=i[Ce],n=Ti;return i[n]=t,bh(e,n,2,"#host",null)}function zI(i,t,e,n,r,o,a){let s=r[Ce];VI(n,i,t,a);let l=null;t!==null&&(l=vh(t,r[Ao]));let c=o.rendererFactory.createRenderer(t,e),u=16;e.signals?u=4096:e.onPush&&(u=64);let d=Ch(r,Gb(e),null,u,r[i.index],i,o,c,null,null,l);return s.firstCreatePass&&Lf(s,i,n.length-1),_h(r,d),r[i.index]=d}function VI(i,t,e,n){for(let r of i)t.mergedAttrs=La(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Wf(t,t.mergedAttrs,!0),e!==null&&Mb(n,e,t))}function GI(i,t,e,n,r,o){let a=An(),s=r[Ce],l=On(a,r);jb(s,r,a,e,null,n);for(let u=0;u<e.length;u++){let d=a.directiveStart+u,p=Po(r,s,d,a);No(p,r)}Bb(s,r,a),l&&No(l,r);let c=Po(r,s,a.directiveStart+a.componentOffset,a);if(i[fr]=r[fr]=c,o!==null)for(let u of o)u(c,t);return Vb(s,a,i),c}function HI(i,t,e,n){if(n)bf(i,e,["ng-version",PA.full]);else{let{attrs:r,classes:o}=MR(t.selectors[0]);r&&bf(i,e,r),o&&o.length>0&&Ib(i,e,o.join(" "))}}function jI(i,t,e){let n=i.projection=[];for(let r=0;r<t.length;r++){let o=e[r];n.push(o!=null?Array.from(o):null)}}function BI(){let i=An();ZC(et()[Ce],i)}function UI(i){return Object.getPrototypeOf(i.prototype).constructor}function Mn(i){let t=UI(i.type),e=!0,n=[i];for(;t;){let r;if(Gr(i))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new N(903,!1);r=t.\u0275dir}if(r){if(e){n.push(r);let a=i;a.inputs=bc(i.inputs),a.inputTransforms=bc(i.inputTransforms),a.declaredInputs=bc(i.declaredInputs),a.outputs=bc(i.outputs);let s=r.hostBindings;s&&KI(i,s);let l=r.viewQuery,c=r.contentQueries;if(l&&qI(i,l),c&&$I(i,c),wc(i.inputs,r.inputs),wc(i.declaredInputs,r.declaredInputs),wc(i.outputs,r.outputs),r.inputTransforms!==null&&(a.inputTransforms===null&&(a.inputTransforms={}),wc(a.inputTransforms,r.inputTransforms)),Gr(r)&&r.data.animation){let u=i.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(i),s===Mn&&(e=!1)}}t=Object.getPrototypeOf(t)}WI(n)}function WI(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){let r=i[n];r.hostVars=t+=r.hostVars,r.hostAttrs=La(r.hostAttrs,e=La(e,r.hostAttrs))}}function bc(i){return i===Oo?{}:i===sn?[]:i}function qI(i,t){let e=i.viewQuery;e?i.viewQuery=(n,r)=>{t(n,r),e(n,r)}:i.viewQuery=t}function $I(i,t){let e=i.contentQueries;e?i.contentQueries=(n,r,o)=>{t(n,r,o),e(n,r,o)}:i.contentQueries=t}function KI(i,t){let e=i.hostBindings;e?i.hostBindings=(n,r)=>{t(n,r),e(n,r)}:i.hostBindings=t}function YI(i,t,e){return i[t]=e}function QI(i,t){return i[t]}function t_(i,t,e){let n=i[t];return Object.is(n,e)?!1:(i[t]=e,!0)}function _c(i,t){return i<<17|t<<2}function Mi(i){return i>>17&32767}function ZI(i){return(i&2)==2}function XI(i,t){return i&131071|t<<17}function Kf(i){return i|2}function zo(i){return(i&131068)>>2}function ff(i,t){return i&-131069|t<<2}function JI(i){return(i&1)===1}function Yf(i){return i|1}function eM(i,t,e,n,r,o){let a=o?t.classBindings:t.styleBindings,s=Mi(a),l=zo(a);i[n]=e;let c=!1,u;if(Array.isArray(e)){let d=e;u=d[1],(u===null||qa(d,u)>0)&&(c=!0)}else u=e;if(r)if(l!==0){let p=Mi(i[s+1]);i[n+1]=_c(p,s),p!==0&&(i[p+1]=ff(i[p+1],n)),i[s+1]=XI(i[s+1],n)}else i[n+1]=_c(s,0),s!==0&&(i[s+1]=ff(i[s+1],n)),s=n;else i[n+1]=_c(l,0),s===0?s=n:i[l+1]=ff(i[l+1],n),l=n;c&&(i[n+1]=Kf(i[n+1])),eC(i,u,n,!0,o),eC(i,u,n,!1,o),tM(t,u,i,n,o),a=_c(s,l),o?t.classBindings=a:t.styleBindings=a}function tM(i,t,e,n,r){let o=r?i.residualClasses:i.residualStyles;o!=null&&typeof t=="string"&&qa(o,t)>=0&&(e[n+1]=Yf(e[n+1]))}function eC(i,t,e,n,r){let o=i[e+1],a=t===null,s=n?Mi(o):zo(o),l=!1;for(;s!==0&&(l===!1||a);){let c=i[s],u=i[s+1];nM(c,t)&&(l=!0,i[s+1]=n?Yf(u):Kf(u)),s=n?Mi(u):zo(u)}l&&(i[e+1]=n?Kf(o):Yf(o))}function nM(i,t){return i===null||t==null||(Array.isArray(i)?i[1]:i)===t?!0:Array.isArray(i)&&typeof t=="string"?qa(i,t)>=0:!1}function jo(i,t,e){let n=et(),r=nO();if(t_(n,r,t)){let o=mr(),a=cO();XA(o,a,n,i,t,n[yt],e,!1)}return jo}function tC(i,t,e,n,r){let o=t.inputs,a=r?"class":"style";Sh(i,e,o[a],a,n)}function Pn(i,t){return rM(i,t,null,!0),Pn}function rM(i,t,e,n){let r=et(),o=mr(),a=rO(2);if(o.firstUpdatePass&&oM(o,i,a,n),t!==Za&&t_(r,a,t)){let s=o.data[Wa()];uM(o,s,r,r[yt],i,r[a+1]=dM(t,e),n,a)}}function iM(i,t){return t>=i.expandoStartIndex}function oM(i,t,e,n){let r=i.data;if(r[e+1]===null){let o=r[Wa()],a=iM(i,e);pM(o,n)&&t===null&&!a&&(t=!1),t=aM(r,o,t,n),eM(r,o,t,e,a,n)}}function aM(i,t,e,n){let r=sO(i),o=n?t.residualClasses:t.residualStyles;if(r===null)(n?t.classBindings:t.styleBindings)===0&&(e=hf(null,i,t,e,n),e=Ha(e,t.attrs,n),o=null);else{let a=t.directiveStylingLast;if(a===-1||i[a]!==r)if(e=hf(r,i,t,e,n),o===null){let l=sM(i,t,n);l!==void 0&&Array.isArray(l)&&(l=hf(null,i,t,l[1],n),l=Ha(l,t.attrs,n),lM(i,t,n,l))}else o=cM(i,t,n)}return o!==void 0&&(n?t.residualClasses=o:t.residualStyles=o),e}function sM(i,t,e){let n=e?t.classBindings:t.styleBindings;if(zo(n)!==0)return i[Mi(n)]}function lM(i,t,e,n){let r=e?t.classBindings:t.styleBindings;i[Mi(r)]=n}function cM(i,t,e){let n,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let a=i[o].hostAttrs;n=Ha(n,a,e)}return Ha(n,t.attrs,e)}function hf(i,t,e,n,r){let o=null,a=e.directiveEnd,s=e.directiveStylingLast;for(s===-1?s=e.directiveStart:s++;s<a&&(o=t[s],n=Ha(n,o.hostAttrs,r),o!==i);)s++;return i!==null&&(e.directiveStylingLast=s),n}function Ha(i,t,e){let n=e?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?r=a:r===n&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),AO(i,a,e?!0:t[++o]))}return i===void 0?null:i}function uM(i,t,e,n,r,o,a,s){if(!(t.type&3))return;let l=i.data,c=l[s+1],u=JI(c)?nC(l,t,e,r,zo(c),a):void 0;if(!Uc(u)){Uc(o)||ZI(c)&&(o=nC(l,null,e,r,s,a));let d=jR(Wa(),e);SA(n,a,d,r,o)}}function nC(i,t,e,n,r,o){let a=t===null,s;for(;r>0;){let l=i[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,p=e[r+1];p===Za&&(p=d?sn:void 0);let f=d?sf(p,n):u===n?p:void 0;if(c&&!Uc(f)&&(f=sf(l,n)),Uc(f)&&(s=f,a))return s;let h=i[r+1];r=a?Mi(h):zo(h)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(s=sf(l,n))}return s}function Uc(i){return i!==void 0}function dM(i,t){return i==null||i===""||(typeof t=="string"?i=i+t:typeof i=="object"&&(i=vt(mh(i)))),i}function pM(i,t){return(i.flags&(t?8:16))!==0}var h9=new RegExp(`^(\\d+)*(${DA}|${xA})*(.*)`);var fM=(i,t)=>null;function rC(i,t){return fM(i,t)}function iC(i,t){return!t||t.firstChild===null||Cb(i)}function hM(i,t,e,n=!0){let r=t[Ce];if(cA(r,t,i,e),n){let a=Mf(e,i),s=t[yt],l=hh(s,i[Ri]);l!==null&&aA(r,i[Tn],s,t,l,a)}let o=t[Ic];o!==null&&o.firstChild!==null&&(o.firstChild=null)}var Bo=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=gM;let i=t;return i})();function gM(){let i=An();return vM(i,et())}var mM=Bo,n_=class extends mM{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return yh(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){let t=ah(this._hostTNode,this._hostLView);if(JC(t)){let e=Nc(t,this._hostLView),n=Fc(t),r=e[Ce].data[n+8];return new xi(r,e)}else return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=oC(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(t,e,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let a=rC(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(e||{},o,a);return this.insertImpl(s,r,iC(this._hostTNode,a)),s}createComponent(t,e,n,r,o){let a=t&&!TO(t),s;if(a)s=e;else{let h=e||{};s=h.index,n=h.injector,r=h.projectableNodes,o=h.environmentInjector||h.ngModuleRef}let l=a?t:new ko(Vr(t)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let g=(a?c:this.parentInjector).get(wt,null);g&&(o=g)}let u=Vr(l.componentType??{}),d=rC(this._lContainer,u?.id??null),p=d?.firstChild??null,f=l.create(c,r,p,o);return this.insertImpl(f.hostView,s,iC(this._hostTNode,d)),f}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,n){let r=t._lView;if(BR(r)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let l=r[Qe],c=new n_(l,l[Tn],l[Qe]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(e),a=this._lContainer;return hM(a,r,o,n),t.attachToViewContainerRef(),cb(gf(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=oC(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),n=If(this._lContainer,e);n&&(kc(gf(this._lContainer),e),Tb(n[Ce],n))}detach(t){let e=this._adjustIndex(t,-1),n=If(this._lContainer,e);return n&&kc(gf(this._lContainer),e)!=null?new Lo(n):null}_adjustIndex(t,e=0){return t??this.length+e}};function oC(i){return i[Mc]}function gf(i){return i[Mc]||(i[Mc]=[])}function vM(i,t){let e,n=t[i.index];return xn(n)?e=n:(e=fI(n,t,null,i),t[i.index]=e,_h(t,e)),wM(e,t,i,n),new n_(e,i,t)}function yM(i,t){let e=i[yt],n=e.createComment(""),r=On(t,i),o=hh(e,r);return Gc(e,o,n,mA(e,r),!1),n}var wM=CM;function CM(i,t,e,n){if(i[Ri])return;let r;e.type&8?r=Kn(n):r=yM(t,e),i[Ri]=r}function bM(i,t,e,n,r,o){let a=t.consts,s=zw(a,r),l=bh(t,i,2,n,s);return eI(t,e,l,zw(a,o)),l.attrs!==null&&Wf(l,l.attrs,!1),l.mergedAttrs!==null&&Wf(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function at(i,t,e,n){let r=et(),o=mr(),a=Ti+i,s=r[yt],l=o.firstCreatePass?bM(a,o,r,t,e,n):o.data[a],c=_M(o,r,l,s,t,i);r[a]=c;let u=AC(l);return eu(l,!0),Mb(s,c,l),(l.flags&32)!==32&&YC()&&Ob(o,r,c,l),qR()===0&&No(c,r),$R(),u&&(BA(o,r,l),Vb(o,l,r)),n!==null&&UA(r,l),at}function st(){let i=An();HC()?JR():(i=i.parent,eu(i,!1));let t=i;QR(t)&&ZR(),KR();let e=mr();return e.firstCreatePass&&(ZC(e,i),OC(i)&&e.queries.elementEnd(i)),t.classesWithoutHost!=null&&hO(t)&&tC(e,t,et(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&gO(t)&&tC(e,t,et(),t.stylesWithoutHost,!1),st}function Dt(i,t,e,n){return at(i,t,e,n),st(),Dt}var _M=(i,t,e,n,r,o)=>(QC(!0),xb(n,r,uO()));var Wc="en-US";var SM=Wc;function EM(i){lR(i,"Expected localeId to be defined"),typeof i=="string"&&(SM=i.toLowerCase().replace(/_/g,"-"))}function Ni(i){return!!i&&typeof i.then=="function"}function r_(i){return!!i&&typeof i.subscribe=="function"}function jt(i,t,e,n){let r=et(),o=mr(),a=An();return DM(o,r,r[yt],a,i,t,n),jt}function xM(i,t,e,n){let r=i.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===e&&r[o+1]===n){let s=t[ka],l=r[o+2];return s.length>l?s[l]:null}typeof a=="string"&&(o+=2)}return null}function DM(i,t,e,n,r,o,a){let s=AC(n),c=i.firstCreatePass&&gI(i),u=t[fr],d=hI(t),p=!0;if(n.type&3||a){let g=On(n,t),y=a?a(g):g,w=d.length,C=a?_=>a(Kn(_[n.index])):n.index,b=null;if(!a&&s&&(b=xM(i,t,r,n.index)),b!==null){let _=b.__ngLastListenerFn__||b;_.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,p=!1}else{o=sC(n,t,u,o,!1);let _=e.listen(y,r,o);d.push(o,_),c&&c.push(r,C,w,w+1)}}else o=sC(n,t,u,o,!1);let f=n.outputs,h;if(p&&f!==null&&(h=f[r])){let g=h.length;if(g)for(let y=0;y<g;y+=2){let w=h[y],C=h[y+1],D=t[w][C].subscribe(o),R=d.length;d.push(o,D),c&&c.push(r,n.index,R,-(R+1))}}}function aC(i,t,e,n){try{return Un(6,t,e),e(n)!==!1}catch(r){return qb(i,r),!1}finally{Un(7,t,e)}}function sC(i,t,e,n,r){return function o(a){if(a===Function)return n;let s=i.componentOffset>-1?Br(i.index,t):t;Eh(s);let l=aC(t,e,n,a),c=o.__ngNextListenerFn__;for(;c;)l=aC(t,e,c,a)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&a.preventDefault(),l}}function Li(i,t=""){let e=et(),n=mr(),r=i+Ti,o=n.firstCreatePass?bh(n,r,1,t,null):n.data[r],a=TM(n,e,o,t,i);e[r]=a,YC()&&Ob(n,e,a,o),eu(o,!1)}var TM=(i,t,e,n,r)=>(QC(!0),iA(t[yt],n));function RM(i,t,e){let n=mr();if(n.firstCreatePass){let r=Gr(i);Qf(e,n.data,n.blueprint,r,!0),Qf(t,n.data,n.blueprint,r,!1)}}function Qf(i,t,e,n,r){if(i=mt(i),Array.isArray(i))for(let o=0;o<i.length;o++)Qf(i[o],t,e,n,r);else{let o=mr(),a=et(),s=An(),l=Fo(i)?i:mt(i.provide),c=mb(i),u=s.providerIndexes&1048575,d=s.directiveStart,p=s.providerIndexes>>20;if(Fo(i)||!i.multi){let f=new Ai(c,r,he),h=vf(l,t,r?u:u+p,d);h===-1?(xf(Lc(s,a),o,l),mf(o,i,t.length),t.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(f),a.push(f)):(e[h]=f,a[h]=f)}else{let f=vf(l,t,u+p,d),h=vf(l,t,u,u+p),g=f>=0&&e[f],y=h>=0&&e[h];if(r&&!y||!r&&!g){xf(Lc(s,a),o,l);let w=IM(r?AM:OM,e.length,r,n,c);!r&&y&&(e[h].providerFactory=w),mf(o,i,t.length,0),t.push(l),s.directiveStart++,s.directiveEnd++,r&&(s.providerIndexes+=1048576),e.push(w),a.push(w)}else{let w=i_(e[r?h:f],c,!r&&n);mf(o,i,f>-1?f:h,w)}!r&&n&&y&&e[h].componentProviders++}}}function mf(i,t,e,n){let r=Fo(t),o=jO(t);if(r||o){let l=(o?mt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=i.destroyHooks||(i.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(e);u===-1?c.push(e,[n,l]):c[u+1].push(n,l)}else c.push(e,l)}}}function i_(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function vf(i,t,e,n){for(let r=e;r<n;r++)if(t[r]===i)return r;return-1}function OM(i,t,e,n){return Zf(this.multi,[])}function AM(i,t,e,n){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,s=Po(e,e[Ce],this.providerFactory.index,n);o=s.slice(0,a),Zf(r,o);for(let l=a;l<s.length;l++)o.push(s[l])}else o=[],Zf(r,o);return o}function Zf(i,t){for(let e=0;e<i.length;e++){let n=i[e];t.push(n())}return t}function IM(i,t,e,n,r){let o=new Ai(i,e,he);return o.multi=[],o.index=t,o.componentProviders=0,i_(o,r,n&&!e),o}function Fn(i,t=[]){return e=>{e.providersResolver=(n,r)=>RM(n,r?r(i):i,t)}}var jr=class{},ja=class{};var qc=class extends jr{constructor(t,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bc(this);let r=EC(t);this._bootstrapComponents=wb(r.bootstrap),this._r3Injector=vb(t,e,[{provide:jr,useValue:this},{provide:Go,useValue:this.componentFactoryResolver},...n],vt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},$c=class extends ja{constructor(t){super(),this.moduleType=t}create(t){return new qc(this.moduleType,t,[])}};function MM(i,t,e){return new qc(i,t,e)}var Xf=class extends jr{constructor(t){super(),this.componentFactoryResolver=new Bc(this),this.instance=null;let e=new Ga([...t.providers,{provide:jr,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],t.parent||uh(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ou(i,t,e=null){return new Xf({providers:i,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var PM=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=fb(!1,n.type),o=r.length>0?ou([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(F(wt))});let i=t;return i})();function o_(i){iu("NgStandalone"),i.getStandaloneInjector=t=>t.get(PM).getOrCreateStandaloneInjector(i)}function a_(i,t,e){let n=eO()+i,r=et();return r[n]===Za?YI(r,n,e?t.call(e):t()):QI(r,n)}var Sc=null;function FM(i){Sc!==null&&(i.defaultEncapsulation!==Sc.defaultEncapsulation||i.preserveWhitespaces!==Sc.preserveWhitespaces)||(Sc=i)}var au=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"});let i=t;return i})(),Uo=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}add(){this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),Jf=class{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},su=(()=>{let t=class t{compileModuleSync(n){return new $c(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=EC(n),a=wb(o.declarations).reduce((s,l)=>{let c=Vr(l);return c&&s.push(new ko(c)),s},[]);return new Jf(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),NM=new $("compilerOptions");var Th=new $(""),Ja=new $(""),lu=(()=>{let t=class t{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rh||(LM(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}};t.\u0275fac=function(r){return new(r||t)(F(le),F(cu),F(Ja))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),cu=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Rh?.findTestabilityInTree(this,n,r)??null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"});let i=t;return i})();function LM(i){Rh=i}var Rh,uu=new $("Application Initializer"),s_=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=j(uu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let a=o();if(Ni(a))n.push(a);else if(r_(a)){let s=new Promise((l,c)=>{a.subscribe({complete:l,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),du=new $("appBootstrapListener");function kM(i,t,e){let n=new $c(e);return Promise.resolve(n)}function zM(){ew(()=>{throw new N(600,!1)})}function VM(i){return i.isBoundToModule}function GM(i,t,e){try{let n=e();return Ni(n)?n.catch(r=>{throw t.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}function l_(i,t){return Array.isArray(t)?t.reduce(l_,i):W(W({},i),t)}var vr=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(Fb),this.zoneIsStable=j(Zb),this.componentTypes=[],this.components=[],this.isStable=j(Uo).hasPendingTasks.pipe(pt(n=>n?Y(!1):this.zoneIsStable),Zp()),this._injector=j(wt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof Hc;if(!this._injector.get(s_).done){let h="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&SC(n)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new N(405,!1)}let s;o?s=n:s=this._injector.get(Go).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let l=VM(s)?void 0:this._injector.get(jr),c=r||s.selector,u=s.create(cn.NULL,[],c,l),d=u.location.nativeElement,p=u.injector.get(Th,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Rc(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Rc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(du,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function Rc(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function lC(i){for(let t=i.length-1;t>=0;t--)if(i[t]!==void 0)return i[t]}var HM=(()=>{let t=class t{constructor(){this.zone=j(le),this.applicationRef=j(vr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function jM(i){return[{provide:le,useFactory:i},{provide:$a,multi:!0,useFactory:()=>{let t=j(HM,{optional:!0});return()=>t.initialize()}},{provide:Fb,useFactory:BM},{provide:Zb,useFactory:Xb}]}function BM(){let i=j(le),t=j(Dn);return e=>i.runOutsideAngular(()=>t.handleError(e))}function UM(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}function WM(){return typeof $localize<"u"&&$localize.locale||Wc}var pu=new $("LocaleId",{providedIn:"root",factory:()=>j(pu,me.Optional|me.SkipSelf)||WM()});var c_=new $("PlatformDestroyListeners"),u_=(()=>{let t=class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let o=II(r?.ngZone,UM({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let a=MM(n.moduleType,this.injector,jM(()=>o)),s=a.injector.get(Dn,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:c=>{s.handleError(c)}});a.onDestroy(()=>{Rc(this._modules,a),l.unsubscribe()})}),GM(s,o,()=>{let l=a.injector.get(s_);return l.runInitializers(),l.donePromise.then(()=>{let c=a.injector.get(pu,Wc);return EM(c||Wc),this._moduleDoBootstrap(a),a})})})}bootstrapModule(n,r=[]){let o=l_({},r);return kM(this.injector,o,n).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(n){let r=n.injector.get(vr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new N(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(c_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};t.\u0275fac=function(r){return new(r||t)(F(cn))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"});let i=t;return i})(),Fa=null,d_=new $("AllowMultipleToken");function qM(i){if(Fa&&!Fa.get(d_,!1))throw new N(400,!1);zM(),Fa=i;let t=i.get(u_);return YM(i),t}function Oh(i,t,e=[]){let n=`Platform: ${t}`,r=new $(n);return(o=[])=>{let a=p_();if(!a||a.injector.get(d_,!1)){let s=[...e,...o,{provide:r,useValue:!0}];i?i(s):qM($M(s,n))}return KM(r)}}function $M(i=[],t){return cn.create({name:t,providers:[{provide:nu,useValue:"platform"},{provide:c_,useValue:new Set([()=>Fa=null])},...i]})}function KM(i){let t=p_();if(!t)throw new N(401,!1);return t}function p_(){return Fa?.get(u_)??null}function YM(i){i.get(dh,null)?.forEach(e=>e())}var f_=Oh(null,"core",[]),h_=(()=>{let t=class t{constructor(n){}};t.\u0275fac=function(r){return new(r||t)(F(vr))},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({});let i=t;return i})();function g_(i){let t=Vr(i);if(!t)return null;let e=new ko(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Ah=null;function Qn(){return Ah}function y_(i){Ah||(Ah=i)}var fu=class{},Le=new $("DocumentToken"),Ph=(()=>{let t=class t{historyGo(n){throw new Error("Not implemented")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>(()=>j(QM))(),providedIn:"platform"});let i=t;return i})(),w_=new $("Location Initialized"),QM=(()=>{let t=class t extends Ph{constructor(){super(),this._doc=j(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qn().getBaseHref(this._doc)}onPopState(n){let r=Qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>(()=>new t)(),providedIn:"platform"});let i=t;return i})();function Fh(i,t){if(i.length==0)return t;if(t.length==0)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,e==2?i+t.substring(1):e==1?i+t:i+"/"+t}function m_(i){let t=i.match(/#|\?|$/),e=t&&t.index||i.length,n=e-(i[e-1]==="/"?1:0);return i.slice(0,n)+i.slice(e)}function yr(i){return i&&i[0]!=="?"?"?"+i:i}var ki=(()=>{let t=class t{historyGo(n){throw new Error("Not implemented")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>(()=>j(Nh))(),providedIn:"root"});let i=t;return i})(),C_=new $("appBaseHref"),Nh=(()=>{let t=class t extends ki{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Fh(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+yr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,a){let s=this.prepareExternalUrl(o+yr(a));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,a){let s=this.prepareExternalUrl(o+yr(a));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(r){return new(r||t)(F(Ph),F(C_,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),b_=(()=>{let t=class t extends ki{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return r==null&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Fh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,a){let s=this.prepareExternalUrl(o+yr(a));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,a){let s=this.prepareExternalUrl(o+yr(a));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(r){return new(r||t)(F(Ph),F(C_,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),qo=(()=>{let t=class t{constructor(n){this._subject=new A,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=JM(m_(v_(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+yr(r))}normalize(n){return t.stripTrailingSlash(XM(this._basePath,v_(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yr(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}};t.normalizeQueryParams=yr,t.joinWithSlash=Fh,t.stripTrailingSlash=m_,t.\u0275fac=function(r){return new(r||t)(F(ki))},t.\u0275prov=G({token:t,factory:()=>ZM(),providedIn:"root"});let i=t;return i})();function ZM(){return new qo(F(ki))}function XM(i,t){if(!i||!t.startsWith(i))return t;let e=t.substring(i.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function v_(i){return i.replace(/\/index.html$/,"")}function JM(i){if(new RegExp("^(https?:)?//").test(i)){let[,e]=i.split(/\/\/[^\/]+/);return e}return i}function gu(i,t){t=encodeURIComponent(t);for(let e of i.split(";")){let n=e.indexOf("="),[r,o]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var Ur=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({});let i=t;return i})(),Lh="browser",eP="server";function __(i){return i===Lh}function kh(i){return i===eP}var S_=(()=>{let t=class t{};t.\u0275prov=G({token:t,providedIn:"root",factory:()=>new Ih(F(Le),window)});let i=t;return i})(),Ih=class{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;let e=tP(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){let e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function tP(i,t){let e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=n.nextNode()}}return null}var Zn=class{};var ts=class{},Ko=class{},wr=class i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=r.toLowerCase(),a=e.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Vh=class{encodeKey(t){return x_(t)}encodeValue(t){return x_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function iP(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,s]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}var oP=/%(\d[a-f0-9])/gi,aP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function x_(i){return encodeURIComponent(i).replace(oP,(t,e)=>aP[e]??t)}function mu(i){return`${i}`}var Xn=class i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Vh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=iP(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(mu):[mu(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(mu(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(mu(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Gh=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function sP(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function D_(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function T_(i){return typeof Blob<"u"&&i instanceof Blob}function R_(i){return typeof FormData<"u"&&i instanceof FormData}function lP(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var es=class i{constructor(t,e,n,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(sP(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new wr),this.context||(this.context=new Gh),!this.params)this.params=new Xn,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+a}}}serializeBody(){return this.body===null?null:D_(this.body)||T_(this.body)||R_(this.body)||lP(this.body)||typeof this.body=="string"?this.body:this.body instanceof Xn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||R_(this.body)?null:T_(this.body)?this.body.type||null:D_(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.body!==void 0?t.body:this.body,a=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,s=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,l=t.headers||this.headers,c=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((d,p)=>d.set(p,t.setHeaders[p]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,p)=>d.set(p,t.setParams[p]),c)),new i(e,n,o,{params:c,headers:l,context:u,reportProgress:s,responseType:r,withCredentials:a})}},$o=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}($o||{}),ns=class{constructor(t,e=200,n="OK"){this.headers=t.headers||new wr,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Hh=class i extends ns{constructor(t={}){super(t),this.type=$o.ResponseHeader}clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Yo=class i extends ns{constructor(t={}){super(t),this.type=$o.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},vu=class extends ns{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}};function zh(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var jh=(()=>{let t=class t{constructor(n){this.handler=n}request(n,r,o={}){let a;if(n instanceof es)a=n;else{let c;o.headers instanceof wr?c=o.headers:c=new wr(o.headers);let u;o.params&&(o.params instanceof Xn?u=o.params:u=new Xn({fromObject:o.params})),a=new es(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=Y(a).pipe(on(c=>this.handler.handle(c)));if(n instanceof es||o.observe==="events")return s;let l=s.pipe(dt(c=>c instanceof Yo));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return l.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(oe(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(oe(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(oe(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Xn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,zh(o,r))}post(n,r,o={}){return this.request("POST",n,zh(o,r))}put(n,r,o={}){return this.request("PUT",n,zh(o,r))}};t.\u0275fac=function(r){return new(r||t)(F(ts))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();function I_(i,t){return t(i)}function cP(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function uP(i,t,e){return(n,r)=>Yn(e,()=>t(n,o=>i(o,r)))}var dP=new $(""),Bh=new $(""),pP=new $(""),fP=new $("");function hP(){let i=null;return(t,e)=>{i===null&&(i=(j(dP,{optional:!0})??[]).reduceRight(cP,I_));let n=j(Uo),r=n.add();return i(t,e).pipe(Nr(()=>n.remove(r)))}}var O_=(()=>{let t=class t extends ts{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=j(Uo);let o=j(fP,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Bh),...this.injector.get(pP,[])]));this.chain=o.reduceRight((a,s)=>uP(a,s,this.injector),I_)}let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Nr(()=>this.pendingTasks.remove(r)))}};t.\u0275fac=function(r){return new(r||t)(F(Ko),F(wt))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();var gP=/^\)\]\}',?\n/;function mP(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var yu=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new N(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?De(r.\u0275loadImpl()):Y(null)).pipe(pt(()=>new ue(a=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((y,w)=>s.setRequestHeader(y,w.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let y=n.detectContentTypeHeader();y!==null&&s.setRequestHeader("Content-Type",y)}if(n.responseType){let y=n.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let l=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let y=s.statusText||"OK",w=new wr(s.getAllResponseHeaders()),C=mP(s)||n.url;return c=new Hh({headers:w,status:s.status,statusText:y,url:C}),c},d=()=>{let{headers:y,status:w,statusText:C,url:b}=u(),_=null;w!==204&&(_=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=_?200:0);let D=w>=200&&w<300;if(n.responseType==="json"&&typeof _=="string"){let R=_;_=_.replace(gP,"");try{_=_!==""?JSON.parse(_):null}catch(M){_=R,D&&(D=!1,_={error:M,text:_})}}D?(a.next(new Yo({body:_,headers:y,status:w,statusText:C,url:b||void 0})),a.complete()):a.error(new vu({error:_,headers:y,status:w,statusText:C,url:b||void 0}))},p=y=>{let{url:w}=u(),C=new vu({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});a.error(C)},f=!1,h=y=>{f||(a.next(u()),f=!0);let w={type:$o.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),n.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),a.next(w)},g=y=>{let w={type:$o.UploadProgress,loaded:y.loaded};y.lengthComputable&&(w.total=y.total),a.next(w)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",h),l!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(l),a.next({type:$o.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",h),l!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}};t.\u0275fac=function(r){return new(r||t)(F(Zn))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),M_=new $("XSRF_ENABLED"),vP="XSRF-TOKEN",yP=new $("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>vP}),wP="X-XSRF-TOKEN",CP=new $("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>wP}),wu=class{},bP=(()=>{let t=class t{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=gu(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(r){return new(r||t)(F(Le),F(In),F(yP))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();function _P(i,t){let e=i.url.toLowerCase();if(!j(M_)||i.method==="GET"||i.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(i);let n=j(wu).getToken(),r=j(CP);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),t(i)}var P_=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(P_||{});function SP(i,t){return{\u0275kind:i,\u0275providers:t}}function EP(...i){let t=[jh,yu,O_,{provide:ts,useExisting:O_},{provide:Ko,useExisting:yu},{provide:Bh,useValue:_P,multi:!0},{provide:M_,useValue:!0},{provide:wu,useClass:bP}];for(let e of i)t.push(...e.\u0275providers);return tu(t)}var A_=new $("LEGACY_INTERCEPTOR_FN");function xP(){return SP(P_.LegacyInterceptors,[{provide:A_,useFactory:hP},{provide:Bh,useExisting:A_,multi:!0}])}var F_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({providers:[EP(xP())]});let i=t;return i})();var qh=class extends fu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$h=class i extends qh{static makeCurrent(){y_(new i)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=TP();return e==null?null:RP(e)}resetBaseElement(){rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gu(document.cookie,t)}},rs=null;function TP(){return rs=rs||document.querySelector("base"),rs?rs.getAttribute("href"):null}function RP(i){return new URL(i,document.baseURI).pathname}var Kh=class{addToWindow(t){Ht.getAngularTestability=(n,r=!0)=>{let o=t.findTestabilityInTree(n,r);if(o==null)throw new N(5103,!1);return o},Ht.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ht.getAllAngularRootElements=()=>t.getAllRootElements();let e=n=>{let r=Ht.getAllAngularTestabilities(),o=r.length,a=!1,s=function(l){a=a||l,o--,o==0&&n(a)};r.forEach(l=>{l.whenStable(s)})};Ht.frameworkStabilizers||(Ht.frameworkStabilizers=[]),Ht.frameworkStabilizers.push(e)}findTestabilityInTree(t,e,n){if(e==null)return null;let r=t.getTestability(e);return r??(n?Qn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},OP=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),Yh=new $("EventManagerPlugins"),k_=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(a=>a.supports(n)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(F(Yh),F(le))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),Cu=class{constructor(t){this._doc=t}},Uh="ng-app-id",z_=(()=>{let t=class t{constructor(n,r,o,a={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kh(a),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Uh}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let a=o.get(n);return a.usage+=r,a.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===n)return o.delete(r),a.removeAttribute(Uh),a;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Uh,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),a=this.styleRef,s=a.get(r)?.elements;s?s.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(F(Le),F(Ka),F(Ya,8),F(In))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),Wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zh=/%COMP%/g,V_="%COMP%",AP=`_nghost-${V_}`,IP=`_ngcontent-${V_}`,MP=!0,PP=new $("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>MP});function FP(i){return IP.replace(Zh,i)}function NP(i){return AP.replace(Zh,i)}function G_(i,t){return t.map(e=>e.replace(Zh,i))}var bu=(()=>{let t=class t{constructor(n,r,o,a,s,l,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=kh(l),this.defaultRenderer=new is(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qn.ShadowDom&&(r=Ae(W({},r),{encapsulation:qn.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof _u?o.applyToHost(n):o instanceof os&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let s=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case qn.Emulated:a=new _u(c,u,r,this.appId,d,s,l,p);break;case qn.ShadowDom:return new Qh(c,u,n,r,s,l,this.nonce,p);default:a=new os(c,u,r,d,s,l,p);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(F(k_),F(z_),F(Ka),F(PP),F(Le),F(In),F(le),F(Ya))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),is=class{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Wh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(N_(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(N_(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new N(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Wh[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Wh[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(hr.DashCase|hr.Important)?t.style.setProperty(e,n,r&hr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&hr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=Qn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function N_(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Qh=class extends is{constructor(t,e,n,r,o,a,s,l){super(t,o,a,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=G_(r.id,r.styles);for(let u of c){let d=document.createElement("style");s&&d.setAttribute("nonce",s),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},os=class extends is{constructor(t,e,n,r,o,a,s,l){super(t,o,a,s),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?G_(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},_u=class extends os{constructor(t,e,n,r,o,a,s,l){let c=r+"-"+n.id;super(t,e,n,o,a,s,l,c),this.contentAttr=FP(c),this.hostAttr=NP(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},LP=(()=>{let t=class t extends Cu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(F(Le))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),L_=["alt","control","meta","shift"],kP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zP={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},VP=(()=>{let t=class t extends Cu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qn().onAndCancel(n,a.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=t._normalizeKey(r.pop()),s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),L_.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=a,r.length!=0||a.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=kP[n.key]||n.key,a="";return r.indexOf("code.")>-1&&(o=n.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),L_.forEach(s=>{if(s!==o){let l=zP[s];l(n)&&(a+=s+".")}}),a+=o,a===r)}static eventCallback(n,r,o){return a=>{t.matchEventFullKeyCode(a,n)&&o.runGuarded(()=>r(a))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(F(Le))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();function GP(){$h.makeCurrent()}function HP(){return new Dn}function jP(){return yb(document),document}var BP=[{provide:In,useValue:Lh},{provide:dh,useValue:GP,multi:!0},{provide:Le,useFactory:jP,deps:[]}],H_=Oh(f_,"browser",BP),UP=new $(""),WP=[{provide:Ja,useClass:Kh,deps:[]},{provide:Th,useClass:lu,deps:[le,cu,Ja]},{provide:lu,useClass:lu,deps:[le,cu,Ja]}],qP=[{provide:nu,useValue:"root"},{provide:Dn,useFactory:HP,deps:[]},{provide:Yh,useClass:LP,multi:!0,deps:[Le,le,In]},{provide:Yh,useClass:VP,multi:!0,deps:[Le]},bu,z_,k_,{provide:Ii,useExisting:bu},{provide:Zn,useClass:OP,deps:[]},[]],Qo=(()=>{let t=class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ka,useValue:n.appId}]}}};t.\u0275fac=function(r){return new(r||t)(F(UP,12))},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({providers:[...qP,...WP],imports:[Ur,h_]});let i=t;return i})();function $P(){return new Xh(F(Le))}var Xh=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(F(Le))},t.\u0275prov=G({token:t,factory:function(r){let o=null;return r?o=new r:o=$P(),o},providedIn:"root"});let i=t;return i})();var de="primary",Cs=Symbol("RouteTitle"),rg=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ta(i){return new rg(i)}function KP(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let a=n[o],s=i[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function YP(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Jn(i[e],t[e]))return!1;return!0}function Jn(i,t){let e=i?ig(i):void 0,n=t?ig(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!X_(i[r],t[r]))return!1;return!0}function ig(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function X_(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function J_(i){return i.length>0?i[i.length-1]:null}function Kr(i){return qp(i)?i:Ni(i)?De(Promise.resolve(i)):Y(i)}var QP={exact:tS,subset:nS},eS={exact:ZP,subset:XP,ignored:()=>!0};function B_(i,t,e){return QP[e.paths](i.root,t.root,e.matrixParams)&&eS[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function ZP(i,t){return Jn(i,t)}function tS(i,t,e){if(!Vi(i.segments,t.segments)||!xu(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!tS(i.children[n],t.children[n],e))return!1;return!0}function XP(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>X_(i[e],t[e]))}function nS(i,t,e){return rS(i,t,t.segments,e)}function rS(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!Vi(r,e)||t.hasChildren()||!xu(r,e,n))}else if(i.segments.length===e.length){if(!Vi(i.segments,e)||!xu(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!nS(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Vi(i.segments,r)||!xu(i.segments,r,n)||!i.children[de]?!1:rS(i.children[de],t,o,n)}}function xu(i,t,e){return t.every((n,r)=>eS[e](i[r].parameters,n.parameters))}var Wr=class{constructor(t=new xe([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){return tF.serialize(this)}},xe=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Du(this)}},zi=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ta(this.parameters)),this._parameterMap}toString(){return oS(this)}};function JP(i,t){return Vi(i,t)&&i.every((e,n)=>Jn(e.parameters,t[n].parameters))}function Vi(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function eF(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===de&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==de&&(e=e.concat(t(r,n)))}),e}var bs=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>(()=>new ps)(),providedIn:"root"});let i=t;return i})(),ps=class{parse(t){let e=new ag(t);return new Wr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${as(t.root,!0)}`,n=iF(t.queryParams),r=typeof t.fragment=="string"?`#${nF(t.fragment)}`:"";return`${e}${n}${r}`}},tF=new ps;function Du(i){return i.segments.map(t=>oS(t)).join("/")}function as(i,t){if(!i.hasChildren())return Du(i);if(t){let e=i.children[de]?as(i.children[de],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==de&&n.push(`${r}:${as(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=eF(i,(n,r)=>r===de?[as(i.children[de],!1)]:[`${r}:${as(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[de]!=null?`${Du(i)}/${e[0]}`:`${Du(i)}/(${e.join("//")})`}}function iS(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Su(i){return iS(i).replace(/%3B/gi,";")}function nF(i){return encodeURI(i)}function og(i){return iS(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tu(i){return decodeURIComponent(i)}function U_(i){return Tu(i.replace(/\+/g,"%20"))}function oS(i){return`${og(i.path)}${rF(i.parameters)}`}function rF(i){return Object.keys(i).map(t=>`;${og(t)}=${og(i[t])}`).join("")}function iF(i){let t=Object.keys(i).map(e=>{let n=i[e];return Array.isArray(n)?n.map(r=>`${Su(e)}=${Su(r)}`).join("&"):`${Su(e)}=${Su(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}var oF=/^[^\/()?;#]+/;function Jh(i){let t=i.match(oF);return t?t[0]:""}var aF=/^[^\/()?;=#]+/;function sF(i){let t=i.match(aF);return t?t[0]:""}var lF=/^[^=?&#]+/;function cF(i){let t=i.match(lF);return t?t[0]:""}var uF=/^[^&#]+/;function dF(i){let t=i.match(uF);return t?t[0]:""}var ag=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[de]=new xe(t,e)),n}parseSegment(){let t=Jh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(t),new zi(Tu(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=sF(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Jh(this.remaining);r&&(n=r,this.capture(n))}t[Tu(e)]=Tu(n)}parseQueryParam(t){let e=cF(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let a=dF(this.remaining);a&&(n=a,this.capture(n))}let r=U_(e),o=U_(n);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Jh(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new N(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=de);let a=this.parseChildren();e[o]=Object.keys(a).length===1?a[de]:new xe([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new N(4011,!1)}};function aS(i){return i.segments.length>0?new xe([],{[de]:i}):i}function sS(i){let t={};for(let n of Object.keys(i.children)){let r=i.children[n],o=sS(r);if(n===de&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new xe(i.segments,t);return pF(e)}function pF(i){if(i.numberOfChildren===1&&i.children[de]){let t=i.children[de];return new xe(i.segments.concat(t.segments),t.children)}return i}function na(i){return i instanceof Wr}function fF(i,t,e=null,n=null){let r=lS(i);return cS(r,t,e,n)}function lS(i){let t;function e(o){let a={};for(let l of o.children){let c=e(l);a[l.outlet]=c}let s=new xe(o.url,a);return o===i&&(t=s),s}let n=e(i.root),r=aS(n);return t??r}function cS(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return eg(r,r,r,e,n);let o=hF(t);if(o.toRoot())return eg(r,r,new xe([],{}),e,n);let a=gF(o,r,i),s=a.processChildren?cs(a.segmentGroup,a.index,o.commands):dS(a.segmentGroup,a.index,o.commands);return eg(r,a.segmentGroup,s,e,n)}function Ru(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function fs(i){return typeof i=="object"&&i!=null&&i.outlets}function eg(i,t,e,n,r){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;i===t?a=e:a=uS(i,t,e);let s=aS(sS(a));return new Wr(s,o,r)}function uS(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=uS(o,t,e)}),new xe(i.segments,n)}var Ou=class{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ru(n[0]))throw new N(4003,!1);let r=n.find(fs);if(r&&r!==J_(n))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hF(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Ou(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([l,c])=>{s[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,o]},[]);return new Ou(e,t,n)}var Jo=class{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function gF(i,t,e){if(i.isAbsolute)return new Jo(t,!0,0);if(!e)return new Jo(t,!1,NaN);if(e.parent===null)return new Jo(e,!0,0);let n=Ru(i.commands[0])?0:1,r=e.segments.length-1+n;return mF(e,r,i.numberOfDoubleDots)}function mF(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new N(4005,!1);r=n.segments.length}return new Jo(n,!1,r-o)}function vF(i){return fs(i[0])?i[0].outlets:{[de]:i}}function dS(i,t,e){if(i||(i=new xe([],{})),i.segments.length===0&&i.hasChildren())return cs(i,t,e);let n=yF(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new xe(i.segments.slice(0,n.pathIndex),{});return o.children[de]=new xe(i.segments.slice(n.pathIndex),i.children),cs(o,0,r)}else return n.match&&r.length===0?new xe(i.segments,{}):n.match&&!i.hasChildren()?sg(i,t,e):n.match?cs(i,0,r):sg(i,t,e)}function cs(i,t,e){if(e.length===0)return new xe(i.segments,{});{let n=vF(e),r={};if(Object.keys(n).some(o=>o!==de)&&i.children[de]&&i.numberOfChildren===1&&i.children[de].segments.length===0){let o=cs(i.children[de],t,e);return new xe(i.segments,o.children)}return Object.entries(n).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=dS(i.children[o],t,a))}),Object.entries(i.children).forEach(([o,a])=>{n[o]===void 0&&(r[o]=a)}),new xe(i.segments,r)}}function yF(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let a=i.segments[r],s=e[n];if(fs(s))break;let l=`${s}`,c=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!q_(l,c,a))return o;n+=2}else{if(!q_(l,{},a))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function sg(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(fs(o)){let l=wF(o.outlets);return new xe(n,l)}if(r===0&&Ru(e[0])){let l=i.segments[t];n.push(new zi(l.path,W_(e[0]))),r++;continue}let a=fs(o)?o.outlets[de]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&Ru(s)?(n.push(new zi(a,W_(s))),r+=2):(n.push(new zi(a,{})),r++)}return new xe(n,{})}function wF(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=sg(new xe([],{}),0,n))}),t}function W_(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function q_(i,t,e){return i==e.path&&Jn(t,e.parameters)}var us="imperative",un=class{constructor(t,e){this.id=t,this.url=e}},ra=class extends un{constructor(t,e,n="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cr=class extends un{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qr=class extends un{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$r=class extends un{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=16}},hs=class extends un{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Au=class extends un{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lg=class extends un{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class extends un{constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ug=class extends un{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dg=class extends un{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fg=class{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hg=class{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gg=class{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mg=class{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Iu=class{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},gs=class{},ms=class{constructor(t){this.url=t}};var yg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _s,this.attachRef=null}},_s=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new yg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),Mu=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=wg(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=wg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Cg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Cg(t,this._root).map(e=>e.value)}};function wg(i,t){if(i===t.value)return t;for(let e of t.children){let n=wg(i,e);if(n)return n}return null}function Cg(i,t){if(i===t.value)return[t];for(let e of t.children){let n=Cg(i,e);if(n.length)return n.unshift(t),n}return[]}var Bt=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Xo(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Pu=class extends Mu{constructor(t,e){super(t),this.snapshot=e,Mg(this,t)}toString(){return this.snapshot.toString()}};function pS(i,t){let e=CF(i,t),n=new Ke([new zi("",{})]),r=new Ke({}),o=new Ke({}),a=new Ke({}),s=new Ke(""),l=new ia(n,r,a,s,o,de,t,e.root);return l.snapshot=e.root,new Pu(new Bt(l,[]),e)}function CF(i,t){let e={},n={},r={},o="",a=new vs([],e,r,o,n,de,t,null,{});return new Fu("",new Bt(a,[]))}var ia=class{constructor(t,e,n,r,o,a,s,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(oe(c=>c[Cs]))??Y(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(oe(t=>ta(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(oe(t=>ta(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ig(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:W(W({},t.params),i.params),data:W(W({},t.data),i.data),resolve:W(W(W(W({},i.data),t.data),r?.data),i._resolvedData)}:n={params:i.params,data:i.data,resolve:W(W({},i.data),i._resolvedData??{})},r&&hS(r)&&(n.resolve[Cs]=r.title),n}var vs=class{get title(){return this.data?.[Cs]}constructor(t,e,n,r,o,a,s,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ta(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Fu=class extends Mu{constructor(t,e){super(e),this.url=t,Mg(this,e)}toString(){return fS(this._root)}};function Mg(i,t){t.value._routerState=i,t.children.forEach(e=>Mg(i,e))}function fS(i){let t=i.children.length>0?` { ${i.children.map(fS).join(", ")} } `:"";return`${i.value}${t}`}function tg(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Jn(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),Jn(t.params,e.params)||i.paramsSubject.next(e.params),YP(t.url,e.url)||i.urlSubject.next(e.url),Jn(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function bg(i,t){let e=Jn(i.params,t.params)&&JP(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||bg(i.parent,t.parent))}function hS(i){return typeof i.title=="string"||i.title===null}var Pg=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new A,this.deactivateEvents=new A,this.attachEvents=new A,this.detachEvents=new A,this.parentContexts=j(_s),this.location=j(Bo),this.changeDetector=j(Fi),this.environmentInjector=j(wt),this.inputBinder=j(Vu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new _g(n,l,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]});let i=t;return i})(),_g=class{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ia?this.route:t===_s?this.childContexts:this.parent.get(t,e)}},Vu=new $(""),$_=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Ei([r.queryParams,r.params,r.data]).pipe(pt(([a,s,l],c)=>(l=W(W(W({},a),s),l),c===0?Y(l):Promise.resolve(l)))).subscribe(a=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=g_(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of s.inputs)n.activatedComponentRef.setInput(l,a[l])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();function bF(i,t,e){let n=ys(i,t._root,e?e._root:void 0);return new Pu(n,t)}function ys(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=_F(i,t,e);return new Bt(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>ys(i,s)),a}}let n=SF(t.value),r=t.children.map(o=>ys(i,o));return new Bt(n,r)}}function _F(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return ys(i,n,r);return ys(i,n)})}function SF(i){return new ia(new Ke(i.url),new Ke(i.params),new Ke(i.queryParams),new Ke(i.fragment),new Ke(i.data),i.outlet,i.component,i)}var gS="ngNavigationCancelingError";function mS(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=na(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=vS(!1,0,t);return r.url=e,r.navigationBehaviorOptions=n,r}function vS(i,t,e){let n=new Error("NavigationCancelingError: "+(i||""));return n[gS]=!0,n.cancellationCode=t,e&&(n.url=e),n}function EF(i){return yS(i)&&na(i.url)}function yS(i){return i&&i[gS]}var xF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ct({type:t,selectors:[["ng-component"]],standalone:!0,features:[o_],decls:1,vars:0,template:function(r,o){r&1&&Dt(0,"router-outlet")},dependencies:[Pg],encapsulation:2});let i=t;return i})();function DF(i,t){return i.providers&&!i._injector&&(i._injector=ou(i.providers,t,`Route: ${i.path}`)),i._injector??t}function Fg(i){let t=i.children&&i.children.map(Fg),e=t?Ae(W({},i),{children:t}):W({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==de&&(e.component=xF),e}function er(i){return i.outlet||de}function TF(i,t){let e=i.filter(n=>er(n)===t);return e.push(...i.filter(n=>er(n)!==t)),e}function Ss(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var RF=(i,t,e,n)=>oe(r=>(new Sg(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),Sg=class{constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),tg(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=Xo(e);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],n),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Xo(t);for(let a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(n&&n.outlet){let a=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Xo(t);for(let a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=Xo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new vg(o.value.snapshot))}),t.children.length&&this.forwardEvent(new gg(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(tg(r),r===o)if(r.component){let a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),tg(s.route.value),this.activateChildRoutes(t,null,a.children)}else{let s=Ss(r.snapshot);a.attachRef=null,a.route=r,a.injector=s,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}},Nu=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ea=class{constructor(t,e){this.component=t,this.route=e}};function OF(i,t,e){let n=i._root,r=t?t._root:null;return ss(n,r,e,[n.value])}function AF(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function aa(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!dC(i)?i:t.get(i):n}function ss(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Xo(t);return i.children.forEach(a=>{IF(a,o[a.value.outlet],e,n.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>ds(s,e.getContext(a),r)),r}function IF(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,a=t?t.value:null,s=e?e.getContext(i.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=MF(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Nu(n)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?ss(i,t,s?s.children:null,n,r):ss(i,t,e,n,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new ea(s.outlet.component,a))}else a&&ds(t,s,r),r.canActivateChecks.push(new Nu(n)),o.component?ss(i,null,s?s.children:null,n,r):ss(i,null,e,n,r);return r}function MF(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!Vi(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Vi(i.url,t.url)||!Jn(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bg(i,t)||!Jn(i.queryParams,t.queryParams);case"paramsChange":default:return!bg(i,t)}}function ds(i,t,e){let n=Xo(i),r=i.value;Object.entries(n).forEach(([o,a])=>{r.component?t?ds(a,t.children.getContext(o),e):ds(a,null,e):ds(a,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ea(t.outlet.component,r)):e.canDeactivateChecks.push(new ea(null,r)):e.canDeactivateChecks.push(new ea(null,r))}function Es(i){return typeof i=="function"}function PF(i){return typeof i=="boolean"}function FF(i){return i&&Es(i.canLoad)}function NF(i){return i&&Es(i.canActivate)}function LF(i){return i&&Es(i.canActivateChild)}function kF(i){return i&&Es(i.canDeactivate)}function zF(i){return i&&Es(i.canMatch)}function wS(i){return i instanceof pr||i?.name==="EmptyError"}var Eu=Symbol("INITIAL_VALUE");function oa(){return pt(i=>Ei(i.map(t=>t.pipe(_n(1),Ia(Eu)))).pipe(oe(t=>{for(let e of t)if(e!==!0){if(e===Eu)return Eu;if(e===!1||e instanceof Wr)return e}return!0}),dt(t=>t!==Eu),_n(1)))}function VF(i,t){return Ue(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return a.length===0&&o.length===0?Y(Ae(W({},e),{guardsResult:!0})):GF(a,n,r,i).pipe(Ue(s=>s&&PF(s)?HF(n,o,i,t):Y(s)),oe(s=>Ae(W({},e),{guardsResult:s})))})}function GF(i,t,e,n){return De(i).pipe(Ue(r=>qF(r.component,r.route,e,t,n)),Gt(r=>r!==!0,!0))}function HF(i,t,e,n){return De(t).pipe(on(r=>Mr(BF(r.route.parent,n),jF(r.route,n),WF(i,r.path,e),UF(i,r.route,e))),Gt(r=>r!==!0,!0))}function jF(i,t){return i!==null&&t&&t(new mg(i)),Y(!0)}function BF(i,t){return i!==null&&t&&t(new hg(i)),Y(!0)}function UF(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return Y(!0);let r=n.map(o=>vc(()=>{let a=Ss(t)??e,s=aa(o,a),l=NF(s)?s.canActivate(t,i):Yn(a,()=>s(t,i));return Kr(l).pipe(Gt())}));return Y(r).pipe(oa())}function WF(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>AF(a)).filter(a=>a!==null).map(a=>vc(()=>{let s=a.guards.map(l=>{let c=Ss(a.node)??e,u=aa(l,c),d=LF(u)?u.canActivateChild(n,i):Yn(c,()=>u(n,i));return Kr(d).pipe(Gt())});return Y(s).pipe(oa())}));return Y(o).pipe(oa())}function qF(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let a=o.map(s=>{let l=Ss(t)??r,c=aa(s,l),u=kF(c)?c.canDeactivate(i,t,e,n):Yn(l,()=>c(i,t,e,n));return Kr(u).pipe(Gt())});return Y(a).pipe(oa())}function $F(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return Y(!0);let o=r.map(a=>{let s=aa(a,i),l=FF(s)?s.canLoad(t,e):Yn(i,()=>s(t,e));return Kr(l)});return Y(o).pipe(oa(),CS(n))}function CS(i){return Gp(Ye(t=>{if(na(t))throw mS(i,t)}),oe(t=>t===!0))}function KF(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return Y(!0);let o=r.map(a=>{let s=aa(a,i),l=zF(s)?s.canMatch(t,e):Yn(i,()=>s(t,e));return Kr(l)});return Y(o).pipe(oa(),CS(n))}var ws=class{constructor(t){this.segmentGroup=t||null}},Lu=class extends Error{constructor(t){super(),this.urlTree=t}};function Zo(i){return bo(new ws(i))}function YF(i){return bo(new N(4e3,!1))}function QF(i){return bo(vS(!1,3))}var Eg=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return Y(n);if(r.numberOfChildren>1||!r.children[de])return YF(t.redirectTo);r=r.children[de]}}applyRedirectCommands(t,e,n){let r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e.startsWith("/"))throw new Lu(r);return r}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new Wr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let s=o.substring(1);n[r]=e[s]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),a={};return Object.entries(e.children).forEach(([s,l])=>{a[s]=this.createSegmentGroup(t,l,n,r)}),new xe(o,a)}createSegments(t,e,n,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new N(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},xg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZF(i,t,e,n,r){let o=Ng(i,t,e);return o.matched?(n=DF(t,n),KF(n,t,e,r).pipe(oe(a=>a===!0?o:W({},xg)))):Y(o)}function Ng(i,t,e){if(t.path==="**")return XF(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?W({},xg):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||KP)(e,i,t);if(!r)return W({},xg);let o={};Object.entries(r.posParams??{}).forEach(([s,l])=>{o[s]=l.path});let a=r.consumed.length>0?W(W({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function XF(i){return{matched:!0,parameters:i.length>0?J_(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function K_(i,t,e,n){return e.length>0&&tN(i,e,n)?{segmentGroup:new xe(t,eN(n,new xe(e,i.children))),slicedSegments:[]}:e.length===0&&nN(i,e,n)?{segmentGroup:new xe(i.segments,JF(i,t,e,n,i.children)),slicedSegments:e}:{segmentGroup:new xe(i.segments,i.children),slicedSegments:e}}function JF(i,t,e,n,r){let o={};for(let a of n)if(Gu(i,e,a)&&!r[er(a)]){let s=new xe([],{});o[er(a)]=s}return W(W({},r),o)}function eN(i,t){let e={};e[de]=t;for(let n of i)if(n.path===""&&er(n)!==de){let r=new xe([],{});e[er(n)]=r}return e}function tN(i,t,e){return e.some(n=>Gu(i,t,n)&&er(n)!==de)}function nN(i,t,e){return e.some(n=>Gu(i,t,n))}function Gu(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function rN(i,t,e,n){return er(i)!==n&&(n===de||!Gu(t,e,i))?!1:Ng(t,i,e).matched}function iN(i,t,e){return t.length===0&&!i.children[e]}var Dg=class{};function oN(i,t,e,n,r,o,a="emptyOnly"){return new Tg(i,t,e,n,r,a,o).recognize()}var aN=31,Tg=class{constructor(t,e,n,r,o,a,s){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Eg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new N(4002,`'${t.segmentGroup}'`)}recognize(){let t=K_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(oe(e=>{let n=new vs([],Object.freeze({}),Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),r=new Bt(n,e),o=new Fu("",r),a=fF(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,de).pipe(Pr(n=>{if(n instanceof Lu)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ws?this.noMatchError(n):n}))}inheritParamsAndData(t,e){let n=t.value,r=Ig(n,e,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,e,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,r,!0).pipe(oe(o=>o instanceof Bt?[o]:[]))}processChildren(t,e,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return De(r).pipe(on(o=>{let a=n.children[o],s=TF(e,o);return this.processSegmentGroup(t,s,a,o)}),Jp((o,a)=>(o.push(...a),o)),Fr(null),Xp(),Ue(o=>{if(o===null)return Zo(n);let a=bS(o);return sN(a),Y(a)}))}processSegment(t,e,n,r,o,a){return De(e).pipe(on(s=>this.processSegmentAgainstRoute(s._injector??t,e,s,n,r,o,a).pipe(Pr(l=>{if(l instanceof ws)return Y(null);throw l}))),Gt(s=>!!s),Pr(s=>{if(wS(s))return iN(n,r,o)?Y(new Dg):Zo(n);throw s}))}processSegmentAgainstRoute(t,e,n,r,o,a,s){return rN(n,r,o,a)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,a):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,a):Zo(r):Zo(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,a){let{matched:s,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Ng(e,r,o);if(!s)return Zo(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(Ue(p=>this.processSegment(t,n,e,p.concat(u),a,!1)))}matchSegmentAgainstRoute(t,e,n,r,o){let a=ZF(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(pt(s=>s.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(pt(({routes:l})=>{let c=n._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:p}=s,f=new vs(u,p,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,cN(n),er(n),n.component??n._loadedComponent??null,n,uN(n)),{segmentGroup:h,slicedSegments:g}=K_(e,u,d,l);if(g.length===0&&h.hasChildren())return this.processChildren(c,l,h).pipe(oe(w=>w===null?null:new Bt(f,w)));if(l.length===0&&g.length===0)return Y(new Bt(f,[]));let y=er(n)===o;return this.processSegment(c,l,h,g,y?de:o,!0).pipe(oe(w=>new Bt(f,w instanceof Bt?[w]:[])))}))):Zo(e)))}getChildConfig(t,e,n){return e.children?Y({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Y({routes:e._loadedRoutes,injector:e._loadedInjector}):$F(t,e,n,this.urlSerializer).pipe(Ue(r=>r?this.configLoader.loadChildren(t,e).pipe(Ye(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):QF(e))):Y({routes:[],injector:t})}};function sN(i){i.sort((t,e)=>t.value.outlet===de?-1:e.value.outlet===de?1:t.value.outlet.localeCompare(e.value.outlet))}function lN(i){let t=i.value.routeConfig;return t&&t.path===""}function bS(i){let t=[],e=new Set;for(let n of i){if(!lN(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=bS(n.children);t.push(new Bt(n.value,r))}return t.filter(n=>!e.has(n))}function cN(i){return i.data||{}}function uN(i){return i.resolve||{}}function dN(i,t,e,n,r,o){return Ue(a=>oN(i,t,e,n,a.extractedUrl,r,o).pipe(oe(({state:s,tree:l})=>Ae(W({},a),{targetSnapshot:s,urlAfterRedirects:l}))))}function pN(i,t){return Ue(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return Y(e);let o=new Set(r.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let c of _S(l))a.add(c);let s=0;return De(a).pipe(on(l=>o.has(l)?fN(l,n,i,t):(l.data=Ig(l,l.parent,i).resolve,Y(void 0))),Ye(()=>s++),_o(1),Ue(l=>s===a.size?Y(e):Et))})}function _S(i){let t=i.children.map(e=>_S(e)).flat();return[i,...t]}function fN(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!hS(r)&&(o[Cs]=r.title),hN(o,i,t,n).pipe(oe(a=>(i._resolvedData=a,i.data=Ig(i,i.parent,e).resolve,null)))}function hN(i,t,e,n){let r=ig(i);if(r.length===0)return Y({});let o={};return De(r).pipe(Ue(a=>gN(i[a],t,e,n).pipe(Gt(),Ye(s=>{o[a]=s}))),_o(1),Qp(o),Pr(a=>wS(a)?Et:bo(a)))}function gN(i,t,e,n){let r=Ss(t)??n,o=aa(i,r),a=o.resolve?o.resolve(t,e):Yn(r,()=>o(t,e));return Kr(a)}function ng(i){return pt(t=>{let e=i(t);return e?De(e).pipe(oe(()=>t)):Y(t)})}var SS=(()=>{let t=class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[Cs]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>(()=>j(mN))(),providedIn:"root"});let i=t;return i})(),mN=(()=>{let t=class t extends SS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(F(Xh))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),xs=new $("",{providedIn:"root",factory:()=>({})}),ku=new $("ROUTES"),Lg=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(su)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Y(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Kr(n.loadComponent()).pipe(oe(ES),Ye(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),Nr(()=>{this.componentLoaders.delete(n)})),o=new wo(r,()=>new ot).pipe(yo());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=vN(r,this.compiler,n,this.onLoadEndListener).pipe(Nr(()=>{this.childrenLoaders.delete(r)})),s=new wo(a,()=>new ot).pipe(yo());return this.childrenLoaders.set(r,s),s}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function vN(i,t,e,n){return Kr(i.loadChildren()).pipe(oe(ES),Ue(r=>r instanceof ja||Array.isArray(r)?Y(r):De(t.compileModuleAsync(r))),oe(r=>{n&&n(i);let o,a,s=!1;return Array.isArray(r)?(a=r,s=!0):(o=r.create(e).injector,a=o.get(ku,[],{optional:!0,self:!0}).flat()),{routes:a.map(Fg),injector:o}}))}function yN(i){return i&&typeof i=="object"&&"default"in i}function ES(i){return yN(i)?i.default:i}var kg=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>(()=>j(wN))(),providedIn:"root"});let i=t;return i})(),wN=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),xS=new $(""),DS=new $("");function CN(i,t,e){let n=i.get(DS),r=i.get(Le);return i.get(le).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,a=new Promise(c=>{o=c}),s=r.startViewTransition(()=>(o(),bN(i))),{onViewTransitionCreated:l}=n;return l&&Yn(i,()=>l({transition:s,from:t,to:e})),a})}function bN(i){return new Promise(t=>{Dh(t,{injector:i})})}var zg=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ot,this.transitionAbortSubject=new ot,this.configLoader=j(Lg),this.environmentInjector=j(wt),this.urlSerializer=j(bs),this.rootContexts=j(_s),this.location=j(qo),this.inputBindingEnabled=j(Vu,{optional:!0})!==null,this.titleStrategy=j(SS),this.options=j(xs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(kg),this.createViewTransition=j(xS,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let n=o=>this.events.next(new pg(o)),r=o=>this.events.next(new fg(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ae(W(W({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new Ke({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:us,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dt(a=>a.id!==0),oe(a=>Ae(W({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),pt(a=>{this.currentTransition=a;let s=!1,l=!1;return Y(a).pipe(Ye(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(W({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),pt(c=>{let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let p="";return this.events.next(new $r(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),Et}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Y(c).pipe(pt(p=>{let f=this.transitions?.getValue();return this.events.next(new ra(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),f!==this.transitions?.getValue()?Et:Promise.resolve(p)}),dN(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(p=>{a.targetSnapshot=p.targetSnapshot,a.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ae(W({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let f=new Au(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:f,source:h,restoredState:g,extras:y}=c,w=new ra(p,this.urlSerializer.serialize(f),h,g);this.events.next(w);let C=pS(f,this.rootComponentType).snapshot;return this.currentTransition=a=Ae(W({},c),{targetSnapshot:C,urlAfterRedirects:f,extras:Ae(W({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,Y(a)}else{let p="";return this.events.next(new $r(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),Et}}),Ye(c=>{let u=new lg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),oe(c=>(this.currentTransition=a=Ae(W({},c),{guards:OF(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),a)),VF(this.environmentInjector,c=>this.events.next(c)),Ye(c=>{if(a.guardsResult=c.guardsResult,na(c.guardsResult))throw mS(this.urlSerializer,c.guardsResult);let u=new cg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),dt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),ng(c=>{if(c.guards.canActivateChecks.length)return Y(c).pipe(Ye(u=>{let d=new ug(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pt(u=>{let d=!1;return Y(u).pipe(pN(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Ye(u=>{let d=new dg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),ng(c=>{let u=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ye(f=>{d.component=f}),oe(()=>{})));for(let f of d.children)p.push(...u(f));return p};return Ei(u(c.targetSnapshot.root)).pipe(Fr(),_n(1))}),ng(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:c,targetSnapshot:u}=a,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?De(d).pipe(oe(()=>a)):Y(a)}),oe(c=>{let u=bF(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=a=Ae(W({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,a}),Ye(()=>{this.events.next(new gs)}),RF(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),_n(1),Ye({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ma(this.transitionAbortSubject.pipe(Ye(c=>{throw c}))),Nr(()=>{if(!s&&!l){let c="";this.cancelNavigationTransition(a,c,1)}this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Pr(c=>{if(l=!0,yS(c))this.events.next(new qr(a.id,this.urlSerializer.serialize(a.extractedUrl),c.message,c.cancellationCode)),EF(c)?this.events.next(new ms(c.url)):a.resolve(!1);else{this.events.next(new hs(a.id,this.urlSerializer.serialize(a.extractedUrl),c,a.targetSnapshot??void 0));try{a.resolve(n.errorHandler(c))}catch(u){a.reject(u)}}return Et}))}))}cancelNavigationTransition(n,r,o){let a=new qr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(a),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function _N(i){return i!==us}var SN=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>(()=>j(EN))(),providedIn:"root"});let i=t;return i})(),Rg=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},EN=(()=>{let t=class t extends Rg{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Pi(t)))(o||t)}})(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),TS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:()=>(()=>j(xN))(),providedIn:"root"});let i=t;return i})(),xN=(()=>{let t=class t extends TS{constructor(){super(...arguments),this.location=j(qo),this.urlSerializer=j(bs),this.options=j(xs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(kg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pS(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ra)this.stateMemento=this.createStateMemento();else if(n instanceof $r)this.rawUrlTree=r.initialUrl;else if(n instanceof Au){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof gs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof qr&&(n.code===3||n.code===2)?this.restoreHistory(r):n instanceof hs?this.restoreHistory(r,!0):n instanceof Cr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,s=W(W({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",s)}else{let a=W(W({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===n.finalUrl&&a===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Pi(t)))(o||t)}})(),t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),ls=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(ls||{});function RS(i,t){i.events.pipe(dt(e=>e instanceof Cr||e instanceof qr||e instanceof hs||e instanceof $r),oe(e=>e instanceof Cr||e instanceof $r?ls.COMPLETE:(e instanceof qr?e.code===0||e.code===1:!1)?ls.REDIRECTING:ls.FAILED),dt(e=>e!==ls.REDIRECTING),_n(1)).subscribe(()=>{t()})}function DN(i){throw i}var TN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gi=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=j(au),this.stateManager=j(TS),this.options=j(xs,{optional:!0})||{},this.pendingTasks=j(Uo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(zg),this.urlSerializer=j(bs),this.location=j(qo),this.urlHandlingStrategy=j(kg),this._events=new ot,this.errorHandler=this.options.errorHandler||DN,this.navigated=!1,this.routeReuseStrategy=j(SN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(ku,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Vu,{optional:!0}),this.eventsSubscription=new Be,this.isNgZoneEnabled=j(le)instanceof le&&le.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof qr&&r.code!==0&&r.code!==1)this.navigated=!0;else if(r instanceof Cr)this.navigated=!0;else if(r instanceof ms){let s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||_N(o.source)};this.scheduleNavigation(s,us,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}AN(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),us,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)}))}navigateToSyncWithBrowser(n,r,o){let a={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=W({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(a.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Fg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:a,fragment:s,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(l){case"merge":d=W(W({},this.currentUrlTree.queryParams),a);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=a||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let f=o?o.snapshot:this.routerState.snapshot.root;p=lS(f)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return cS(p,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=na(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,us,null,r)}navigate(n,r={skipLocationChange:!1}){return ON(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=W({},TN):r===!1?o=W({},RN):o=r,na(n))return B_(this.currentUrlTree,n,o);let a=this.parseUrl(n);return B_(this.currentUrlTree,a,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{let a=n[o];return a!=null&&(r[o]=a),r},{})}scheduleNavigation(n,r,o,a,s){if(this.disposed)return Promise.resolve(!1);let l,c,u;s?(l=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,f)=>{l=p,c=f});let d=this.pendingTasks.add();return RS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:a,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function ON(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new N(4008,!1)}function AN(i){return!(i instanceof gs)&&!(i instanceof ms)}var zu=class{};var IN=(()=>{let t=class t{constructor(n,r,o,a,s){this.router=n,this.injector=o,this.preloadingStrategy=a,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(dt(n=>n instanceof Cr),on(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let a of r){a.providers&&!a._injector&&(a._injector=ou(a.providers,n,`Route: ${a.path}`));let s=a._injector??n,l=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(l,a.children??a._loadedRoutes))}return De(o).pipe(Ir())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=Y(null);let a=o.pipe(Ue(s=>s===null?Y(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return De([a,s]).pipe(Ir())}else return a})}};t.\u0275fac=function(r){return new(r||t)(F(Gi),F(su),F(wt),F(zu),F(Lg))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),OS=new $(""),MN=(()=>{let t=class t{constructor(n,r,o,a,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=a,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ra?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Cr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof $r&&n.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Iu&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Iu(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){wh()},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();function PN(i){return i.routerState.root}function Ds(i,t){return{\u0275kind:i,\u0275providers:t}}function FN(){let i=j(cn);return t=>{let e=i.get(vr);if(t!==e.components[0])return;let n=i.get(Gi),r=i.get(AS);i.get(Vg)===1&&n.initialNavigation(),i.get(IS,null,me.Optional)?.setUpPreloading(),i.get(OS,null,me.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var AS=new $("",{factory:()=>new ot}),Vg=new $("",{providedIn:"root",factory:()=>1});function NN(){return Ds(2,[{provide:Vg,useValue:0},{provide:uu,multi:!0,deps:[cn],useFactory:t=>{let e=t.get(w_,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let r=t.get(Gi),o=t.get(AS);RS(r,()=>{n(!0)}),t.get(zg).afterPreactivation=()=>(n(!0),o.closed?Y(void 0):o),r.initialNavigation()}))}}])}function LN(){return Ds(3,[{provide:uu,multi:!0,useFactory:()=>{let t=j(Gi);return()=>{t.setUpLocationChangeListener()}}},{provide:Vg,useValue:2}])}var IS=new $("");function kN(i){return Ds(0,[{provide:IS,useExisting:IN},{provide:zu,useExisting:i}])}function zN(){return Ds(8,[$_,{provide:Vu,useExisting:$_}])}function VN(i){let t=[{provide:xS,useValue:CN},{provide:DS,useValue:W({skipNextTransition:!!i?.skipInitialTransition},i)}];return Ds(9,t)}var Y_=new $("ROUTER_FORROOT_GUARD"),GN=[qo,{provide:bs,useClass:ps},Gi,_s,{provide:ia,useFactory:PN,deps:[Gi]},Lg,[]],Gg=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[GN,[],{provide:ku,multi:!0,useValue:n},{provide:Y_,useFactory:UN,deps:[[Gi,new lh,new ub]]},{provide:xs,useValue:r||{}},r?.useHash?jN():BN(),HN(),r?.preloadingStrategy?kN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?WN(r):[],r?.bindToComponentInputs?zN().\u0275providers:[],r?.enableViewTransitions?VN().\u0275providers:[],qN()]}}static forChild(n){return{ngModule:t,providers:[{provide:ku,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(F(Y_,8))},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({});let i=t;return i})();function HN(){return{provide:OS,useFactory:()=>{let i=j(S_),t=j(le),e=j(xs),n=j(zg),r=j(bs);return e.scrollOffset&&i.setOffset(e.scrollOffset),new MN(r,n,i,t,e)}}}function jN(){return{provide:ki,useClass:b_}}function BN(){return{provide:ki,useClass:Nh}}function UN(i){return"guarded"}function WN(i){return[i.initialNavigation==="disabled"?LN().\u0275providers:[],i.initialNavigation==="enabledBlocking"?NN().\u0275providers:[]]}var Q_=new $("");function qN(){return[{provide:Q_,useFactory:FN},{provide:du,multi:!0,useExisting:Q_}]}var KN=[],MS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Gg.forRoot(KN),Gg]});let i=t;return i})();var PS=(()=>{let t=class t{constructor(n){this.http=n,this.apiUrl="api/champions"}getChampions(){return this.http.get(this.apiUrl)}};t.\u0275fac=function(r){return new(r||t)(F(jh))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var jS=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(he(Ho),he(He))},t.\u0275dir=Ve({type:t});let i=t;return i})(),QN=(()=>{let t=class t extends jS{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Pi(t)))(o||t)}})(),t.\u0275dir=Ve({type:t,features:[Mn]});let i=t;return i})(),BS=new $("NgValueAccessor");var ZN={provide:BS,useExisting:Vo(()=>Yu),multi:!0};function XN(){let i=Qn()?Qn().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var JN=new $("CompositionEventMode"),Yu=(()=>{let t=class t extends jS{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!XN())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(he(Ho),he(He),he(JN,8))},t.\u0275dir=Ve({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&jt("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[Fn([ZN]),Mn]});let i=t;return i})();var US=new $("NgValidators"),WS=new $("NgAsyncValidators");function qS(i){return i!=null}function $S(i){return Ni(i)?De(i):i}function KS(i){let t={};return i.forEach(e=>{t=e!=null?W(W({},t),e):t}),Object.keys(t).length===0?null:t}function YS(i,t){return t.map(e=>e(i))}function eL(i){return!i.validate}function QS(i){return i.map(t=>eL(t)?t:e=>t.validate(e))}function tL(i){if(!i)return null;let t=i.filter(qS);return t.length==0?null:function(e){return KS(YS(e,t))}}function ZS(i){return i!=null?tL(QS(i)):null}function nL(i){if(!i)return null;let t=i.filter(qS);return t.length==0?null:function(e){let n=YS(e,t).map($S);return $p(n).pipe(oe(KS))}}function XS(i){return i!=null?nL(QS(i)):null}function FS(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function JS(i){return i._rawValidators}function eE(i){return i._rawAsyncValidators}function Hg(i){return i?Array.isArray(i)?i:[i]:[]}function Bu(i,t){return Array.isArray(i)?i.includes(t):i===t}function NS(i,t){let e=Hg(t);return Hg(i).forEach(r=>{Bu(e,r)||e.push(r)}),e}function LS(i,t){return Hg(t).filter(e=>!Bu(i,e))}var Uu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ZS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=XS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},la=class extends Uu{get formDirective(){return null}get path(){return null}},Os=class extends Uu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Wu=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cY=Ae(W({},rL),{"[class.ng-submitted]":"isSubmitted"}),tE=(()=>{let t=class t extends Wu{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(he(Os,2))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Pn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Mn]});let i=t;return i})(),nE=(()=>{let t=class t extends Wu{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(he(la,10))},t.\u0275dir=Ve({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Pn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Mn]});let i=t;return i})();var Ts="VALID",Hu="INVALID",sa="PENDING",Rs="DISABLED";function Ug(i){return(Qu(i)?i.validators:i)||null}function iL(i){return Array.isArray(i)?ZS(i):i||null}function Wg(i,t){return(Qu(t)?t.asyncValidators:i)||null}function oL(i){return Array.isArray(i)?XS(i):i||null}function Qu(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function rE(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new N(1e3,"");if(!n[e])throw new N(1001,"")}function iE(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new N(1002,"")})}var ca=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ts}get invalid(){return this.status===Hu}get pending(){return this.status==sa}get disabled(){return this.status===Rs}get enabled(){return this.status!==Rs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(NS(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(NS(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(LS(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(LS(t,this._rawAsyncValidators))}hasValidator(t){return Bu(this._rawValidators,t)}hasAsyncValidator(t){return Bu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=sa,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Rs,this.errors=null,this._forEachChild(n=>{n.disable(Ae(W({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(W({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ts,this._forEachChild(n=>{n.enable(Ae(W({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ae(W({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ts||this.status===sa)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rs:Ts}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator=!0;let e=$S(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new A,this.statusChanges=new A}_calculateStatus(){return this._allControlsDisabled()?Rs:this.errors?Hu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(Hu)?Hu:Ts}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=iL(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=oL(this._rawAsyncValidators)}},qu=class extends ca{constructor(t,e,n){super(Ug(e),Wg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){iE(this,!0,t),Object.keys(t).forEach(n=>{rE(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var jg=class extends qu{};var oE=new $("CallSetDisabledState",{providedIn:"root",factory:()=>qg}),qg="always";function aL(i,t){return[...t.path,i]}function kS(i,t,e=qg){$g(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),lL(i,t),uL(i,t),cL(i,t),sL(i,t)}function zS(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Ku(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function $u(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function sL(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function $g(i,t){let e=JS(i);t.validator!==null?i.setValidators(FS(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=eE(i);t.asyncValidator!==null?i.setAsyncValidators(FS(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();$u(t._rawValidators,r),$u(t._rawAsyncValidators,r)}function Ku(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=JS(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=eE(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return $u(t._rawValidators,n),$u(t._rawAsyncValidators,n),e}function lL(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&aE(i,t)})}function cL(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&aE(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function aE(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function uL(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function dL(i,t){i==null,$g(i,t)}function pL(i,t){return Ku(i,t)}function fL(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function hL(i){return Object.getPrototypeOf(i.constructor)===QN}function gL(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function mL(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===Yu?e=o:hL(o)?n=o:r=o}),r||n||e||null}function vL(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function VS(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function GS(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ju=class extends ca{constructor(t=null,e,n){super(Ug(e),Wg(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(GS(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){VS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){VS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){GS(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var yL=i=>i instanceof ju;var sE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=Ve({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=t;return i})();var wL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({});let i=t;return i})();var lE=new $("NgModelWithFormControlWarning");var CL={provide:la,useExisting:Vo(()=>Kg)},Kg=(()=>{let t=class t extends la{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new A,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ku(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return kS(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){zS(n.control||null,n,!1),vL(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,gL(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(zS(r||null,n),yL(o)&&(kS(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);dL(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&pL(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$g(this.form,this),this._oldForm&&Ku(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(he(US,10),he(WS,10),he(oE,8))},t.\u0275dir=Ve({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&jt("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Fn([CL]),Mn,Rn]});let i=t;return i})();var bL={provide:Os,useExisting:Vo(()=>Yg)},Yg=(()=>{let t=class t extends Os{set isDisabled(n){}constructor(n,r,o,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new A,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=mL(this,a)}ngOnChanges(n){this._added||this._setUpControl(),fL(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return aL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(he(la,13),he(US,10),he(WS,10),he(BS,10),he(lE,8))},t.\u0275dir=Ve({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Fn([bL]),Mn,Rn]});let i=t;return i})();var _L=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[wL]});let i=t;return i})(),Bg=class extends ca{constructor(t,e,n){super(Ug(e),Wg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){iE(this,!1,t),t.forEach((n,r)=>{rE(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function HS(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var cE=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),a={};return HS(r)?a=r:r!==null&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new qu(o,a)}record(n,r=null){let o=this._reduceControls(n);return new jg(o,r)}control(n,r,o){let a={};return this.useNonNullable?(HS(r)?a=r:(a.validators=r,a.asyncValidators=o),new ju(n,Ae(W({},a),{nonNullable:!0}))):new ju(n,r,o)}array(n,r,o){let a=n.map(s=>this._createControl(s));return new Bg(a,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof ju)return n;if(n instanceof ca)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,a=n.length>2?n[2]:null;return this.control(r,o,a)}else return this.control(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var uE=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:lE,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:oE,useValue:n.callSetDisabledState??qg}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[_L]});let i=t;return i})();function ar(i){return i==null||i===""?null:i}function x(i,t){return t===void 0&&(t=!1),i!=null&&(i!==""||t)}function K(i){return!x(i)}function Ft(i){return i==null||i.length===0}function gl(i){return i!=null&&typeof i.toString=="function"?i.toString():null}function ui(i){if(i!==void 0){if(i===null||i==="")return null;if(typeof i=="number")return isNaN(i)?void 0:i;var t=parseInt(i,10);return isNaN(t)?void 0:t}}function Ed(i){if(i!==void 0)return i===null||i===""?!1:typeof i=="boolean"?i:/true/i.test(i)}function EL(i){if(!(i==null||i===""))return i}function Zm(i,t){var e=i?JSON.stringify(i):null,n=t?JSON.stringify(t):null;return e===n}function xL(i,t,e){e===void 0&&(e=!1);var n=i==null,r=t==null;if(i&&i.toNumber&&(i=i.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&r)return 0;if(n)return-1;if(r)return 1;function o(a,s){return a>s?1:a<s?-1:0}if(typeof i!="string"||!e)return o(i,t);try{return i.localeCompare(t)}catch{return o(i,t)}}function Zi(i){if(i instanceof Set||i instanceof Map){var t=[];return i.forEach(function(e){return t.push(e)}),t}return Object.values(i)}var DL=Object.freeze({__proto__:null,makeNull:ar,exists:x,missing:K,missingOrEmpty:Ft,toStringOrNull:gl,attrToNumber:ui,attrToBoolean:Ed,attrToString:EL,jsonEquals:Zm,defaultComparator:xL,values:Zi}),TL=function(){function i(){this.existingKeys={}}return i.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},i.prototype.getUniqueKey=function(t,e){t=gl(t);for(var n=0;;){var r=void 0;if(t?(r=t,n!==0&&(r+="_"+n)):e?(r=e,n!==0&&(r+="_"+n)):r=n,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);n++}},i}(),RL=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},OL=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o};function ft(i,t){var e,n;if(i!=null){if(Array.isArray(i)){for(var r=0;r<i.length;r++)t(r.toString(),i[r]);return}try{for(var o=RL(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=OL(a.value,2),l=s[0],c=s[1];t(l,c)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}function yv(i){for(var t={},e=Object.keys(i),n=0;n<e.length;n++){var r=e[n],o=i[r];t[r]=o}return t}function AL(i){return JSON.parse(JSON.stringify(i))}function xd(i,t){if(i){var e=i,n={};return Object.keys(e).forEach(function(r){if(!(t&&t.indexOf(r)>=0)){var o=e[r],a=Dd(o)&&o.constructor===Object;a?n[r]=xd(o):n[r]=o}}),n}}function _0(i,t){return i[t]}function S0(i,t,e){i[t]=e}function IL(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];e.forEach(function(r){return E0(i,t,r)})}function E0(i,t,e,n){var r=_0(i,e);r!==void 0&&S0(t,e,n?n(r):r)}function x0(i){var t={};return i.filter(function(e){return e!=null}).forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=null})}),Object.keys(t)}function pi(i){if(!i)return[];var t=Object;if(typeof t.values=="function")return t.values(i);var e=[];for(var n in i)i.hasOwnProperty(n)&&i.propertyIsEnumerable(n)&&e.push(i[n]);return e}function Zt(i,t,e,n){e===void 0&&(e=!0),n===void 0&&(n=!1),x(t)&&ft(t,function(r,o){var a=i[r];if(a!==o){if(n){var s=a==null&&o!=null;if(s){var l=typeof o=="object"&&o.constructor===Object,c=l;c&&(a={},i[r]=a)}}Dd(o)&&Dd(a)&&!Array.isArray(a)?Zt(a,o,e,n):(e||o!==void 0)&&(i[r]=o)}})}function ML(i){return K(i)||Object.keys(i).length===0}function PL(i,t,e){if(i==null)return e;for(var n=t.split("."),r=i;n.length>1;)if(r=r[n.shift()],r==null)return e;var o=r[n[0]];return o??e}function FL(i,t,e){if(i!=null){var n=t.split("."),r=i;n.forEach(function(o,a){r[o]||(r[o]={}),a<n.length-1&&(r=r[o])}),r[n[n.length-1]]=e}}function ya(i,t,e){if(!(!t||!i)){if(!e)return i[t];for(var n=t.split("."),r=i,o=0;o<n.length;o++){if(r==null)return;r=r[n[o]]}return r}}function D0(i,t,e){t===void 0&&(t=[]),Object.keys(i).forEach(function(a){var s=i[a];typeof s=="object"&&!t.includes(a)&&(i[a]=void 0)});var n=Object.getPrototypeOf(i),r={},o=function(a){return"AG Grid: Grid API function ".concat(a,`() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: `).concat(e)};Object.getOwnPropertyNames(n).forEach(function(a){var s=n[a];if(typeof s=="function"&&!t.includes(a)){var l=function(){console.warn(o(a))};r[a]={value:l,writable:!0}}}),Object.defineProperties(i,r)}function Dd(i){return typeof i=="object"&&i!==null}var NL=Object.freeze({__proto__:null,iterateObject:ft,cloneObject:yv,deepCloneObject:AL,deepCloneDefinition:xd,getProperty:_0,setProperty:S0,copyPropertiesIfPresent:IL,copyPropertyIfPresent:E0,getAllKeysInObjects:x0,getAllValuesInObject:pi,mergeDeep:Zt,missingOrEmptyObject:ML,get:PL,set:FL,getValueUsingField:ya,removeAllReferences:D0,isNonNullObject:Dd}),dE={};function ba(i,t){dE[t]||(i(),dE[t]=!0)}function J(i){ba(function(){return console.warn("AG Grid: "+i)},i)}function zn(i){ba(function(){return console.error("AG Grid: "+i)},i)}function qd(i){if(i.name)return i.name;var t=/function\s+([^\(]+)/.exec(i.toString());return t&&t.length===2?t[1].trim():null}function $d(i){return!!(i&&i.constructor&&i.call&&i.apply)}function T0(i){R0(i,400)}var Qg=[],Zg=!1;function Xm(i){Qg.push(i),!Zg&&(Zg=!0,window.setTimeout(function(){var t=Qg.slice();Qg.length=0,Zg=!1,t.forEach(function(e){return e()})},0))}function R0(i,t){t===void 0&&(t=0),i.length>0&&window.setTimeout(function(){return i.forEach(function(e){return e()})},t)}function hn(i,t){var e;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){i.apply(o,n)},t)}}function Jm(i,t){var e=0;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this,a=new Date().getTime();a-e<t||(e=a,i.apply(o,n))}}function wv(i,t,e,n){e===void 0&&(e=100);var r=new Date().getTime(),o=null,a=!1,s=function(){var l=new Date().getTime()-r>e;(i()||l)&&(t(),a=!0,o!=null&&(window.clearInterval(o),o=null),l&&n&&console.warn(n))};s(),a||(o=window.setInterval(s,10))}function LL(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return function(e){return i.reduce(function(n,r){return r(n)},e)}}function O0(i){i&&i()}var kL=function(){},zL=Object.freeze({__proto__:null,doOnce:ba,warnOnce:J,errorOnce:zn,getFunctionName:qd,isFunction:$d,executeInAWhile:T0,executeNextVMTurn:Xm,executeAfter:R0,debounce:hn,throttle:Jm,waitUntil:wv,compose:LL,callIfPresent:O0,noop:kL}),B=function(i){return i.CommunityCoreModule="@ag-grid-community/core",i.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",i.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",i.CsvExportModule="@ag-grid-community/csv-export",i.EnterpriseCoreModule="@ag-grid-enterprise/core",i.RowGroupingModule="@ag-grid-enterprise/row-grouping",i.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",i.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",i.MenuModule="@ag-grid-enterprise/menu",i.SetFilterModule="@ag-grid-enterprise/set-filter",i.MultiFilterModule="@ag-grid-enterprise/multi-filter",i.StatusBarModule="@ag-grid-enterprise/status-bar",i.SideBarModule="@ag-grid-enterprise/side-bar",i.RangeSelectionModule="@ag-grid-enterprise/range-selection",i.MasterDetailModule="@ag-grid-enterprise/master-detail",i.RichSelectModule="@ag-grid-enterprise/rich-select",i.GridChartsModule="@ag-grid-enterprise/charts",i.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",i.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",i.ExcelExportModule="@ag-grid-enterprise/excel-export",i.ClipboardModule="@ag-grid-enterprise/clipboard",i.SparklinesModule="@ag-grid-enterprise/sparklines",i.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",i.AngularModule="@ag-grid-community/angular",i.ReactModule="@ag-grid-community/react",i.VueModule="@ag-grid-community/vue",i}(B||{}),As=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},pE=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},ee=function(){function i(){}return i.register=function(t){i.__register(t,!0,void 0)},i.registerModules=function(t){i.__registerModules(t,!0,void 0)},i.__register=function(t,e,n){i.runVersionChecks(t),n!==void 0?(i.areGridScopedModules=!0,i.gridModulesMap[n]===void 0&&(i.gridModulesMap[n]={}),i.gridModulesMap[n][t.moduleName]=t):i.globalModulesMap[t.moduleName]=t,i.setModuleBased(e)},i.__unRegisterGridModules=function(t){delete i.gridModulesMap[t]},i.__registerModules=function(t,e,n){i.setModuleBased(e),t&&t.forEach(function(r){return i.__register(r,e,n)})},i.isValidModuleVersion=function(t){var e=As(t.version.split(".")||[],2),n=e[0],r=e[1],o=As(i.currentModuleVersion.split(".")||[],2),a=o[0],s=o[1];return n===a&&r===s},i.runVersionChecks=function(t){if(i.currentModuleVersion||(i.currentModuleVersion=t.version),t.version?i.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){var e=t.validate();if(!e.isValid){var n=e;console.error("AG Grid: ".concat(n.message))}}},i.setModuleBased=function(t){i.moduleBased===void 0?i.moduleBased=t:i.moduleBased!==t&&ba(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},i.__setIsBundled=function(){i.isBundled=!0},i.__assertRegistered=function(t,e,n){var r;if(this.__isRegistered(t,n))return!0;var o=e+t,a;if(i.isBundled)a="AG Grid: unable to use ".concat(e,` as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`);else if(i.moduleBased||i.moduleBased===void 0){var s=(r=Object.entries(B).find(function(l){var c=As(l,2);c[0];var u=c[1];return u===t}))===null||r===void 0?void 0:r[0];a="AG Grid: unable to use ".concat(e," as the ").concat(s," is not registered").concat(i.areGridScopedModules?" for gridId: ".concat(n):"",`. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { `).concat(s," } from '").concat(t,`';
    
    ModuleRegistry.registerModules([ `).concat(s,` ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`)}else a="AG Grid: unable to use ".concat(e,` as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';
            
For more info see: https://www.ag-grid.com/javascript-grid/packages/`);return ba(function(){console.warn(a)},o),!1},i.__isRegistered=function(t,e){var n;return!!i.globalModulesMap[t]||!!(!((n=i.gridModulesMap[e])===null||n===void 0)&&n[t])},i.__getRegisteredModules=function(t){return pE(pE([],As(Zi(i.globalModulesMap)),!1),As(Zi(i.gridModulesMap[t]||{})),!1)},i.__getGridRegisteredModules=function(t){var e;return Zi((e=i.gridModulesMap[t])!==null&&e!==void 0?e:{})||[]},i.__isPackageBased=function(){return!i.moduleBased},i.globalModulesMap={},i.gridModulesMap={},i.areGridScopedModules=!1,i}(),VL=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},GL=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},HL=function(){function i(t,e){if(this.beanWrappers={},this.destroyed=!1,!(!t||!t.beanClasses)){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return i.prototype.getBeanInstances=function(){return Zi(this.beanWrappers).map(function(t){return t.beanInstance})},i.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},i.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),x(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},i.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),ft(this.beanWrappers,function(n,r){var o;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=r.bean.__agBeanMetaData.autowireMethods.agConstructor);var a=t.getBeansForParameters(o,r.bean.name),s=new(r.bean.bind.apply(r.bean,GL([null],VL(a),!1)));r.beanInstance=s});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},i.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n=void 0;t.prototype.constructor?n=qd(t.prototype.constructor):n=""+t,console.error("Context item ".concat(n," is not a bean"));return}var r={bean:t,beanInstance:null,beanName:e.beanName};this.beanWrappers[e.beanName]=r},i.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(r,o){var a=r.agClassAttributes;a&&a.forEach(function(s){var l=e.lookupBeanInstance(o,s.beanName,s.optional);n[s.attributeName]=l})})})},i.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(r,o){ft(r.autowireMethods,function(a,s){if(a!=="agConstructor"){var l=e.getBeansForParameters(s,o);n[a].apply(n,l)}})})})},i.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);n!=null;){var r=n.constructor;if(r.hasOwnProperty("__agBeanMetaData")){var o=r.__agBeanMetaData,a=this.getBeanName(r);e(o,a)}n=Object.getPrototypeOf(n)}},i.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString(),n=e.substring(9,e.indexOf("("));return n},i.prototype.getBeansForParameters=function(t,e){var n=this,r=[];return t&&ft(t,function(o,a){var s=n.lookupBeanInstance(e,a);r[Number(o)]=s}),r},i.prototype.lookupBeanInstance=function(t,e,n){if(n===void 0&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if(e==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var r=this.beanWrappers[e];return r?r.beanInstance:(n||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},i.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach(function(r){return n.callLifeCycleMethodsOnBean(r,e)})},i.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var r={};this.forEachMetaDataInHierarchy(t,function(a){var s=a[e];s&&s.forEach(function(l){l!=n&&(r[l]=!0)})});var o=Object.keys(r);o.forEach(function(a){return t[a]()})},i.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},i.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,ee.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},i.prototype.destroyBean=function(t){t&&this.destroyBeans([t])},i.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(n){e.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy");var r=n;typeof r.destroy=="function"&&r.destroy()}),[]):[]},i.prototype.isDestroyed=function(){return this.destroyed},i.prototype.getGridId=function(){return this.contextParams.gridId},i}();function fE(i,t,e){var n=ro(i.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function I(i,t,e){var n=ro(i.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function _t(i,t,e){var n=ro(i.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function z(i){return function(t){var e=ro(t);e.beanName=i}}function m(i){return function(t,e,n){A0(t,i,!1,t,e,null)}}function ye(i){return function(t,e,n){A0(t,i,!0,t,e,null)}}function A0(i,t,e,n,r,o){if(t===null){console.error("AG Grid: Autowired name should not be null");return}if(typeof o=="number"){console.error("AG Grid: Autowired should be on an attribute");return}var a=ro(i.constructor);a.agClassAttributes||(a.agClassAttributes=[]),a.agClassAttributes.push({attributeName:r,beanName:t,optional:e})}function Nt(i){return function(t,e,n){var r=typeof t=="function"?t:t.constructor,o;if(typeof n=="number"){var a=void 0;e?(o=ro(r),a=e):(o=ro(r),a="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[a]||(o.autowireMethods[a]={}),o.autowireMethods[a][n]=i}}}function ro(i){return i.hasOwnProperty("__agBeanMetaData")||(i.__agBeanMetaData={}),i.__agBeanMetaData}var hE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Is=function(i,t){return function(e,n){t(e,n,i)}},fi=function(){function i(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return i.prototype.setBeans=function(t,e,n,r,o){if(r===void 0&&(r=null),o===void 0&&(o=null),this.frameworkOverrides=n,this.gridOptionsService=e,r){var a=e.useAsyncEvents();this.addGlobalListener(r,a)}o&&this.addGlobalListener(o,!1)},i.prototype.getListeners=function(t,e,n){var r=e?this.allAsyncListeners:this.allSyncListeners,o=r.get(t);return!o&&n&&(o=new Set,r.set(t,o)),o},i.prototype.noRegisteredListenersExist=function(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0},i.prototype.addEventListener=function(t,e,n){n===void 0&&(n=!1),this.getListeners(t,n,!0).add(e)},i.prototype.removeEventListener=function(t,e,n){n===void 0&&(n=!1);var r=this.getListeners(t,n,!1);if(r&&(r.delete(e),r.size===0)){var o=n?this.allAsyncListeners:this.allSyncListeners;o.delete(t)}},i.prototype.addGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},i.prototype.removeGlobalListener=function(t,e){e===void 0&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},i.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var n=this.gridOptionsService,r=n.api,o=n.columnApi,a=n.context;e.api=r,e.columnApi=o,e.context=a}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},i.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},i.prototype.dispatchToListeners=function(t,e){var n=this,r,o=t.type;if(e&&"event"in t){var a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}var s=function(d,p){return d.forEach(function(f){p.has(f)&&(e?n.dispatchAsync(function(){return f(t)}):f(t))})},l=(r=this.getListeners(o,e,!1))!==null&&r!==void 0?r:new Set,c=new Set(l);c.size>0&&s(c,l);var u=new Set(e?this.globalAsyncListeners:this.globalSyncListeners);u.forEach(function(d){e?n.dispatchAsync(function(){return n.frameworkOverrides.dispatchEvent(o,function(){return d(o,t)},!0)}):n.frameworkOverrides.dispatchEvent(o,function(){return d(o,t)},!0)})},i.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},i.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},hE([Is(0,Nt("loggerFactory")),Is(1,Nt("gridOptionsService")),Is(2,Nt("frameworkOverrides")),Is(3,Nt("globalEventListener")),Is(4,Nt("globalSyncEventListener"))],i.prototype,"setBeans",null),i=hE([z("eventService")],i),i}(),Zu=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},jL={resizable:!0,sortable:!0},BL=0;function I0(){return BL++}var Re=function(){function i(t,e,n,r){this.instanceId=I0(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new fi,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=r,this.setState(t)}return i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setState=function(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);var e=t.sortIndex,n=t.initialSortIndex;e!==void 0?e!==null&&(this.sortIndex=e):n!==null&&(this.sortIndex=n);var r=t.hide,o=t.initialHide;r!==void 0?this.visible=!r:this.visible=!o,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);var a=t.flex,s=t.initialFlex;a!==void 0?this.flex=a:s!==void 0&&(this.flex=s)},i.prototype.setColDef=function(t,e,n){n===void 0&&(n="api"),this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))},i.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},i.prototype.setParent=function(t){this.parent=t},i.prototype.getParent=function(){return this.parent},i.prototype.setOriginalParent=function(t){this.originalParent=t},i.prototype.getOriginalParent=function(){return this.originalParent},i.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},i.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=x(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=x(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},i.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},i.prototype.initTooltip=function(){this.tooltipEnabled=x(this.colDef.tooltipField)||x(this.colDef.tooltipValueGetter)||x(this.colDef.tooltipComponent)},i.prototype.resetActualWidth=function(t){t===void 0&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},i.prototype.isEmptyGroup=function(){return!1},i.prototype.isRowGroupDisplayed=function(t){if(K(this.colDef)||K(this.colDef.showRowGroup))return!1;var e=this.colDef.showRowGroup===!0,n=this.colDef.showRowGroup===t;return e||n},i.prototype.isPrimary=function(){return this.primary},i.prototype.isFilterAllowed=function(){var t=!!this.colDef.filter;return t},i.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},i.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},i.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},i.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},i.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},i.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},i.prototype.isSuppressNavigable=function(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){var e=this.createColumnFunctionCallbackParams(t),n=this.colDef.suppressNavigable;return n(e)}return!1},i.prototype.isCellEditable=function(t){return t.group&&!this.gridOptionsService.get("enableGroupEdit")?!1:this.isColumnFunc(t,this.colDef.editable)},i.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},i.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},i.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},i.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},i.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},i.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},i.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},i.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},i.prototype.getColDefValue=function(t){var e;return(e=this.colDef[t])!==null&&e!==void 0?e:jL[t]},i.prototype.isColumnFunc=function(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){var n=this.createColumnFunctionCallbackParams(t),r=e;return r(n)}return!1},i.prototype.setMoving=function(t,e){e===void 0&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},i.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},i.prototype.isMoving=function(){return this.moving},i.prototype.getSort=function(){return this.sort},i.prototype.setSort=function(t,e){e===void 0&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},i.prototype.setMenuVisible=function(t,e){e===void 0&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},i.prototype.isMenuVisible=function(){return this.menuVisible},i.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},i.prototype.isSortAscending=function(){return this.sort==="asc"},i.prototype.isSortDescending=function(){return this.sort==="desc"},i.prototype.isSortNone=function(){return K(this.sort)},i.prototype.isSorting=function(){return x(this.sort)},i.prototype.getSortIndex=function(){return this.sortIndex},i.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},i.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},i.prototype.getAggFunc=function(){return this.aggFunc},i.prototype.getLeft=function(){return this.left},i.prototype.getOldLeft=function(){return this.oldLeft},i.prototype.getRight=function(){return this.left+this.actualWidth},i.prototype.setLeft=function(t,e){e===void 0&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},i.prototype.isFilterActive=function(){return this.filterActive},i.prototype.setFilterActive=function(t,e,n){e===void 0&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var r=this.createColumnEvent("filterChanged",e);n&&Zt(r,n),this.eventService.dispatchEvent(r)},i.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},i.prototype.setPinned=function(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")},i.prototype.setFirstRightPinned=function(t,e){e===void 0&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},i.prototype.setLastLeftPinned=function(t,e){e===void 0&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},i.prototype.isFirstRightPinned=function(){return this.firstRightPinned},i.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},i.prototype.isPinned=function(){return this.pinned==="left"||this.pinned==="right"},i.prototype.isPinnedLeft=function(){return this.pinned==="left"},i.prototype.isPinnedRight=function(){return this.pinned==="right"},i.prototype.getPinned=function(){return this.pinned},i.prototype.setVisible=function(t,e){e===void 0&&(e="api");var n=t===!0;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},i.prototype.isVisible=function(){return this.visible},i.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},i.prototype.getColDef=function(){return this.colDef},i.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},i.prototype.getColId=function(){return this.colId},i.prototype.getId=function(){return this.colId},i.prototype.getUniqueId=function(){return this.colId},i.prototype.getDefinition=function(){return this.colDef},i.prototype.getActualWidth=function(){return this.actualWidth},i.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},i.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},i.prototype.createBaseColDefParams=function(t){var e={node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return e},i.prototype.getColSpan=function(t){if(K(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},i.prototype.getRowSpan=function(t){if(K(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},i.prototype.setActualWidth=function(t,e,n){e===void 0&&(e="api"),n===void 0&&(n=!1),this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},i.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},i.prototype.isGreaterThanMax=function(t){return this.maxWidth!=null?t>this.maxWidth:!1},i.prototype.getMinWidth=function(){return this.minWidth},i.prototype.getMaxWidth=function(){return this.maxWidth},i.prototype.getFlex=function(){return this.flex||0},i.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},i.prototype.setMinimum=function(t){t===void 0&&(t="api"),x(this.minWidth)&&this.setActualWidth(this.minWidth,t)},i.prototype.setRowGroupActive=function(t,e){e===void 0&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},i.prototype.isRowGroupActive=function(){return this.rowGroupActive},i.prototype.setPivotActive=function(t,e){e===void 0&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},i.prototype.isPivotActive=function(){return this.pivotActive},i.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},i.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},i.prototype.setValueActive=function(t,e){e===void 0&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},i.prototype.isValueActive=function(){return this.aggregationActive},i.prototype.isAllowPivot=function(){return this.colDef.enablePivot===!0},i.prototype.isAllowValue=function(){return this.colDef.enableValue===!0},i.prototype.isAllowRowGroup=function(){return this.colDef.enableRowGroup===!0},i.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return e==null&&(e=t),e},i.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:i.EVENT_STATE_UPDATED,key:t})},i.EVENT_MOVING_CHANGED="movingChanged",i.EVENT_LEFT_CHANGED="leftChanged",i.EVENT_WIDTH_CHANGED="widthChanged",i.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",i.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",i.EVENT_VISIBLE_CHANGED="visibleChanged",i.EVENT_FILTER_CHANGED="filterChanged",i.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",i.EVENT_SORT_CHANGED="sortChanged",i.EVENT_COL_DEF_CHANGED="colDefChanged",i.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",i.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",i.EVENT_PIVOT_CHANGED="columnPivotChanged",i.EVENT_VALUE_CHANGED="columnValueChanged",i.EVENT_STATE_UPDATED="columnStateUpdated",Zu([m("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Zu([m("columnUtils")],i.prototype,"columnUtils",void 0),Zu([m("columnHoverService")],i.prototype,"columnHoverService",void 0),Zu([I],i.prototype,"initialise",null),i}(),UL=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ge=function(){function i(t,e,n,r){this.localEventService=new fi,this.expandable=!1,this.instanceId=I0(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=r}return i.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},i.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setOriginalParent=function(t){this.originalParent=t},i.prototype.getOriginalParent=function(){return this.originalParent},i.prototype.getLevel=function(){return this.level},i.prototype.isVisible=function(){return this.children?this.children.some(function(t){return t.isVisible()}):!1},i.prototype.isPadding=function(){return this.padding},i.prototype.setExpanded=function(t){this.expanded=t===void 0?!1:t;var e={type:i.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(e)},i.prototype.isExpandable=function(){return this.expandable},i.prototype.isExpanded=function(){return this.expanded},i.prototype.getGroupId=function(){return this.groupId},i.prototype.getId=function(){return this.getGroupId()},i.prototype.setChildren=function(t){this.children=t},i.prototype.getChildren=function(){return this.children},i.prototype.getColGroupDef=function(){return this.colGroupDef},i.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},i.prototype.addLeafColumns=function(t){this.children&&this.children.forEach(function(e){e instanceof Re?t.push(e):e instanceof i&&e.addLeafColumns(t)})},i.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},i.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},i.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,n=!1,r=this.findChildrenRemovingPadding(),o=0,a=r.length;o<a;o++){var s=r[o];if(s.isVisible()){var l=s.getColumnGroupShow();l==="open"?(t=!0,n=!0):l==="closed"?(e=!0,n=!0):(t=!0,e=!0)}}var c=t&&e&&n;if(this.expandable!==c){this.expandable=c;var u={type:i.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(u)}}},i.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(n){n.forEach(function(r){var o=r instanceof i&&r.isPadding();o?e(r.children):t.push(r)})};return e(this.children),t},i.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},i.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},i.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},i.EVENT_EXPANDED_CHANGED="expandedChanged",i.EVENT_EXPANDABLE_CHANGED="expandableChanged",UL([_t],i.prototype,"destroy",null),i}(),WL={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function M0(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=0;e<i.length;e++){var n=i[e];if(x(n))return n}return null}function qL(i){return i!=null&&i.length>0}function be(i){if(!(!i||!i.length))return i[i.length-1]}function Tr(i,t,e){return i==null&&t==null?!0:i!=null&&t!=null&&i.length===t.length&&i.every(function(n,r){return e?e(n,t[r]):t[r]===n})}function $L(i,t){return Tr(i,t)}function P0(i){return i.sort(function(t,e){return t-e})}function KL(i,t){if(i)for(var e=i.length-2;e>=0;e--){var n=i[e]===t,r=i[e+1]===t;n&&r&&i.splice(e+1,1)}}function Cv(i,t){var e=i.indexOf(t);e>=0&&(i[e]=i[i.length-1],i.pop())}function Yt(i,t){var e=i.indexOf(t);e>=0&&i.splice(e,1)}function F0(i,t){for(var e=0;e<t.length;e++)Cv(i,t[e])}function N0(i,t){for(var e=0;e<t.length;e++)Yt(i,t[e])}function ml(i,t,e){i.splice(e,0,t)}function YL(i,t,e){if(!(i==null||t==null))for(var n=t.length-1;n>=0;n--){var r=t[n];ml(i,r,e)}}function ev(i,t,e){N0(i,t),t.slice().reverse().forEach(function(n){return ml(i,n,e)})}function gn(i,t){return i.indexOf(t)>-1}function L0(i){return[].concat.apply([],i)}function tv(i,t){t==null||i==null||t.forEach(function(e){return i.push(e)})}function QL(i){return i.map(gl)}function ZL(i,t){if(i!=null)for(var e=i.length-1;e>=0;e--)t(i[e],e)}var XL=Object.freeze({__proto__:null,firstExistingValue:M0,existsAndNotEmpty:qL,last:be,areEqual:Tr,shallowCompare:$L,sortNumerically:P0,removeRepeatsFromArray:KL,removeFromUnorderedArray:Cv,removeFromArray:Yt,removeAllFromUnorderedArray:F0,removeAllFromArray:N0,insertIntoArray:ml,insertArrayIntoArray:YL,moveInArray:ev,includes:gn,flatten:L0,pushAll:tv,toStrings:QL,forEachReverse:ZL}),k0="__ag_Grid_Stop_Propagation",JL=["touchstart","touchend","touchmove","touchcancel","scroll"],Xg={};function lr(i){i[k0]=!0}function Gn(i){return i[k0]===!0}var bv=function(){var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},t=function(e){if(typeof Xg[e]=="boolean")return Xg[e];var n=document.createElement(i[e]||"div");return e="on"+e,Xg[e]=e in n};return t}();function Td(i,t,e){for(var n=t;n;){var r=i.getDomData(n,e);if(r)return r;n=n.parentElement}return null}function Rd(i,t){return!t||!i?!1:V0(t).indexOf(i)>=0}function z0(i){for(var t=[],e=i.target;e;)t.push(e),e=e.parentElement;return t}function V0(i){var t=i;return t.path?t.path:t.composedPath?t.composedPath():z0(t)}function G0(i,t,e,n){var r=gn(JL,e),o=r?{passive:!0}:void 0;i&&i.addEventListener&&i.addEventListener(t,e,n,o)}var ek=Object.freeze({__proto__:null,stopPropagationForAgGrid:lr,isStopPropagationForAgGrid:Gn,isEventSupported:bv,getCtrlForEventTarget:Td,isElementInEventPath:Rd,createEventPath:z0,getEventPath:V0,addSafePassiveEventListener:G0}),Hi=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},T=function(){function i(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return i.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},i.prototype.getContext=function(){return this.context},i.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:i.EVENT_DESTROYED})},i.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new fi),this.localEventService.addEventListener(t,e)},i.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},i.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},i.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},i.prototype.addManagedListener=function(t,e,n){var r=this;if(!this.destroyed){t instanceof HTMLElement?G0(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var o=function(){return t.removeEventListener(e,n),r.destroyFunctions=r.destroyFunctions.filter(function(a){return a!==o}),null};return this.destroyFunctions.push(o),o}},i.prototype.setupGridOptionListener=function(t,e){var n=this;this.gridOptionsService.addEventListener(t,e);var r=function(){return n.gridOptionsService.removeEventListener(t,e),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==r}),null};this.destroyFunctions.push(r)},i.prototype.addManagedPropertyListener=function(t,e){this.destroyed||this.setupGridOptionListener(t,e)},i.prototype.addManagedPropertyListeners=function(t,e){var n=this;if(!this.destroyed){var r=t.join("-")+this.propertyListenerId++,o=function(a){if(a.changeSet){if(a.changeSet&&a.changeSet.id===n.lastChangeSetIdLookup[r])return;n.lastChangeSetIdLookup[r]=a.changeSet.id}var s={type:"gridPropertyChanged",changeSet:a.changeSet};e(s)};t.forEach(function(a){return n.setupGridOptionListener(a,o)})}},i.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},i.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},i.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},i.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},i.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach(function(r){return n.destroyBean(r,e)}),[]},i.EVENT_DESTROYED="destroyed",Hi([m("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),Hi([m("context")],i.prototype,"context",void 0),Hi([m("eventService")],i.prototype,"eventService",void 0),Hi([m("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Hi([m("localeService")],i.prototype,"localeService",void 0),Hi([m("environment")],i.prototype,"environment",void 0),Hi([_t],i.prototype,"destroy",null),i}(),tk=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xu=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},nk=function(i,t){return function(e,n){t(e,n,i)}},rk=function(i){tk(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,n,r){var o=new TL,a=this.extractExistingTreeData(r),s=a.existingCols,l=a.existingGroups,c=a.existingColKeys;o.addExistingKeys(c);var u=this.recursivelyCreateColumns(e,0,n,s,o,l),d=this.findMaxDept(u,0);this.logger.log("Number of levels for grouped columns is "+d);var p=this.balanceColumnTree(u,0,d,o),f=function(h,g){h instanceof Ge&&h.setupExpandable(),h.setOriginalParent(g)};return this.columnUtils.depthFirstOriginalTreeSearch(null,p,f),{columnTree:p,treeDept:d}},t.prototype.extractExistingTreeData=function(e){var n=[],r=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){if(a instanceof Ge){var s=a;r.push(s)}else{var l=a;o.push(l.getId()),n.push(l)}}),{existingCols:n,existingGroups:r,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,n){var r=this;return e.map(function(o){return r.createAutoGroupTreeItem(n,o)})},t.prototype.createAutoGroupTreeItem=function(e,n){for(var r=this.findDepth(e),o=n,a=r-1;a>=0;a--){var s=new Ge(null,"FAKE_PATH_".concat(n.getId(),"}_").concat(a),!0,a);this.createBean(s),s.setChildren([o]),o.setOriginalParent(s),o=s}return r===0&&n.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var n=0,r=e;r&&r[0]&&r[0]instanceof Ge;)n++,r=r[0].getChildren();return n},t.prototype.balanceColumnTree=function(e,n,r,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l instanceof Ge){var c=l,u=this.balanceColumnTree(c.getChildren(),n+1,r,o);c.setChildren(u),a.push(c)}else{for(var d=void 0,p=void 0,f=r-1;f>=n;f--){var h=o.getUniqueKey(null,null),g=this.createMergedColGroupDef(null),y=new Ge(g,h,!0,n);this.createBean(y),p&&p.setChildren([y]),p=y,d||(d=p)}if(d&&p){a.push(d);var w=e.some(function(C){return C instanceof Ge});if(w){p.setChildren([l]);continue}else{p.setChildren(e);break}}a.push(l)}}return a},t.prototype.findMaxDept=function(e,n){for(var r=n,o=0;o<e.length;o++){var a=e[o];if(a instanceof Ge){var s=a,l=this.findMaxDept(s.getChildren(),n+1);r<l&&(r=l)}}return r},t.prototype.recursivelyCreateColumns=function(e,n,r,o,a,s){if(!e)return[];for(var l=new Array(e.length),c=0;c<l.length;c++){var u=e[c];this.isColumnGroup(u)?l[c]=this.createColumnGroup(r,u,n,o,a,s):l[c]=this.createColumn(r,u,o,a)}return l},t.prototype.createColumnGroup=function(e,n,r,o,a,s){var l=this.createMergedColGroupDef(n),c=a.getUniqueKey(l.groupId||null,null),u=new Ge(l,c,!1,r);this.createBean(u);var d=this.findExistingGroup(n,s);d&&s.splice(d.idx,1);var p=d?.group;p&&u.setExpanded(p.isExpanded());var f=this.recursivelyCreateColumns(l.children,r+1,e,o,a,s);return u.setChildren(f),u},t.prototype.createMergedColGroupDef=function(e){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,e),n},t.prototype.createColumn=function(e,n,r,o){var a=this.findExistingColumn(n,r);a&&r?.splice(a.idx,1);var s=a?.column;if(s){var c=this.addColumnDefaultAndTypes(n,s.getColId());s.setColDef(c,n),this.applyColumnState(s,c)}else{var l=o.getUniqueKey(n.colId,n.field),c=this.addColumnDefaultAndTypes(n,l);s=new Re(c,n,l,e),this.context.createBean(s)}return this.dataTypeService.addColumnListeners(s),s},t.prototype.applyColumnState=function(e,n){var r=ui(n.flex);r!==void 0&&e.setFlex(r);var o=e.getFlex()<=0;if(o){var a=ui(n.width);if(a!=null)e.setActualWidth(a);else{var s=e.getActualWidth();e.setActualWidth(s)}}n.sort!==void 0&&(n.sort=="asc"||n.sort=="desc"?e.setSort(n.sort):e.setSort(void 0));var l=ui(n.sortIndex);l!==void 0&&e.setSortIndex(l);var c=Ed(n.hide);c!==void 0&&e.setVisible(!c),n.pinned!==void 0&&e.setPinned(n.pinned)},t.prototype.findExistingColumn=function(e,n){if(n)for(var r=0;r<n.length;r++){var o=n[r].getUserProvidedColDef();if(o){var a=e.colId!=null;if(a){if(n[r].getId()===e.colId)return{idx:r,column:n[r]};continue}var s=e.field!=null;if(s){if(o.field===e.field)return{idx:r,column:n[r]};continue}if(o===e)return{idx:r,column:n[r]}}}},t.prototype.findExistingGroup=function(e,n){var r=e.groupId!=null;if(r)for(var o=0;o<n.length;o++){var a=n[o],s=a.getColGroupDef();if(s&&a.getId()===e.groupId)return{idx:o,group:a}}},t.prototype.addColumnDefaultAndTypes=function(e,n){var r={},o=this.gridOptionsService.get("defaultColDef");Zt(r,o,!1,!0);var a=this.dataTypeService.updateColDefAndGetColumnType(r,e,n);a&&this.assignColumnTypes(a,r),Zt(r,e,!1,!0);var s=this.gridOptionsService.get("autoGroupColumnDef"),l=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&s&&l&&Zt(r,{sort:s.sort,initialSort:s.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r},t.prototype.assignColumnTypes=function(e,n){if(e.length){var r=Object.assign({},WL),o=this.gridOptionsService.get("columnTypes")||{};ft(o,function(a,s){if(a in r)console.warn("AG Grid: the column type '".concat(a,"' is a default column type and cannot be overridden."));else{var l=s;l.type&&J("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[a]=s}}),e.forEach(function(a){var s=r[a.trim()];s?Zt(n,s,!1,!0):console.warn("AG Grid: colDef.type '"+a+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return e.children!==void 0},Xu([m("columnUtils")],t.prototype,"columnUtils",void 0),Xu([m("dataTypeService")],t.prototype,"dataTypeService",void 0),Xu([nk(0,Nt("loggerFactory"))],t.prototype,"setBeans",null),t=Xu([z("columnFactory")],t),t}(T),ik=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ze=function(){function i(t,e,n,r){this.displayedChildren=[],this.localEventService=new fi,this.groupId=e,this.partId=n,this.providedColumnGroup=t,this.pinned=r}return i.createUniqueId=function(t,e){return t+"_"+e},i.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},i.prototype.getParent=function(){return this.parent},i.prototype.setParent=function(t){this.parent=t},i.prototype.getUniqueId=function(){return i.createUniqueId(this.groupId,this.partId)},i.prototype.isEmptyGroup=function(){return this.displayedChildren.length===0},i.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(function(e){return e.isMoving()})},i.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(r){r instanceof i&&r.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var t=be(this.displayedChildren),e=t.getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},i.prototype.getLeft=function(){return this.left},i.prototype.getOldLeft=function(){return this.oldLeft},i.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_LEFT_CHANGED)))},i.prototype.getPinned=function(){return this.pinned},i.prototype.createAgEvent=function(t){return{type:t}},i.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},i.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},i.prototype.getGroupId=function(){return this.groupId},i.prototype.getPartId=function(){return this.partId},i.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(n){t===n&&(e=!0),n instanceof i&&n.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},i.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},i.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},i.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},i.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},i.prototype.getDisplayedChildren=function(){return this.displayedChildren},i.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},i.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},i.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},i.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},i.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},i.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},i.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},i.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},i.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof Re?t.push(e):e instanceof i&&e.addDisplayedLeafColumns(t)})},i.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof Re?t.push(e):e instanceof i&&e.addLeafColumns(t)})},i.prototype.getChildren=function(){return this.children},i.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},i.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},i.prototype.getPaddingLevel=function(){var t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()},i.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;e!=null&&e.isPadding();)e=e.getParent();var n=e?e.providedColumnGroup.isExpandable():!1;if(!n){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(function(r){var o=r instanceof i&&(!r.displayedChildren||!r.displayedChildren.length);if(!o){var a=r.getColumnGroupShow();switch(a){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(r);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(r);break;default:t.displayedChildren.push(r);break}}}),this.localEventService.dispatchEvent(this.createAgEvent(i.EVENT_DISPLAYED_CHILDREN_CHANGED))},i.EVENT_LEFT_CHANGED="leftChanged",i.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",ik([m("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i}(),v=function(){function i(){}return i.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",i.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",i.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",i.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",i.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",i.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",i.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",i.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",i.EVENT_COLUMN_MOVED="columnMoved",i.EVENT_COLUMN_VISIBLE="columnVisible",i.EVENT_COLUMN_PINNED="columnPinned",i.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",i.EVENT_COLUMN_RESIZED="columnResized",i.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",i.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",i.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",i.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",i.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",i.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",i.EVENT_ROW_GROUP_OPENED="rowGroupOpened",i.EVENT_ROW_DATA_UPDATED="rowDataUpdated",i.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",i.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",i.EVENT_CHART_CREATED="chartCreated",i.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",i.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",i.EVENT_CHART_DESTROYED="chartDestroyed",i.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",i.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",i.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",i.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",i.EVENT_MODEL_UPDATED="modelUpdated",i.EVENT_CUT_START="cutStart",i.EVENT_CUT_END="cutEnd",i.EVENT_PASTE_START="pasteStart",i.EVENT_PASTE_END="pasteEnd",i.EVENT_FILL_START="fillStart",i.EVENT_FILL_END="fillEnd",i.EVENT_RANGE_DELETE_START="rangeDeleteStart",i.EVENT_RANGE_DELETE_END="rangeDeleteEnd",i.EVENT_UNDO_STARTED="undoStarted",i.EVENT_UNDO_ENDED="undoEnded",i.EVENT_REDO_STARTED="redoStarted",i.EVENT_REDO_ENDED="redoEnded",i.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",i.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",i.EVENT_CELL_CLICKED="cellClicked",i.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",i.EVENT_CELL_MOUSE_DOWN="cellMouseDown",i.EVENT_CELL_CONTEXT_MENU="cellContextMenu",i.EVENT_CELL_VALUE_CHANGED="cellValueChanged",i.EVENT_CELL_EDIT_REQUEST="cellEditRequest",i.EVENT_ROW_VALUE_CHANGED="rowValueChanged",i.EVENT_CELL_FOCUSED="cellFocused",i.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",i.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",i.EVENT_ROW_SELECTED="rowSelected",i.EVENT_SELECTION_CHANGED="selectionChanged",i.EVENT_TOOLTIP_SHOW="tooltipShow",i.EVENT_TOOLTIP_HIDE="tooltipHide",i.EVENT_CELL_KEY_DOWN="cellKeyDown",i.EVENT_CELL_MOUSE_OVER="cellMouseOver",i.EVENT_CELL_MOUSE_OUT="cellMouseOut",i.EVENT_FILTER_CHANGED="filterChanged",i.EVENT_FILTER_MODIFIED="filterModified",i.EVENT_FILTER_OPENED="filterOpened",i.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",i.EVENT_SORT_CHANGED="sortChanged",i.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",i.EVENT_ROW_CLICKED="rowClicked",i.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",i.EVENT_GRID_READY="gridReady",i.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",i.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",i.EVENT_VIEWPORT_CHANGED="viewportChanged",i.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",i.EVENT_FIRST_DATA_RENDERED="firstDataRendered",i.EVENT_DRAG_STARTED="dragStarted",i.EVENT_DRAG_STOPPED="dragStopped",i.EVENT_CHECKBOX_CHANGED="checkboxChanged",i.EVENT_ROW_EDITING_STARTED="rowEditingStarted",i.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",i.EVENT_CELL_EDITING_STARTED="cellEditingStarted",i.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",i.EVENT_BODY_SCROLL="bodyScroll",i.EVENT_BODY_SCROLL_END="bodyScrollEnd",i.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",i.EVENT_PAGINATION_CHANGED="paginationChanged",i.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",i.EVENT_STORE_REFRESHED="storeRefreshed",i.EVENT_STATE_UPDATED="stateUpdated",i.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",i.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",i.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",i.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",i.EVENT_FLASH_CELLS="flashCells",i.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",i.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",i.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",i.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",i.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",i.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",i.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",i.EVENT_ROW_DRAG_ENTER="rowDragEnter",i.EVENT_ROW_DRAG_MOVE="rowDragMove",i.EVENT_ROW_DRAG_LEAVE="rowDragLeave",i.EVENT_ROW_DRAG_END="rowDragEnd",i.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",i.EVENT_POPUP_TO_FRONT="popupToFront",i.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",i.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",i.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",i.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",i.EVENT_STORE_UPDATED="storeUpdated",i.EVENT_FILTER_DESTROYED="filterDestroyed",i.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",i.EVENT_ROW_COUNT_READY="rowCountReady",i.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",i.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",i.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",i.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",i.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",i}(),H0=function(){function i(){this.existingIds={}}return i.prototype.getInstanceIdForKey=function(t){var e=this.existingIds[t],n;return typeof e!="number"?n=0:n=e+1,this.existingIds[t]=n,n},i}(),ok=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jg=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},io="ag-Grid-AutoColumn",ak=function(i){ok(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.createAutoGroupColumns=function(e){var n=this,r=[],o=this.gridOptionsService.get("treeData"),a=this.gridOptionsService.isGroupMultiAutoColumn();return o&&a&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),a=!1),a?e.forEach(function(s,l){r.push(n.createOneAutoGroupColumn(s,l))}):r.push(this.createOneAutoGroupColumn()),r},t.prototype.updateAutoGroupColumns=function(e){var n=this;e.forEach(function(r,o){return n.updateOneAutoGroupColumn(r,o)})},t.prototype.createOneAutoGroupColumn=function(e,n){var r;e?r="".concat(io,"-").concat(e.getId()):r=io;var o=this.createAutoGroupColDef(r,e,n);o.colId=r;var a=new Re(o,null,r,!0);return this.context.createBean(a),a},t.prototype.updateOneAutoGroupColumn=function(e,n){var r=e.getColDef(),o=typeof r.showRowGroup=="string"?r.showRowGroup:void 0,a=o!=null?this.columnModel.getPrimaryColumn(o):void 0,s=this.createAutoGroupColDef(e.getId(),a??void 0,n);e.setColDef(s,null),this.columnFactory.applyColumnState(e,s)},t.prototype.createAutoGroupColDef=function(e,n,r){var o=this.createBaseColDef(n),a=this.gridOptionsService.get("autoGroupColumnDef");if(Zt(o,a),o=this.columnFactory.addColumnDefaultAndTypes(o,e),!this.gridOptionsService.get("treeData")){var s=K(o.field)&&K(o.valueGetter)&&K(o.filterValueGetter)&&o.filter!=="agGroupColumnFilter";s&&(o.filter=!1)}r&&r>0&&(o.headerCheckboxSelection=!1);var l=this.gridOptionsService.isColumnsSortingCoupledToGroup(),c=o.valueGetter||o.field!=null;return l&&!c&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var n=this.gridOptionsService.get("autoGroupColumnDef"),r=this.localeService.getLocaleTextFunc(),o={headerName:r("group","Group")},a=n&&(n.cellRenderer||n.cellRendererSelector);if(a||(o.cellRenderer="agGroupCellRenderer"),e){var s=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:s.headerValueGetter}),s.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:s.cellRenderer,innerRendererParams:s.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},Jg([m("columnModel")],t.prototype,"columnModel",void 0),Jg([m("columnFactory")],t.prototype,"columnFactory",void 0),t=Jg([z("autoGroupColService")],t),t}(T),sk=/[&<>"']/g,lk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ck(i){var t=String.fromCharCode;function e(d){var p=[];if(!d)return[];for(var f=d.length,h=0,g,y;h<f;)g=d.charCodeAt(h++),g>=55296&&g<=56319&&h<f?(y=d.charCodeAt(h++),(y&64512)==56320?p.push(((g&1023)<<10)+(y&1023)+65536):(p.push(g),h--)):p.push(g);return p}function n(d){if(d>=55296&&d<=57343)throw Error("Lone surrogate U+"+d.toString(16).toUpperCase()+" is not a scalar value")}function r(d,p){return t(d>>p&63|128)}function o(d){if(d>=0&&d<=31&&d!==10){var p=d.toString(16).toUpperCase(),f=p.padStart(4,"0");return"_x".concat(f,"_")}if(!(d&4294967168))return t(d);var h="";return d&4294965248?d&4294901760?d&4292870144||(h=t(d>>18&7|240),h+=r(d,12),h+=r(d,6)):(n(d),h=t(d>>12&15|224),h+=r(d,6)):h=t(d>>6&31|192),h+=t(d&63|128),h}for(var a=e(i),s=a.length,l=-1,c,u="";++l<s;)c=a[l],u+=o(c);return u}function uk(i){return i[0].toUpperCase()+i.substring(1).toLowerCase()}function $e(i,t){if(i==null)return null;var e=i.toString().toString();return t?e:e.replace(sk,function(n){return lk[n]})}function j0(i){if(!i||i==null)return null;var t=/([a-z])([A-Z])/g,e=/([A-Z]+)([A-Z])([a-z])/g,n=i.replace(t,"$1 $2").replace(e,"$1 $2$3").replace(/\./g," ").split(" ");return n.map(function(r){return r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")}).join(" ")}function B0(i){return i.replace(/[A-Z]/g,function(t){return"-".concat(t.toLocaleLowerCase())})}var dk=Object.freeze({__proto__:null,utf8_encode:ck,capitalise:uk,escapeString:$e,camelCaseToHumanText:j0,camelCaseToHyphenated:B0});function li(i){var t=new Map;return i.forEach(function(e){return t.set(e[0],e[1])}),t}function pk(i,t){var e=new Map;return i.forEach(function(n){return e.set(t(n),n)}),e}function fk(i){var t=[];return i.forEach(function(e,n){return t.push(n)}),t}var hk=Object.freeze({__proto__:null,convertToMap:li,mapById:pk,keys:fk}),gk=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mk=function(i,t){return function(e,n){t(e,n,i)}},vk=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(i);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(i,n[r])&&(e[n[r]]=i[n[r]]);return e},Nn=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Ln=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},gE=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},yk=function(i){gk(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var n=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(){return e.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(r){return e.onSharedColDefChanged(r.source)}),this.addManagedPropertyListener("pivotMode",function(r){return e.setPivotMode(e.gridOptionsService.get("pivotMode"),r.source)}),this.addManagedListener(this.eventService,v.EVENT_FIRST_DATA_RENDERED,function(){return e.onFirstDataRendered()})},t.prototype.buildAutoGroupColumns=function(){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},t.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},t.prototype.onSharedColDefChanged=function(e){e===void 0&&(e="api"),this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,e))},t.prototype.setColumnDefs=function(e,n){n===void 0&&(n="api");var r=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(r,n)},t.prototype.recreateColumnDefs=function(e){e===void 0&&(e="api"),this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,n){var r={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(a){r[a.getInstanceId()]=a}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(a){r[a.getInstanceId()]=null});var o=Object.values(r).filter(function(a){return a!=null});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,n){var r=this;n===void 0&&(n="api");var o=e?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var a=this.primaryColumns,s=this.primaryColumnTree,l=this.columnFactory.createColumnTree(this.columnDefs,!0,s);this.destroyOldColumns(this.primaryColumnTree,l.columnTree),this.primaryColumnTree=l.columnTree,this.primaryHeaderRowCount=l.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(d){return r.primaryColumnsMap[d.getId()]=d}),this.extractRowGroupColumns(n,a),this.extractPivotColumns(n,a),this.extractValueColumns(n,a),this.ready=!0;var c=this.gridColsArePrimary===void 0,u=this.gridColsArePrimary||c||this.autoGroupsNeedBuilding;u&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),o&&o(),this.dispatchNewColumnsLoaded(n)},t.prototype.dispatchNewColumnsLoaded=function(e){var n={type:v.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(n),e==="gridInitializing"&&this.onColumnsReady()},t.prototype.dispatchEverythingChanged=function(e){e===void 0&&(e="api");var n={type:v.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(n)},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,n=this.primaryColumns;if(n){var r=n.filter(function(a){return e.gridColumns.indexOf(a)>=0}),o=this.gridColumns.filter(function(a){return r.indexOf(a)<0});this.gridColumns=Ln(Ln([],Nn(o),!1),Nn(r),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var n=e,r=[];n!=null;)r.push(n),n=this.getDisplayedColAfter(n);return r},t.prototype.checkViewportColumns=function(e){if(e===void 0&&(e=!1),this.displayedColumnsCenter!=null){var n=this.extractViewport();if(n){var r={type:v.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(r)}}},t.prototype.setViewportPosition=function(e,n,r){r===void 0&&(r=!1),(e!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(r))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return e&&this.gridOptionsService.get("treeData")?(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1):!0},t.prototype.setPivotMode=function(e,n){if(n===void 0&&(n="api"),!(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode))&&(this.pivotMode=e,!!this.gridColumns)){this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n);var r={type:v.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(r)}},t.prototype.getSecondaryPivotColumn=function(e,n){if(K(this.secondaryColumns))return null;var r=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(a){var s=a.getColDef().pivotKeys,l=a.getColDef().pivotValueColumn,c=Tr(s,e),u=l===r;c&&u&&(o=a)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var n,r;this.gridOptionsService.get("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?be(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?be(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,e),o.setFirstRightPinned(o===r,e)})},t.prototype.autoSizeColumns=function(e){var n=this;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return n.autoSizeColumns(e)});return}var r=e.columns,o=e.skipHeader,a=e.skipHeaderGroups,s=e.stopAtGroup,l=e.source,c=l===void 0?"api":l;this.animationFrameService.flushAllFrames();for(var u=[],d=-1,p=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),f=a??p;d!==0;)d=0,this.actionOnGridColumns(r,function(h){if(u.indexOf(h)>=0)return!1;var g=n.autoWidthCalculator.getPreferredWidthForColumn(h,p);if(g>0){var y=n.normaliseColumnWidth(h,g);h.setActualWidth(y,c),u.push(h),d++}return!0},c);f||this.autoSizeColumnGroupsByColumns(r,c,s),this.dispatchColumnResizedEvent(u,!0,"autosizeColumns")},t.prototype.dispatchColumnResizedEvent=function(e,n,r,o){if(o===void 0&&(o=null),e&&e.length){var a={type:v.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:o,finished:n,source:r};this.eventService.dispatchEvent(a)}},t.prototype.dispatchColumnChangedEvent=function(e,n,r){var o={type:e,columns:n,column:n&&n.length==1?n[0]:null,source:r};this.eventService.dispatchEvent(o)},t.prototype.dispatchColumnMovedEvent=function(e){var n=e.movedColumns,r=e.source,o=e.toIndex,a=e.finished,s={type:v.EVENT_COLUMN_MOVED,columns:n,column:n&&n.length===1?n[0]:null,toIndex:o,finished:a,source:r};this.eventService.dispatchEvent(s)},t.prototype.dispatchColumnPinnedEvent=function(e,n){if(e.length){var r=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.getPinned()}),a={type:v.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:r,source:n};this.eventService.dispatchEvent(a)}},t.prototype.dispatchColumnVisibleEvent=function(e,n){if(e.length){var r=e.length===1?e[0]:null,o=this.getCommonValue(e,function(s){return s.isVisible()}),a={type:v.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:r,source:n};this.eventService.dispatchEvent(a)}},t.prototype.autoSizeColumn=function(e,n,r){r===void 0&&(r="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:n,skipHeaderGroups:!0,source:r})},t.prototype.autoSizeColumnGroupsByColumns=function(e,n,r){var o,a,s,l,c=new Set,u=this.getGridColumns(e);u.forEach(function(b){for(var _=b.getParent();_&&_!=r;)_.isPadding()||c.add(_),_=_.getParent()});var d,p=[];try{for(var f=gE(c),h=f.next();!h.done;h=f.next()){var g=h.value;try{for(var y=(s=void 0,gE(this.ctrlsService.getHeaderRowContainerCtrls())),w=y.next();!w.done;w=y.next()){var C=w.value;if(d=C.getHeaderCtrlForColumn(g),d)break}}catch(b){s={error:b}}finally{try{w&&!w.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}d&&d.resizeLeafColumnsToFit(n)}}catch(b){o={error:b}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(o)throw o.error}}return p},t.prototype.autoSizeAllColumns=function(e,n){var r=this;if(n===void 0&&(n="api"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return r.autoSizeAllColumns(e,n)});return}var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:e,source:n})},t.prototype.getColumnsFromTree=function(e){var n=[],r=function(o){for(var a=0;a<o.length;a++){var s=o[a];s instanceof Re?n.push(s):s instanceof Ge&&r(s.getChildren())}};return r(e),n},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,n,r,o){for(var a=[],s=null,l=function(d){var p=n[d],f=n.length-d,h=Math.min(p.getColSpan(e),f),g=[p];if(h>1){for(var y=h-1,w=1;w<=y;w++)g.push(n[d+w]);d+=y}var C;if(r?(C=!1,g.forEach(function(_){r(_)&&(C=!0)})):C=!0,C){if(a.length===0&&s){var b=o?o(p):!1;b&&a.push(s)}a.push(p)}s=p,c=d},c,u=0;u<n.length;u++)l(u),u=c;return a},t.prototype.getViewportCenterColumnsForRow=function(e){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var r=function(a){var s=a.getLeft();return x(s)&&s>n.viewportLeft},o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,r)},t.prototype.isColumnAtEdge=function(e,n){var r=this.getAllDisplayedColumns();if(!r.length)return!1;var o=n==="first",a;if(e instanceof Ze){var s=e.getDisplayedLeafColumns();if(!s.length)return!1;a=o?s[0]:be(s)}else a=e;return(o?r[0]:be(r))===a},t.prototype.getAriaColumnIndex=function(e){var n;return e instanceof Ze?n=e.getLeafColumns()[0]:n=e,this.getAllGridColumns().indexOf(n)+1},t.prototype.isColumnInHeaderViewport=function(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var n=e.getLeft()||0,r=n+e.getActualWidth(),o=this.viewportLeft-200,a=this.viewportRight+200,s=n<o&&r<o,l=n>a&&r>a;return!s&&!l},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,n,r,o,a,s){var l=this;if(s===void 0&&(s="api"),!(!e||Ft(e))){var c=!1;if(e.forEach(function(d){var p=l.getPrimaryColumn(d);if(p){if(r){if(n.indexOf(p)>=0)return;n.push(p)}else{if(n.indexOf(p)<0)return;Yt(n,p)}o(p),c=!0}}),!!c){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s);var u={type:a,columns:n,column:n.length===1?n[0]:null,source:s};this.eventService.dispatchEvent(u)}}},t.prototype.setRowGroupColumns=function(e,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,v.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},t.prototype.setRowGroupActive=function(e,n,r){e!==n.isRowGroupActive()&&(n.setRowGroupActive(e,r),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnVisible(n,!1,r),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(n,!0,r))},t.prototype.addRowGroupColumn=function(e,n){n===void 0&&(n="api"),e&&this.addRowGroupColumns([e],n)},t.prototype.addRowGroupColumns=function(e,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),v.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumns=function(e,n){n===void 0&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),v.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumn=function(e,n){n===void 0&&(n="api"),e&&this.removeRowGroupColumns([e],n)},t.prototype.addPivotColumns=function(e,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(r){return r.setPivotActive(!0,n)},v.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.setPivotColumns=function(e,n){n===void 0&&(n="api"),this.setPrimaryColumnList(e,this.pivotColumns,v.EVENT_COLUMN_PIVOT_CHANGED,!0,function(r,o){o.setPivotActive(r,n)},n)},t.prototype.addPivotColumn=function(e,n){n===void 0&&(n="api"),this.addPivotColumns([e],n)},t.prototype.removePivotColumns=function(e,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(r){return r.setPivotActive(!1,n)},v.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.removePivotColumn=function(e,n){n===void 0&&(n="api"),this.removePivotColumns([e],n)},t.prototype.setPrimaryColumnList=function(e,n,r,o,a,s){var l=this;if(this.gridColumns){var c=new Map;n.forEach(function(u,d){return c.set(u,d)}),n.length=0,x(e)&&e.forEach(function(u){var d=l.getPrimaryColumn(u);d&&n.push(d)}),n.forEach(function(u,d){var p=c.get(u);if(p===void 0){c.set(u,0);return}o&&p!==d||c.delete(u)}),(this.primaryColumns||[]).forEach(function(u){var d=n.indexOf(u)>=0;a(d,u)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(s),this.dispatchColumnChangedEvent(r,Ln([],Nn(c.keys()),!1),s)}},t.prototype.setValueColumns=function(e,n){n===void 0&&(n="api"),this.setPrimaryColumnList(e,this.valueColumns,v.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},t.prototype.setValueActive=function(e,n,r){if(e!==n.isValueActive()&&(n.setValueActive(e,r),e&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},t.prototype.addValueColumns=function(e,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),v.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.addValueColumn=function(e,n){n===void 0&&(n="api"),e&&this.addValueColumns([e],n)},t.prototype.removeValueColumn=function(e,n){n===void 0&&(n="api"),this.removeValueColumns([e],n)},t.prototype.removeValueColumns=function(e,n){n===void 0&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),v.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.normaliseColumnWidth=function(e,n){var r=e.getMinWidth();x(r)&&n<r&&(n=r);var o=e.getMaxWidth();return x(o)&&e.isGreaterThanMax(n)&&(n=o),n},t.prototype.getPrimaryOrGridColumn=function(e){var n=this.getPrimaryColumn(e);return n||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,n,r,o){var a=this;o===void 0&&(o="api");var s=[];e.forEach(function(l){var c=a.getPrimaryOrGridColumn(l.key);if(c){s.push({width:l.newWidth,ratios:[1],columns:[c]});var u=a.gridOptionsService.get("colResizeDefault")==="shift";if(u&&(n=!n),n){var d=a.getDisplayedColAfter(c);if(!d)return;var p=c.getActualWidth()-l.newWidth,f=d.getActualWidth()+p;s.push({width:f,ratios:[1],columns:[d]})}}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:r,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var n=e.columns,r=e.width,o=0,a=0,s=!0;n.forEach(function(u){var d=u.getMinWidth();o+=d||0;var p=u.getMaxWidth();x(p)&&p>0?a+=p:s=!1});var l=r>=o,c=!s||r<=a;return l&&c},t.prototype.resizeColumnSets=function(e){var n=this,r=e.resizeSets,o=e.finished,a=e.source,s=!r||r.every(function(h){return n.checkMinAndMaxWidthsForSet(h)});if(!s){if(o){var l=r&&r.length>0?r[0].columns:null;this.dispatchColumnResizedEvent(l,o,a)}return}var c=[],u=[];r.forEach(function(h){var g=h.width,y=h.columns,w=h.ratios,C={},b={};y.forEach(function(O){return u.push(O)});for(var _=!0,D=0,R=function(){if(D++,D>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";_=!1;var O=[],k=0,V=g;y.forEach(function(ne,Se){var Ne=b[ne.getId()];if(Ne)V-=C[ne.getId()];else{O.push(ne);var Ee=w[Se];k+=Ee}});var U=1/k;O.forEach(function(ne,Se){var Ne=Se===O.length-1,Ee;Ne?Ee=V:(Ee=Math.round(w[Se]*g*U),V-=Ee);var H=ne.getMinWidth(),L=ne.getMaxWidth();x(H)&&Ee<H?(Ee=H,b[ne.getId()]=!0,_=!0):x(L)&&L>0&&Ee>L&&(Ee=L,b[ne.getId()]=!0,_=!0),C[ne.getId()]=Ee})};_;){var M=R();if(M==="break")break}y.forEach(function(O){var k=C[O.getId()],V=O.getActualWidth();V!==k&&(O.setActualWidth(k,a),c.push(O))})});var d=c.length>0,p=[];d&&(p=this.refreshFlexedColumns({resizingCols:u,skipSetLeft:!0}),this.setLeftValues(a),this.updateBodyWidths(),this.checkViewportColumns());var f=u.concat(p);(d||o)&&this.dispatchColumnResizedEvent(f,o,a,p)},t.prototype.setColumnAggFunc=function(e,n,r){if(r===void 0&&(r="api"),!!e){var o=this.getPrimaryColumn(e);o&&(o.setAggFunc(n),this.dispatchColumnChangedEvent(v.EVENT_COLUMN_VALUE_CHANGED,[o],r))}},t.prototype.moveRowGroupColumn=function(e,n,r){if(r===void 0&&(r="api"),!this.isRowGroupEmpty()){var o=this.rowGroupColumns[e],a=this.rowGroupColumns.slice(e,n);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(n,0,o);var s={type:v.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:a,column:a.length===1?a[0]:null,source:r};this.eventService.dispatchEvent(s)}},t.prototype.moveColumns=function(e,n,r,o){if(r===void 0&&(r="api"),o===void 0&&(o=!0),!!this.gridColumns){if(this.columnAnimationService.start(),n>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}var a=this.getGridColumns(e),s=!this.doesMovePassRules(a,n);s||(ev(this.gridColumns,a,n),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:a,source:r,toIndex:n,finished:o}),this.columnAnimationService.finish())}},t.prototype.doesMovePassRules=function(e,n){var r=this.getProposedColumnOrder(e,n);return this.doesOrderPassRules(r)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,n){var r=this.gridColumns.slice();return ev(r,e,n),r},t.prototype.sortColumnsLikeGridColumns=function(e){var n=this;if(!(!e||e.length<=1)){var r=e.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0;r||e.sort(function(o,a){var s=n.gridColumns.indexOf(o),l=n.gridColumns.indexOf(a);return s-l})}},t.prototype.doesMovePassLockedPositions=function(e){var n=0,r=!0,o=function(a){return a?a===!0||a==="left"?0:2:1};return e.forEach(function(a){var s=o(a.getColDef().lockPosition);s<n&&(r=!1),n=s}),r},t.prototype.doesMovePassMarryChildren=function(e){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){if(r instanceof Ge){var o=r,a=o.getColGroupDef(),s=a&&a.marryChildren;if(s){var l=[];o.getLeafColumns().forEach(function(f){var h=e.indexOf(f);l.push(h)});var c=Math.max.apply(Math,l),u=Math.min.apply(Math,l),d=c-u,p=o.getLeafColumns().length-1;d>p&&(n=!1)}}}),n},t.prototype.moveColumn=function(e,n,r){r===void 0&&(r="api"),this.moveColumns([e],n,r)},t.prototype.moveColumnByIndex=function(e,n,r){if(r===void 0&&(r="api"),!!this.gridColumns){var o=this.gridColumns[e];this.moveColumn(o,n,r)}},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(r,o){return e.gridColumns.indexOf(r)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(r,o){return e.lastPrimaryOrder.indexOf(r)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e;var o=this.bodyWidth!==e||this.leftWidth!==n||this.rightWidth!==r;if(o){this.bodyWidth=e,this.leftWidth=n,this.rightWidth=r;var a={type:v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(a)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){var e;return(e=this.gridColumns)!==null&&e!==void 0?e:[]},t.prototype.isEmpty=function(){return Ft(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return Ft(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,n,r){r===void 0&&(r="api"),this.setColumnsVisible([e],n,r)},t.prototype.setColumnsVisible=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r="api"),this.applyColumnState({state:e.map(function(o){return{colId:typeof o=="string"?o:o.getColId(),hide:!n}})},r)},t.prototype.setColumnPinned=function(e,n,r){r===void 0&&(r="api"),e&&this.setColumnsPinned([e],n,r)},t.prototype.setColumnsPinned=function(e,n,r){if(r===void 0&&(r="api"),!!this.gridColumns){if(this.gridOptionsService.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();var o;n===!0||n==="left"?o="left":n==="right"?o="right":o=null,this.actionOnGridColumns(e,function(a){return a.getPinned()!==o?(a.setPinned(o),!0):!1},r,function(){var a={type:v.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:r};return a}),this.columnAnimationService.finish()}},t.prototype.actionOnGridColumns=function(e,n,r,o){var a=this;if(!Ft(e)){var s=[];if(e.forEach(function(c){var u=a.getGridColumn(c);if(u){var d=n(u);d!==!1&&s.push(u)}}),!!s.length&&(this.updateDisplayedColumns(r),x(o)&&o)){var l=o();l.columns=s,l.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(l)}}},t.prototype.getDisplayedColBefore=function(e){var n=this.getAllDisplayedColumns(),r=n.indexOf(e);return r>0?n[r-1]:null},t.prototype.getDisplayedColAfter=function(e){var n=this.getAllDisplayedColumns(),r=n.indexOf(e);return r<n.length-1?n[r+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,n){for(var r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),a=n==="After"?be(o):o[0],s="getDisplayedCol".concat(n);;){var l=this[s](a);if(!l)return null;var c=this.getColumnGroupAtLevel(l,r);if(c!==e)return c}},t.prototype.getColumnGroupAtLevel=function(e,n){for(var r=e.getParent(),o,a;;){var s=r.getProvidedColumnGroup();if(o=s.getLevel(),a=r.getPaddingLevel(),o+a<=n)break;r=r.getParent()}return r},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var n=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,r=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,a=e.getSort()!=null?e.getSort():null,s=e.getSortIndex()!=null?e.getSortIndex():null,l=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null,c={colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:a,sortIndex:s,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:r,flex:l};return c},t.prototype.getColumnState=function(){if(K(this.primaryColumns)||!this.isAlive())return[];var e=this.getPrimaryAndSecondaryAndAutoColumns(),n=e.map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},t.prototype.orderColumnStateList=function(e){var n=li(this.gridColumns.map(function(r,o){return[r.getColId(),o]}));e.sort(function(r,o){var a=n.has(r.colId)?n.get(r.colId):-1,s=n.has(o.colId)?n.get(o.colId):-1;return a-s})},t.prototype.resetColumnState=function(e){var n=this;if(e===void 0&&(e="api"),!Ft(this.primaryColumns)){var r=this.getColumnsFromTree(this.primaryColumnTree),o=[],a=1e3,s=1e3,l=[];this.groupAutoColumns&&(l=l.concat(this.groupAutoColumns)),r&&(l=l.concat(r)),l.forEach(function(c){var u=n.getColumnStateFromColDef(c);K(u.rowGroupIndex)&&u.rowGroup&&(u.rowGroupIndex=a++),K(u.pivotIndex)&&u.pivot&&(u.pivotIndex=s++),o.push(u)}),this.applyColumnState({state:o,applyOrder:!0},e)}},t.prototype.getColumnStateFromColDef=function(e){var n=function(y,w){return y??w??null},r=e.getColDef(),o=n(r.sort,r.initialSort),a=n(r.sortIndex,r.initialSortIndex),s=n(r.hide,r.initialHide),l=n(r.pinned,r.initialPinned),c=n(r.width,r.initialWidth),u=n(r.flex,r.initialFlex),d=n(r.rowGroupIndex,r.initialRowGroupIndex),p=n(r.rowGroup,r.initialRowGroup);d==null&&(p==null||p==!1)&&(d=null,p=null);var f=n(r.pivotIndex,r.initialPivotIndex),h=n(r.pivot,r.initialPivot);f==null&&(h==null||h==!1)&&(f=null,h=null);var g=n(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:a,hide:s,pinned:l,width:c,flex:u,rowGroup:p,rowGroupIndex:d,pivot:h,pivotIndex:f,aggFunc:g}},t.prototype.applyColumnState=function(e,n){var r=this;if(Ft(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(c,u,d){var p=r.compareColumnStatesAndDispatchEvents(n);r.autoGroupsNeedBuilding=!0;var f=u.slice(),h={},g={},y=[],w=[],C=0,b=r.rowGroupColumns.slice(),_=r.pivotColumns.slice();c.forEach(function(O){var k=O.colId||"",V=k.startsWith(io);if(V){y.push(O),w.push(O);return}var U=d(k);U?(r.syncColumnWithStateItem(U,O,e.defaultState,h,g,!1,n),Yt(f,U)):(w.push(O),C+=1)});var D=function(O){return r.syncColumnWithStateItem(O,null,e.defaultState,h,g,!1,n)};f.forEach(D);var R=function(O,k,V,U){var ne=O[V.getId()],Se=O[U.getId()],Ne=ne!=null,Ee=Se!=null;if(Ne&&Ee)return ne-Se;if(Ne)return-1;if(Ee)return 1;var H=k.indexOf(V),L=k.indexOf(U),q=H>=0,re=L>=0;return q&&re?H-L:q?-1:1};r.rowGroupColumns.sort(R.bind(r,h,b)),r.pivotColumns.sort(R.bind(r,g,_)),r.updateGridColumns();var M=r.groupAutoColumns?r.groupAutoColumns.slice():[];return y.forEach(function(O){var k=r.getAutoColumn(O.colId);Yt(M,k),r.syncColumnWithStateItem(k,O,e.defaultState,null,null,!0,n)}),M.forEach(D),r.applyOrderAfterApplyState(e),r.updateDisplayedColumns(n),r.dispatchEverythingChanged(n),p(),{unmatchedAndAutoStates:w,unmatchedCount:C}};this.columnAnimationService.start();var a=o(e.state||[],this.primaryColumns||[],function(c){return r.getPrimaryColumn(c)}),s=a.unmatchedAndAutoStates,l=a.unmatchedCount;return(s.length>0||x(e.defaultState))&&(l=o(s,this.secondaryColumns||[],function(c){return r.getSecondaryColumn(c)}).unmatchedCount),this.columnAnimationService.finish(),l===0},t.prototype.applyOrderAfterApplyState=function(e){var n=this;if(!(!e.applyOrder||!e.state)){var r=[],o={};e.state.forEach(function(s){if(!(!s.colId||o[s.colId])){var l=n.gridColumnsMap[s.colId];l&&(r.push(l),o[s.colId]=!0)}});var a=0;if(this.gridColumns.forEach(function(s){var l=s.getColId(),c=o[l]!=null;if(!c){var u=l.startsWith(io);u?ml(r,s,a++):r.push(s)}}),r=this.placeLockedColumns(r),!this.doesMovePassMarryChildren(r)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=r}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var n=this,r={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),a={};return o.forEach(function(s){a[s.colId]=s}),function(){var s=n.getPrimaryAndSecondaryAndAutoColumns(),l=function(w,C,b,_){var D=C.map(_),R=b.map(_),M=Tr(D,R);if(!M){var O=new Set(C);b.forEach(function(U){O.delete(U)||O.add(U)});var k=Ln([],Nn(O),!1),V={type:w,columns:k,column:k.length===1?k[0]:null,source:e};n.eventService.dispatchEvent(V)}},c=function(w){var C=[];return s.forEach(function(b){var _=a[b.getColId()];_&&w(_,b)&&C.push(b)}),C},u=function(w){return w.getColId()};l(v.EVENT_COLUMN_ROW_GROUP_CHANGED,r.rowGroupColumns,n.rowGroupColumns,u),l(v.EVENT_COLUMN_PIVOT_CHANGED,r.pivotColumns,n.pivotColumns,u);var d=function(w,C){var b=w.aggFunc!=null,_=b!=C.isValueActive(),D=b&&w.aggFunc!=C.getAggFunc();return _||D},p=c(d);p.length>0&&n.dispatchColumnChangedEvent(v.EVENT_COLUMN_VALUE_CHANGED,p,e);var f=function(w,C){return w.width!=C.getActualWidth()};n.dispatchColumnResizedEvent(c(f),!0,e);var h=function(w,C){return w.pinned!=C.getPinned()};n.dispatchColumnPinnedEvent(c(h),e);var g=function(w,C){return w.hide==C.isVisible()};n.dispatchColumnVisibleEvent(c(g),e);var y=function(w,C){return w.sort!=C.getSort()||w.sortIndex!=C.getSortIndex()};c(y).length>0&&n.sortController.dispatchSortChangedEvents(e),n.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,n){if(!(!e||e.length==0)){for(var r=n(e[0]),o=1;o<e.length;o++)if(r!==n(e[o]))return;return r}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,n){var r=this,o=this.getColumnState(),a={};o.forEach(function(d){return a[d.colId]=d});var s={};e.forEach(function(d){a[d.colId]&&(s[d.colId]=!0)});var l=e.filter(function(d){return s[d.colId]}),c=o.filter(function(d){return s[d.colId]}),u=[];c.forEach(function(d,p){var f=l&&l[p];if(f&&f.colId!==d.colId){var h=r.getGridColumn(f.colId);h&&u.push(h)}}),u.length&&this.dispatchColumnMovedEvent({movedColumns:u,source:n,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,n,r,o,a,s,l){if(e){var c=function(k,V){var U={value1:void 0,value2:void 0},ne=!1;return n&&(n[k]!==void 0&&(U.value1=n[k],ne=!0),x(V)&&n[V]!==void 0&&(U.value2=n[V],ne=!0)),!ne&&r&&(r[k]!==void 0&&(U.value1=r[k]),x(V)&&r[V]!==void 0&&(U.value2=r[V])),U},u=c("hide").value1;u!==void 0&&e.setVisible(!u,l);var d=c("pinned").value1;d!==void 0&&e.setPinned(d);var p=this.columnUtils.calculateColMinWidth(e.getColDef()),f=c("flex").value1;f!==void 0&&e.setFlex(f);var h=e.getFlex()<=0;if(h){var g=c("width").value1;g!=null&&p!=null&&g>=p&&e.setActualWidth(g,l)}var y=c("sort").value1;y!==void 0&&(y==="desc"||y==="asc"?e.setSort(y,l):e.setSort(void 0,l));var w=c("sortIndex").value1;if(w!==void 0&&e.setSortIndex(w),!(s||!e.isPrimary())){var C=c("aggFunc").value1;C!==void 0&&(typeof C=="string"?(e.setAggFunc(C),e.isValueActive()||(e.setValueActive(!0,l),this.valueColumns.push(e))):(x(C)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,l),Yt(this.valueColumns,e))));var b=c("rowGroup","rowGroupIndex"),_=b.value1,D=b.value2;(_!==void 0||D!==void 0)&&(typeof D=="number"||_?(e.isRowGroupActive()||(e.setRowGroupActive(!0,l),this.rowGroupColumns.push(e)),o&&typeof D=="number"&&(o[e.getId()]=D)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,l),Yt(this.rowGroupColumns,e)));var R=c("pivot","pivotIndex"),M=R.value1,O=R.value2;(M!==void 0||O!==void 0)&&(typeof O=="number"||M?(e.isPivotActive()||(e.setPivotActive(!0,l),this.pivotColumns.push(e)),a&&typeof O=="number"&&(a[e.getId()]=O)):e.isPivotActive()&&(e.setPivotActive(!1,l),Yt(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,n){var r=[];return e&&e.forEach(function(o){var a=n(o);a&&r.push(a)}),r},t.prototype.getColumnWithValidation=function(e){if(e==null)return null;var n=this.getGridColumn(e);return n||console.warn("AG Grid: could not find column "+e),n},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,n,r){if(!e||!r)return null;if(typeof e=="string"&&r[e])return r[e];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],e))return n[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var n=e.getColDef().showRowGroup;if(!n)return null;if(n===!0)return this.rowGroupColumns.slice(0);var r=this.getPrimaryColumn(n);return r?[r]:null},t.prototype.getAutoColumn=function(e){var n=this;return!this.groupAutoColumns||!x(this.groupAutoColumns)||K(this.groupAutoColumns)?null:this.groupAutoColumns.find(function(r){return n.columnsMatch(r,e)})||null},t.prototype.columnsMatch=function(e,n){var r=e===n,o=e.getColDef()===n,a=e.getColId()==n;return r||o||a},t.prototype.getDisplayNameForColumn=function(e,n,r){if(r===void 0&&(r=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,n);return r?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,n,r){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,e,n,r):null},t.prototype.getDisplayNameForColumnGroup=function(e,n){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),n)},t.prototype.getHeaderName=function(e,n,r,o,a){var s=e.headerValueGetter;if(s){var l={colDef:e,column:n,columnGroup:r,providedColumnGroup:o,location:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return typeof s=="function"?s(l):typeof s=="string"?this.expressionService.evaluate(s,l):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return j0(e.field)}return""},t.prototype.wrapHeaderNameWithAggFunc=function(e,n){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return n;var r=e.getColDef().pivotValueColumn,o=x(r),a=null,s;if(o){var l=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,c=e.getColDef().pivotTotalColumnIds!==void 0;if(l&&!c)return n;a=r?r.getAggFunc():null,s=!0}else{var u=e.isValueActive(),d=this.pivotMode||!this.isRowGroupEmpty();u&&d?(a=e.getAggFunc(),s=!0):s=!1}if(s){var p=typeof a=="string"?a:"func",f=this.localeService.getLocaleTextFunc(),h=f(p,p);return"".concat(h,"(").concat(n,")")}return n},t.prototype.getColumnGroup=function(e,n){if(!e)return null;if(e instanceof Ze)return e;var r=this.getAllDisplayedTrees(),o=typeof n=="number",a=null;return this.columnUtils.depthFirstAllColumnTreeSearch(r,function(s){if(s instanceof Ze){var l=s,c=void 0;o?c=e===l.getGroupId()&&n===l.getPartId():c=e===l.getGroupId(),c&&(a=l)}}),a},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(r,o){return r.setValueActive(o,e)},function(){},function(){},function(r){var o=r.aggFunc;if(o===null||o==="")return null;if(o!==void 0)return!!o},function(r){return r.initialAggFunc!=null&&r.initialAggFunc!=""}),this.valueColumns.forEach(function(r){var o=r.getColDef();o.aggFunc!=null&&o.aggFunc!=""?r.setAggFunc(o.aggFunc):r.getAggFunc()||r.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(r,o){return r.setRowGroupActive(o,e)},function(r){return r.rowGroupIndex},function(r){return r.initialRowGroupIndex},function(r){return r.rowGroup},function(r){return r.initialRowGroup})},t.prototype.extractColumns=function(e,n,r,o,a,s,l){e===void 0&&(e=[]),n===void 0&&(n=[]);var c=[],u=[];(this.primaryColumns||[]).forEach(function(f){var h=e.indexOf(f)<0,g=f.getColDef(),y=Ed(s(g)),w=Ed(l(g)),C=ui(o(g)),b=ui(a(g)),_,D=y!==void 0,R=C!==void 0,M=w!==void 0,O=b!==void 0;if(D?_=y:R?C===null?_=!1:_=C>=0:h?M?_=w:O?_=b!=null&&b>=0:_=!1:_=n.indexOf(f)>=0,_){var k=h?C!=null||b!=null:C!=null;k?c.push(f):u.push(f)}});var d=function(f){var h=o(f.getColDef()),g=a(f.getColDef());return h??g};c.sort(function(f,h){var g=d(f),y=d(h);return g===y?0:g<y?-1:1});var p=[].concat(c);return n.forEach(function(f){u.indexOf(f)>=0&&p.push(f)}),u.forEach(function(f){p.indexOf(f)<0&&p.push(f)}),n.forEach(function(f){p.indexOf(f)<0&&r(f,!1)}),p.forEach(function(f){n.indexOf(f)<0&&r(f,!0)}),p},t.prototype.extractPivotColumns=function(e,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(r,o){return r.setPivotActive(o,e)},function(r){return r.pivotIndex},function(r){return r.initialPivotIndex},function(r){return r.pivot},function(r){return r.initialPivot})},t.prototype.resetColumnGroupState=function(e){if(e===void 0&&(e="api"),!!this.primaryColumnTree){var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(r){if(r instanceof Ge){var o=r.getColGroupDef(),a={groupId:r.getGroupId(),open:o?o.openByDefault:void 0};n.push(a)}}),this.setColumnGroupState(n,e)}},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof Ge&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,n){var r=this;if(n===void 0&&(n="api"),!!this.gridBalancedTree){this.columnAnimationService.start();var o=[];if(e.forEach(function(s){var l=s.groupId,c=s.open,u=r.getProvidedColumnGroup(l);u&&u.isExpanded()!==c&&(r.logger.log("columnGroupOpened("+u.getGroupId()+","+c+")"),u.setExpanded(c),o.push(u))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.length){var a={type:v.EVENT_COLUMN_GROUP_OPENED,columnGroup:Ge.length===1?o[0]:void 0,columnGroups:o};this.eventService.dispatchEvent(a)}this.columnAnimationService.finish()}},t.prototype.setColumnGroupOpened=function(e,n,r){r===void 0&&(r="api");var o;e instanceof Ge?o=e.getId():o=e||"",this.setColumnGroupState([{groupId:o,open:n}],r)},t.prototype.getProvidedColumnGroup=function(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(r){r instanceof Ge&&r.getId()===e&&(n=r)}),n},t.prototype.calculateColumnsForDisplay=function(){var e=this,n;return this.pivotMode&&K(this.secondaryColumns)?n=this.gridColumns.filter(function(r){var o=e.groupAutoColumns&&gn(e.groupAutoColumns,r),a=e.valueColumns&&gn(e.valueColumns,r);return o||a}):n=this.gridColumns.filter(function(r){var o=e.groupAutoColumns&&gn(e.groupAutoColumns,r);return o||r.isVisible()}),n},t.prototype.checkColSpanActiveInCols=function(e){var n=!1;return e.forEach(function(r){x(r.getColDef().colSpan)&&(n=!0)}),n},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};var n=function(r){var o=r.getColDef(),a=o.showRowGroup;o&&x(a)&&(e.groupDisplayColumns.push(r),typeof a=="string"?e.groupDisplayColumnsMap[a]=r:a===!0&&e.getRowGroupColumns().forEach(function(s){e.groupDisplayColumnsMap[s.getId()]=r}))};this.gridColumns.forEach(n)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return x(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,n){var r=this;if(n===void 0&&(n="api"),!!this.gridColumns){var o=e&&e.length>0;if(!(!o&&K(this.secondaryColumns))){if(o){this.processSecondaryColumnDefinitions(e);var a=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,a.columnTree),this.secondaryBalancedTree=a.columnTree,this.secondaryHeaderRowCount=a.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(s){return r.secondaryColumnsMap[s.getId()]=s}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}}},t.prototype.processSecondaryColumnDefinitions=function(e){var n=this.gridOptionsService.get("processPivotResultColDef"),r=this.gridOptionsService.get("processPivotResultColGroupDef");if(!(!n&&!r)){var o=function(a){a.forEach(function(s){var l=x(s.children);if(l){var c=s;r&&r(c),o(c.children)}else{var u=s;n&&n(u)}})};e&&o(e)}},t.prototype.updateGridColumns=function(){var e=this,n=this.gridBalancedTree;this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns;var r;if(this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(c){return e.gridColumnsMap[c.getColId()]!==void 0});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(r=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,r=this.lastPrimaryOrder);var a=this.createGroupAutoColumnsIfNeeded();if(a&&r){var s=li(this.groupAutoColumns.map(function(c){return[c,!0]}));r=r.filter(function(c){return!s.has(c)}),r=Ln(Ln([],Nn(this.groupAutoColumns),!1),Nn(r),!1)}if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(r),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(c){return e.gridColumnsMap[c.getId()]=c}),this.setAutoHeightActive(),!Tr(n,this.gridBalancedTree)){var l={type:v.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(l)}},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(n){return n.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide");e||J("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}},t.prototype.orderGridColsLike=function(e){if(!K(e)){var n=li(e.map(function(u,d){return[u,d]})),r=!0;if(this.gridColumns.forEach(function(u){n.has(u)&&(r=!1)}),!r){var o=li(this.gridColumns.map(function(u){return[u,!0]})),a=e.filter(function(u){return o.has(u)}),s=li(a.map(function(u){return[u,!0]})),l=this.gridColumns.filter(function(u){return!s.has(u)}),c=a.slice();l.forEach(function(u){var d=u.getOriginalParent();if(!d){c.push(u);return}for(var p=[];!p.length&&d;){var f=d.getLeafColumns();f.forEach(function(y){var w=c.indexOf(y)>=0,C=p.indexOf(y)<0;w&&C&&p.push(y)}),d=d.getOriginalParent()}if(!p.length){c.push(u);return}var h=p.map(function(y){return c.indexOf(y)}),g=Math.max.apply(Math,Ln([],Nn(h),!1));ml(c,u,g+1)}),this.gridColumns=c}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,n=(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)!==null&&e!==void 0?e:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?n:n.filter(function(r){return r.isVisible()||r.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var n=[],r=[],o=[];return e.forEach(function(a){var s=a.getColDef().lockPosition;s==="right"?o.push(a):s==="left"||s===!0?n.push(a):r.push(a)}),Ln(Ln(Ln([],Nn(n),!1),Nn(r),!1),Nn(o),!1)},t.prototype.addAutoGroupToGridColumns=function(){if(K(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();var n={type:v.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(n)},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.gridOptionsService.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var n=this;if(this.primaryColumns){var r=this.primaryColumns.slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(a){if(o){var s=n.getWidthOfColsInList(a);a.forEach(function(c){s-=c.getActualWidth(),c.setLeft(s,e)})}else{var l=0;a.forEach(function(c){c.setLeft(l,e),l+=c.getActualWidth()})}F0(r,a)}),r.forEach(function(a){a.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(n){if(n instanceof Ze){var r=n;r.checkLeft()}})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(r){r instanceof Re&&n.push(r)})},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,n){var r;switch(e){case"left":r=this.viewportRowLeft[n];break;case"right":r=this.viewportRowRight[n];break;default:r=this.viewportRowCenter[n];break}return K(r)&&(r=[]),r},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(r){return e[r.getId()]=!0});var n=function(r,o,a){for(var s=!1,l=0;l<r.length;l++){var c=r[l],u=!1;if(c instanceof Re)u=e[c.getId()]===!0;else{var d=c,p=d.getDisplayedChildren();p&&(u=n(p,o,a+1))}u&&(s=!0,o[a]||(o[a]=[]),o[a].push(c))}return s};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){var e=function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")};this.extractViewportColumns();var n=this.viewportColumns.map(e).join("#"),r=this.viewportColumnsHash!==n;return r&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),r},t.prototype.refreshFlexedColumns=function(e){var n;e===void 0&&(e={});var r=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols){for(var a=new Set(e.resizingCols),s=this.displayedColumnsCenter,l=s.length-1;l>=0;l--)if(a.has(s[l])){o=l;break}}for(var c=0,u=[],d=0,p=0,l=0;l<this.displayedColumnsCenter.length;l++){var f=this.displayedColumnsCenter[l].getFlex()&&l>o;f?(u.push(this.displayedColumnsCenter[l]),p+=this.displayedColumnsCenter[l].getFlex(),d+=(n=this.displayedColumnsCenter[l].getMinWidth())!==null&&n!==void 0?n:0):c+=this.displayedColumnsCenter[l].getActualWidth()}if(!u.length)return[];var h=[];c+d>this.flexViewportWidth&&(u.forEach(function(O){var k;return O.setActualWidth((k=O.getMinWidth())!==null&&k!==void 0?k:0,r)}),h=u,u=[]);var g=[],y;e:for(;;){y=this.flexViewportWidth-c;for(var w=y/p,l=0;l<u.length;l++){var C=u[l],b=w*C.getFlex(),_=0,D=C.getMinWidth(),R=C.getMaxWidth();if(x(D)&&b<D?_=D:x(R)&&b>R&&(_=R),_){C.setActualWidth(_,r),Cv(u,C),p-=C.getFlex(),h.push(C),c+=C.getActualWidth();continue e}g[l]=Math.round(b)}break}var M=y;return u.forEach(function(O,k){O.setActualWidth(Math.min(g[k],M),r),h.push(O),M-=g[k]}),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(h,!0,r,u),u},t.prototype.sizeColumnsToFit=function(e,n,r,o){var a=this,s,l,c,u,d;if(n===void 0&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations){this.resizeOperationQueue.push(function(){return a.sizeColumnsToFit(e,n,r,o)});return}var p={};o&&((s=o?.columnLimits)===null||s===void 0||s.forEach(function(L){var q=L.key,re=vk(L,["key"]);p[typeof q=="string"?q:q.getColId()]=re}));var f=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(f);if(!(e<=0||!f.length||h)){var g=[],y=[];f.forEach(function(L){L.getColDef().suppressSizeToFit===!0?y.push(L):g.push(L)});var w=g.slice(0),C=!1,b=function(L){Yt(g,L),y.push(L)};for(g.forEach(function(L){var q,re;L.resetActualWidth(n);var Oe=p?.[L.getId()],St=(q=Oe?.minWidth)!==null&&q!==void 0?q:o?.defaultMinWidth,it=(re=Oe?.maxWidth)!==null&&re!==void 0?re:o?.defaultMaxWidth,Cn=L.getActualWidth();typeof St=="number"&&Cn<St?L.setActualWidth(St,n,!0):typeof it=="number"&&Cn>it&&L.setActualWidth(it,n,!0)});!C;){C=!0;var _=e-this.getWidthOfColsInList(y);if(_<=0)g.forEach(function(L){var q,re,Oe=(re=(q=p?.[L.getId()])===null||q===void 0?void 0:q.minWidth)!==null&&re!==void 0?re:o?.defaultMinWidth;if(typeof Oe=="number"){L.setActualWidth(Oe,n,!0);return}L.setMinimum(n)});else for(var D=_/this.getWidthOfColsInList(g),R=_,M=g.length-1;M>=0;M--){var O=g[M],k=p?.[O.getId()],V=(l=k?.minWidth)!==null&&l!==void 0?l:o?.defaultMinWidth,U=(c=k?.maxWidth)!==null&&c!==void 0?c:o?.defaultMaxWidth,ne=(u=O.getMinWidth())!==null&&u!==void 0?u:0,Se=(d=O.getMaxWidth())!==null&&d!==void 0?d:Number.MAX_VALUE,Ne=typeof V=="number"&&V>ne?V:O.getMinWidth(),Ee=typeof U=="number"&&U<Se?U:O.getMaxWidth(),H=Math.round(O.getActualWidth()*D);x(Ne)&&H<Ne?(H=Ne,b(O),C=!1):x(Ee)&&H>Ee?(H=Ee,b(O),C=!1):M===0&&(H=R),O.setActualWidth(H,n,!0),R-=H}}w.forEach(function(L){L.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(w,!0,n)}},t.prototype.buildDisplayedTrees=function(e){var n=[],r=[],o=[];e.forEach(function(s){switch(s.getPinned()){case"left":n.push(s);break;case"right":r.push(s);break;default:o.push(s);break}});var a=new H0;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,a,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,a,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,a,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var n=function(r){e.displayedColumnsAndGroupsMap[r.getUniqueId()]=r};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},t.prototype.isDisplayed=function(e){var n=this.displayedColumnsAndGroupsMap[e.getUniqueId()];return n===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(n){n instanceof Ze&&n.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn(),o=this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"),a=o&&!r&&!n;if(a){var s=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns),l=!this.autoColsEqual(s,this.groupAutoColumns);if(l||e)return this.groupAutoColumns=s,!0}else this.groupAutoColumns=null;return!1},t.prototype.isGroupSuppressAutoColumn=function(){var e=this.gridOptionsService.get("groupDisplayType"),n=e==="custom";if(n)return!0;var r=this.gridOptionsService.get("treeDataDisplayType");return r==="custom"},t.prototype.autoColsEqual=function(e,n){return Tr(e,n,function(r,o){return r.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(n,r){return n+r.getActualWidth()},0)},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.get("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&n.reverse();for(var r=0;r<n.length;r++){var o=this[n[r]]();if(o.length)return e?be(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,n){var r=e.setAutoHeaderHeight(n);if(r){var o={type:v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(o)}},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(r){return r.isAutoHeaderHeight()}).map(function(r){return r.getAutoHeaderHeight()||0});return Math.max.apply(Math,Ln([e],Nn(n),!1))},t.prototype.getHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("headerHeight"))!==null&&e!==void 0?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return(e=this.gridOptionsService.get("floatingFiltersHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("groupHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotHeaderHeight"))!==null&&e!==void 0?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))!==null&&e!==void 0?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e,n){var r=e.getUserProvidedColDef();if(!r)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(o,r,n),!0},t.prototype.isColumnGroupingLocked=function(e){var n=this.gridOptionsService.get("groupLockGroupColumns");if(!e.isRowGroupActive()||n===0)return!1;if(n===-1)return!0;var r=this.rowGroupColumns.findIndex(function(o){return o.getColId()===e.getColId()});return n>r},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,n){var r=this,o={},a=function(s,l,c,u,d,p){if(!l.length||!r.primaryColumns)return[];for(var f=Object.keys(s),h=new Set(f),g=new Set(f),y=new Set(l.map(function(V){var U=V.getColId();return g.delete(U),U}).concat(f)),w=[],C={},b=0,_=0;_<r.primaryColumns.length;_++){var D=r.primaryColumns[_].getColId();y.has(D)&&(w.push(D),C[D]=b++)}var R=1e3,M=!1,O=0,k=function(V){for(var U=C[V],ne=O;ne<U;ne++){var Se=w[ne];g.has(Se)&&(s[Se][d]=R++,g.delete(Se))}O=U};l.forEach(function(V){var U=V.getColId();if(h.has(U))k(U),s[U][d]=R++;else{var ne=V.getColDef(),Se=ne[d]===null||ne[d]===void 0&&ne[p]==null;if(Se){if(!M){var Ne=ne[c]||ne[c]===void 0&&ne[u];Ne?k(U):(g.forEach(function(Ee){s[Ee][d]=R+C[Ee]}),R+=w.length,M=!0)}o[U]||(o[U]={colId:U}),o[U][d]=R++}}})};return a(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),a(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},t.prototype.onColumnsReady=function(){var e=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n){var r=n.type;setTimeout(function(){if(r==="fitGridWidth"){var o=n.columnLimits,a=n.defaultMinWidth,s=n.defaultMaxWidth,l=o?.map(function(c){var u=c.colId,d=c.minWidth,p=c.maxWidth;return{key:u,minWidth:d,maxWidth:p}});e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:a,defaultMaxWidth:s,columnLimits:l})}else r==="fitProvidedWidth"&&e.sizeColumnsToFit(n.width,"sizeColumnsToFit")})}},t.prototype.onFirstDataRendered=function(){var e=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n?.type==="fitCellContents"){var r=n.colIds,o=n.skipHeader;setTimeout(function(){r?e.autoSizeColumns({columns:r,skipHeader:o,source:"autosizeColumns"}):e.autoSizeAllColumns(o,"autosizeColumns")})}},lt([m("expressionService")],t.prototype,"expressionService",void 0),lt([m("columnFactory")],t.prototype,"columnFactory",void 0),lt([m("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),lt([m("ctrlsService")],t.prototype,"ctrlsService",void 0),lt([m("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),lt([m("columnUtils")],t.prototype,"columnUtils",void 0),lt([m("columnAnimationService")],t.prototype,"columnAnimationService",void 0),lt([m("autoGroupColService")],t.prototype,"autoGroupColService",void 0),lt([ye("aggFuncService")],t.prototype,"aggFuncService",void 0),lt([ye("valueCache")],t.prototype,"valueCache",void 0),lt([ye("animationFrameService")],t.prototype,"animationFrameService",void 0),lt([m("sortController")],t.prototype,"sortController",void 0),lt([m("columnDefFactory")],t.prototype,"columnDefFactory",void 0),lt([I],t.prototype,"init",null),lt([_t],t.prototype,"destroyColumns",null),lt([mk(0,Nt("loggerFactory"))],t.prototype,"setBeans",null),t=lt([z("columnModel")],t),t}(T),wk=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ck=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},bk=function(i){wk(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.calculateColMinWidth=function(e){return e.minWidth!=null?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return e.maxWidth!=null?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var n=this.calculateColMinWidth(e),r=this.calculateColMaxWidth(e),o,a=ui(e.width),s=ui(e.initialWidth);return a!=null?o=a:s!=null?o=s:o=200,Math.max(Math.min(o,r),n)},t.prototype.getOriginalPathForColumn=function(e,n){var r=[],o=!1,a=function(s,l){for(var c=0;c<s.length;c++){if(o)return;var u=s[c];if(u instanceof Ge){var d=u;a(d.getChildren(),l+1),r[l]=u}else u===e&&(o=!0)}};return a(n,0),o?r:null},t.prototype.depthFirstOriginalTreeSearch=function(e,n,r){var o=this;n&&n.forEach(function(a){a instanceof Ge&&o.depthFirstOriginalTreeSearch(a,a.getChildren(),r),r(a,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,n){var r=this;e&&e.forEach(function(o){o instanceof Ze&&r.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,n){var r=this;e&&e.forEach(function(o){o instanceof Ze&&r.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},t=Ck([z("columnUtils")],t),t}(T),_k=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sk=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ek=function(i){_k(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.createDisplayedGroups=function(e,n,r,o){for(var a=this,s=this.mapOldGroupsById(o),l=[],c=e,u=function(){var d=c;c=[];for(var p=0,f=function(D){var R=p;p=D;var M=d[R],O=M instanceof Ze?M.getProvidedColumnGroup():M,k=O.getOriginalParent();if(k==null){for(var V=R;V<D;V++)l.push(d[V]);return}for(var U=a.createColumnGroup(k,n,s,r),V=R;V<D;V++)U.addChild(d[V]);c.push(U)},h=1;h<d.length;h++){var g=d[h],y=g instanceof Ze?g.getProvidedColumnGroup():g,w=y.getOriginalParent(),C=d[p],b=C instanceof Ze?C.getProvidedColumnGroup():C,_=b.getOriginalParent();w!==_&&f(h)}p<d.length&&f(d.length)};c.length;)u();return this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,n,r,o){var a=e.getGroupId(),s=n.getInstanceIdForKey(a),l=Ze.createUniqueId(a,s),c=r[l];return c&&c.getProvidedColumnGroup()!==e&&(c=null),x(c)?c.reset():(c=new Ze(e,a,s,o),this.context.createBean(c)),c},t.prototype.mapOldGroupsById=function(e){var n={},r=function(o){o.forEach(function(a){if(a instanceof Ze){var s=a;n[a.getUniqueId()]=s,r(s.getChildren())}})};return e&&r(e),n},t.prototype.setupParentsIntoColumns=function(e,n){var r=this;e.forEach(function(o){if(o.setParent(n),o instanceof Ze){var a=o;r.setupParentsIntoColumns(a.getChildren(),a)}})},t=Sk([z("displayedGroupCreator")],t),t}(T),Yr=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Qr=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},xk={statusBar:!0,enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,alignedGrids:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,loadingOverlayComponentParams:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,noRowsOverlayComponentParams:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,autoGroupColumnDef:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0},or=function(){function i(){}return i.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],i.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],i.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],i.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],i.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType"],i.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],i.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],i.FUNCTION_PROPERTIES=Qr(Qr([],Yr(i.FUNCTIONAL_PROPERTIES),!1),Yr(i.CALLBACK_PROPERTIES),!1),i.ALL_PROPERTIES=Qr(Qr(Qr(Qr(Qr(Qr([],Yr(i.ARRAY_PROPERTIES),!1),Yr(i.OBJECT_PROPERTIES),!1),Yr(i.STRING_PROPERTIES),!1),Yr(i.NUMBER_PROPERTIES),!1),Yr(i.FUNCTION_PROPERTIES),!1),Yr(i.BOOLEAN_PROPERTIES),!1),i}(),nv=function(){return nv=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},nv.apply(this,arguments)},mE=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},vE=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},El=function(){function i(){}i.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)},i.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},i.combineAttributesAndGridOptions=function(e,n){typeof e!="object"&&(e={});var r=nv({},e),o=i.getGridOptionKeys();return o.forEach(function(a){var s=n[a];typeof s<"u"&&s!==i.VUE_OMITTED_PROPERTY&&(r[a]=s)}),r},i.processOnChange=function(e,n){if(e){var r={},o=!1;if(Object.keys(e).filter(function(s){return i.ALL_PROPERTIES_AND_CALLBACKS_SET.has(s)}).forEach(function(s){r[s]=e[s],o=!0}),!!o){n.__internalUpdateGridOptions(r);var a={type:v.EVENT_COMPONENT_STATE_CHANGED};ft(r,function(s,l){a[s]=l}),n.dispatchEvent(a)}}};var t;return t=i,i.EVENTS=Zi(v),i.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",i.EXCLUDED_INTERNAL_EVENTS=[v.EVENT_SCROLLBAR_WIDTH_CHANGED,v.EVENT_CHECKBOX_CHANGED,v.EVENT_HEIGHT_SCALE_CHANGED,v.EVENT_BODY_HEIGHT_CHANGED,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,v.EVENT_SCROLL_VISIBILITY_CHANGED,v.EVENT_COLUMN_HOVER_CHANGED,v.EVENT_FLASH_CELLS,v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,v.EVENT_DISPLAYED_ROWS_CHANGED,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,v.EVENT_POPUP_TO_FRONT,v.EVENT_STORE_UPDATED,v.EVENT_COLUMN_PANEL_ITEM_DRAG_START,v.EVENT_COLUMN_PANEL_ITEM_DRAG_END,v.EVENT_FILL_START,v.EVENT_FILL_END,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,v.EVENT_FULL_WIDTH_ROW_FOCUSED,v.EVENT_HEADER_HEIGHT_CHANGED,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,v.EVENT_CELL_FOCUS_CLEARED,v.EVENT_GRID_STYLES_CHANGED,v.EVENT_FILTER_DESTROYED,v.EVENT_ROW_DATA_UPDATE_STARTED,v.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,v.EVENT_DATA_TYPES_INFERRED,v.EVENT_FIELD_VALUE_CHANGED,v.EVENT_FIELD_PICKER_VALUE_SELECTED,v.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,v.EVENT_SUPPRESS_MENU_HIDE_CHANGED,v.EVENT_SUPPRESS_FIELD_DOT_NOTATION,v.EVENT_ROW_COUNT_READY,v.EVENT_SIDE_BAR_UPDATED],i.PUBLIC_EVENTS=i.EVENTS.filter(function(e){return!gn(i.EXCLUDED_INTERNAL_EVENTS,e)}),i.EVENT_CALLBACKS=i.EVENTS.map(function(e){return i.getCallbackForEvent(e)}),i.STRING_PROPERTIES=or.STRING_PROPERTIES,i.OBJECT_PROPERTIES=or.OBJECT_PROPERTIES,i.ARRAY_PROPERTIES=or.ARRAY_PROPERTIES,i.NUMBER_PROPERTIES=or.NUMBER_PROPERTIES,i.BOOLEAN_PROPERTIES=or.BOOLEAN_PROPERTIES,i.FUNCTION_PROPERTIES=or.FUNCTION_PROPERTIES,i.ALL_PROPERTIES=or.ALL_PROPERTIES,i.ALL_PROPERTIES_AND_CALLBACKS=vE(vE([],mE(t.ALL_PROPERTIES),!1),mE(t.EVENT_CALLBACKS),!1),i.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(i.ALL_PROPERTIES_AND_CALLBACKS),i}(),Dk=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tk=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Rk=function(i){Dk(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.componentsMappedByName={},e}return t.prototype.setupComponents=function(e){var n=this;e&&e.forEach(function(r){return n.addComponent(r)})},t.prototype.addComponent=function(e){var n=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=n.toUpperCase();this.componentsMappedByName[r]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=Tk([z("agStackComponentsRegistry")],t),t}(T);function en(i,t,e){e==null||typeof e=="string"&&e==""?_v(i,t):yn(i,t,e)}function yn(i,t,e){i.setAttribute(U0(t),e.toString())}function _v(i,t){i.removeAttribute(U0(t))}function U0(i){return"aria-".concat(i)}function Je(i,t){t?i.setAttribute("role",t):i.removeAttribute("role")}function W0(i){var t;return i==="asc"?t="ascending":i==="desc"?t="descending":i==="mixed"?t="other":t="none",t}function q0(i){return parseInt(i.getAttribute("aria-level"),10)}function $0(i){return parseInt(i.getAttribute("aria-posinset"),10)}function K0(i){return i.getAttribute("aria-label")}function Or(i,t){en(i,"label",t)}function Od(i,t){en(i,"labelledby",t)}function Y0(i,t){en(i,"description",t)}function Ok(i,t){en(i,"describedby",t)}function Sv(i,t){en(i,"live",t)}function Ak(i,t){en(i,"atomic",t)}function Ik(i,t){en(i,"relevant",t)}function Q0(i,t){en(i,"level",t)}function Ev(i,t){en(i,"disabled",t)}function Kd(i,t){en(i,"hidden",t)}function xv(i,t){en(i,"activedescendant",t)}function Vn(i,t){yn(i,"expanded",t)}function Z0(i){_v(i,"expanded")}function Dv(i,t){yn(i,"setsize",t)}function Tv(i,t){yn(i,"posinset",t)}function X0(i,t){yn(i,"multiselectable",t)}function J0(i,t){yn(i,"rowcount",t)}function Rv(i,t){yn(i,"rowindex",t)}function ex(i,t){yn(i,"colcount",t)}function Ov(i,t){yn(i,"colindex",t)}function tx(i,t){yn(i,"colspan",t)}function nx(i,t){yn(i,"sort",t)}function rx(i){_v(i,"sort")}function _a(i,t){en(i,"selected",t)}function Mk(i,t){yn(i,"checked",t===void 0?"mixed":t)}function Av(i,t){en(i,"controls",t.id),Od(t,i.id)}function Yd(i,t){return t===void 0?i("ariaIndeterminate","indeterminate"):t===!0?i("ariaChecked","checked"):i("ariaUnchecked","unchecked")}var Pk=Object.freeze({__proto__:null,setAriaRole:Je,getAriaSortState:W0,getAriaLevel:q0,getAriaPosInSet:$0,getAriaLabel:K0,setAriaLabel:Or,setAriaLabelledBy:Od,setAriaDescription:Y0,setAriaDescribedBy:Ok,setAriaLive:Sv,setAriaAtomic:Ak,setAriaRelevant:Ik,setAriaLevel:Q0,setAriaDisabled:Ev,setAriaHidden:Kd,setAriaActiveDescendant:xv,setAriaExpanded:Vn,removeAriaExpanded:Z0,setAriaSetSize:Dv,setAriaPosInSet:Tv,setAriaMultiSelectable:X0,setAriaRowCount:J0,setAriaRowIndex:Rv,setAriaColCount:ex,setAriaColIndex:Ov,setAriaColSpan:tx,setAriaSort:nx,removeAriaSort:rx,setAriaSelected:_a,setAriaChecked:Mk,setAriaControls:Av,getAriaCheckboxStateName:Yd}),em,Ju,tm,nm,rm,im,rv,iv;function Hn(){return em===void 0&&(em=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),em}function Iv(){if(Ju===void 0)if(Hn()){var i=navigator.userAgent.match(/version\/(\d+)/i);i&&(Ju=i[1]!=null?parseFloat(i[1]):0)}else Ju=0;return Ju}function Qd(){if(tm===void 0){var i=window;tm=!!i.chrome&&(!!i.chrome.webstore||!!i.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return tm}function Mv(){return nm===void 0&&(nm=/(firefox)/i.test(navigator.userAgent)),nm}function Pv(){return rm===void 0&&(rm=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),rm}function hi(){return im===void 0&&(im=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),im}function Zd(){return!Hn()||Iv()>=15}function Ad(i){if(!i)return null;var t=i.tabIndex,e=i.getAttribute("tabIndex");return t===-1&&(e===null||e===""&&!Mv())?null:t.toString()}function ix(){if(!document.body)return-1;var i=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var n=i*2;if(e.style.height=n+"px",n>t||e.clientHeight!==n)break;i=n}return document.body.removeChild(e),i}function ox(){var i,t,e;return(t=(i=document.body)===null||i===void 0?void 0:i.clientWidth)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientWidth)||-1}function ax(){var i,t,e;return(t=(i=document.body)===null||i===void 0?void 0:i.clientHeight)!==null&&t!==void 0?t:window.innerHeight||((e=document.documentElement)===null||e===void 0?void 0:e.clientHeight)||-1}function sx(){return iv==null&&lx(),iv}function lx(){var i=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",i.appendChild(t);var e=t.offsetWidth-t.clientWidth;e===0&&t.clientWidth===0&&(e=null),t.parentNode&&t.parentNode.removeChild(t),e!=null&&(iv=e,rv=e===0)}function Fv(){return rv==null&&lx(),rv}var Fk=Object.freeze({__proto__:null,isBrowserSafari:Hn,getSafariVersion:Iv,isBrowserChrome:Qd,isBrowserFirefox:Mv,isMacOsUserAgent:Pv,isIOSUserAgent:hi,browserSupportsPreventScroll:Zd,getTabIndex:Ad,getMaxDivHeight:ix,getBodyWidth:ox,getBodyHeight:ax,getScrollbarWidth:sx,isInvisibleScrollbar:Fv});function wa(i,t){return i.toString().padStart(t,"0")}function cx(i,t){for(var e=[],n=i;n<=t;n++)e.push(n);return e}function Nk(i){return typeof i=="string"&&(i=parseInt(i,10)),typeof i=="number"?Math.floor(i):null}function Lk(i,t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(i&255),i>>>=8;return e}function kk(i,t,e){return typeof i!="number"?"":Nv(Math.round(i*100)/100,t,e)}function Nv(i,t,e){return typeof i!="number"?"":i.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}function zk(i){return i==null?null:i.reduce(function(t,e){return t+e},0)}var Vk=Object.freeze({__proto__:null,padStartWidthZeros:wa,createArrayOfNumbers:cx,cleanNumber:Nk,decToHex:Lk,formatNumberTwoDecimalPlacesAndCommas:kk,formatNumberCommas:Nv,sum:zk}),om=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o};function mn(i,t,e){if(t===void 0&&(t=!0),e===void 0&&(e="-"),!i)return null;var n=[i.getFullYear(),i.getMonth()+1,i.getDate()].map(function(r){return wa(r,2)}).join(e);return t&&(n+=" "+[i.getHours(),i.getMinutes(),i.getSeconds()].map(function(r){return wa(r,2)}).join(":")),n}var am=function(i){if(i>3&&i<21)return"th";var t=i%10;switch(t){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Ca(i,t){t===void 0&&(t="YYYY-MM-DD");var e=wa(i.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return"".concat(i.getFullYear())},MMMM:function(){return n[i.getMonth()]},MMM:function(){return n[i.getMonth()].slice(0,3)},MM:function(){return wa(i.getMonth()+1,2)},Mo:function(){return"".concat(i.getMonth()+1).concat(am(i.getMonth()+1))},M:function(){return"".concat(i.getMonth()+1)},Do:function(){return"".concat(i.getDate()).concat(am(i.getDate()))},DD:function(){return wa(i.getDate(),2)},D:function(){return"".concat(i.getDate())},dddd:function(){return r[i.getDay()]},ddd:function(){return r[i.getDay()].slice(0,3)},dd:function(){return r[i.getDay()].slice(0,2)},do:function(){return"".concat(i.getDay()).concat(am(i.getDay()))},d:function(){return"".concat(i.getDay())}},a=new RegExp(Object.keys(o).join("|"),"g");return t.replace(a,function(s){return s in o?o[s]():s})}function Lt(i){if(!i)return null;var t=om(i.split(" "),2),e=t[0],n=t[1];if(!e)return null;var r=e.split("-").map(function(h){return parseInt(h,10)});if(r.filter(function(h){return!isNaN(h)}).length!==3)return null;var o=om(r,3),a=o[0],s=o[1],l=o[2],c=new Date(a,s-1,l);if(c.getFullYear()!==a||c.getMonth()!==s-1||c.getDate()!==l)return null;if(!n||n==="00:00:00")return c;var u=om(n.split(":").map(function(h){return parseInt(h,10)}),3),d=u[0],p=u[1],f=u[2];return d>=0&&d<24&&c.setHours(d),p>=0&&p<60&&c.setMinutes(p),f>=0&&f<60&&c.setSeconds(f),c}var Gk=Object.freeze({__proto__:null,serialiseDate:mn,dateToFormattedString:Ca,parseDateTimeFromString:Lt}),Hk=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jk=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},ed;function ov(i,t,e){for(var n=i.parentElement,r=n&&n.firstChild;r;)t&&r.classList.toggle(t,r===i),e&&r.classList.toggle(e,r!==i),r=r.nextSibling}var ux="[tabindex], input, select, button, textarea, [href]",Lv="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function kv(i){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e="input, select, button, textarea",n=t.call(i,e),r=t.call(i,Lv),o=zt(i),a=n&&!r&&o;return a}function we(i,t,e){e===void 0&&(e={});var n=e.skipAriaHidden;i.classList.toggle("ag-hidden",!t),n||Kd(i,!t)}function dx(i,t,e){e===void 0&&(e={});var n=e.skipAriaHidden;i.classList.toggle("ag-invisible",!t),n||Kd(i,!t)}function Sa(i,t){var e="disabled",n=t?function(r){return r.setAttribute(e,"")}:function(r){return r.removeAttribute(e)};n(i),Bv(i.querySelectorAll("input"),function(r){return n(r)})}function Xi(i,t,e){for(var n=0;i;){if(i.classList.contains(t))return!0;if(i=i.parentElement,typeof e=="number"){if(++n>e)break}else if(i===e)break}return!1}function gi(i){var t=window.getComputedStyle(i),e=t.height,n=t.width,r=t.borderTopWidth,o=t.borderRightWidth,a=t.borderBottomWidth,s=t.borderLeftWidth,l=t.paddingTop,c=t.paddingRight,u=t.paddingBottom,d=t.paddingLeft,p=t.marginTop,f=t.marginRight,h=t.marginBottom,g=t.marginLeft,y=t.boxSizing;return{height:parseFloat(e),width:parseFloat(n),borderTopWidth:parseFloat(r),borderRightWidth:parseFloat(o),borderBottomWidth:parseFloat(a),borderLeftWidth:parseFloat(s),paddingTop:parseFloat(l),paddingRight:parseFloat(c),paddingBottom:parseFloat(u),paddingLeft:parseFloat(d),marginTop:parseFloat(p),marginRight:parseFloat(f),marginBottom:parseFloat(h),marginLeft:parseFloat(g),boxSizing:y}}function xl(i){var t=gi(i);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function oo(i){var t=gi(i);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function zv(i){var t=gi(i),e=t.marginBottom+t.marginTop;return Math.ceil(i.offsetHeight+e)}function vl(i){var t=gi(i),e=t.marginLeft+t.marginRight;return Math.ceil(i.offsetWidth+e)}function Vv(i){var t=i.getBoundingClientRect(),e=gi(i),n=e.borderTopWidth,r=e.borderLeftWidth,o=e.borderRightWidth,a=e.borderBottomWidth;return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(o||0),bottom:t.bottom+(a||0)}}function yl(){if(typeof ed=="boolean")return ed;var i=document.createElement("div");return i.style.direction="rtl",i.style.width="1px",i.style.height="1px",i.style.position="fixed",i.style.top="0px",i.style.overflow="hidden",i.dir="rtl",i.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(i),i.scrollLeft=1,ed=Math.floor(i.scrollLeft)===0,document.body.removeChild(i),ed}function wl(i,t){var e=i.scrollLeft;return t&&(e=Math.abs(e),Qd()&&!yl()&&(e=i.scrollWidth-i.clientWidth-e)),e}function Cl(i,t,e){e&&(yl()?t*=-1:(Hn()||Qd())&&(t=i.scrollWidth-i.clientWidth-t)),i.scrollLeft=t}function rt(i){for(;i&&i.firstChild;)i.removeChild(i.firstChild)}function Rr(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function zt(i){var t=i;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});var e=!i.offsetParent||window.getComputedStyle(i).visibility!=="visible";return!e}function ct(i){var t=document.createElement("div");return t.innerHTML=(i||"").trim(),t.firstChild}function Bk(i,t){i.lastChild?i.insertAdjacentHTML("afterbegin",t):i.innerHTML=t}function av(i){return i&&i.clientHeight?i.clientHeight:0}function sv(i){return i&&i.clientWidth?i.clientWidth:0}function Gv(i,t,e){if(!(e&&e.nextSibling===t)){var n=document.activeElement,r=t.contains(n);e?e.nextSibling?i.insertBefore(t,e.nextSibling):i.appendChild(t):i.firstChild&&i.firstChild!==t&&i.insertAdjacentElement("afterbegin",t),r&&n&&Zd()&&n.focus({preventScroll:!0})}}function Hv(i,t){for(var e=0;e<t.length;e++){var n=t[e],r=i.children[e];r!==n&&i.insertBefore(n,r)}}function px(i,t,e){e?e.insertAdjacentElement("afterend",t):i.firstChild?i.insertAdjacentElement("afterbegin",t):i.appendChild(t)}function jv(i,t){var e,n;if(t)try{for(var r=Hk(Object.entries(t)),o=r.next();!o.done;o=r.next()){var a=jk(o.value,2),s=a[0],l=a[1];if(!(!s||!s.length||l==null)){var c=B0(s),u=l.toString(),d=u.replace(/\s*!important/g,""),p=d.length!=u.length?"important":void 0;i.style.setProperty(c,d,p)}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}function fx(i){return i.clientWidth<i.scrollWidth}function hx(i){return i.clientHeight<i.scrollHeight}function bl(i,t){t==="flex"?(i.style.removeProperty("width"),i.style.removeProperty("minWidth"),i.style.removeProperty("maxWidth"),i.style.flex="1 1 auto"):vn(i,t)}function vn(i,t){t=Xd(t),i.style.width=t.toString(),i.style.maxWidth=t.toString(),i.style.minWidth=t.toString()}function Uk(i,t){t==="flex"?(i.style.removeProperty("height"),i.style.removeProperty("minHeight"),i.style.removeProperty("maxHeight"),i.style.flex="1 1 auto"):Ji(i,t)}function Ji(i,t){t=Xd(t),i.style.height=t.toString(),i.style.maxHeight=t.toString(),i.style.minHeight=t.toString()}function Xd(i){return typeof i=="number"?"".concat(i,"px"):i}function Dl(i){return i instanceof Node||i instanceof HTMLElement}function gx(i){if(i==null)return[];var t=[];return Bv(i,function(e){return t.push(e)}),t}function mx(i,t){if(i)for(var e=0;e<i.length;e++){var n=i[e];t(n.name,n.value)}}function sr(i,t,e){e==null?i.removeAttribute(t):i.setAttribute(t,e.toString())}function Bv(i,t){if(i!=null)for(var e=0;e<i.length;e++)t(i[e])}function Uv(i,t){i.then(function(e){var n=e.getGui();n!=null&&(typeof n=="object"?t.appendChild(n):t.innerHTML=n)})}var Wk=Object.freeze({__proto__:null,radioCssClass:ov,FOCUSABLE_SELECTOR:ux,FOCUSABLE_EXCLUDE:Lv,isFocusableFormField:kv,setDisplayed:we,setVisible:dx,setDisabled:Sa,isElementChildOfClass:Xi,getElementSize:gi,getInnerHeight:xl,getInnerWidth:oo,getAbsoluteHeight:zv,getAbsoluteWidth:vl,getElementRectWithOffset:Vv,isRtlNegativeScroll:yl,getScrollLeft:wl,setScrollLeft:Cl,clearElement:rt,removeFromParent:Rr,isVisible:zt,loadTemplate:ct,appendHtml:Bk,offsetHeight:av,offsetWidth:sv,ensureDomOrder:Gv,setDomChildOrder:Hv,insertWithDomOrder:px,addStylesToElement:jv,isHorizontalScrollShowing:fx,isVerticalScrollShowing:hx,setElementWidth:bl,setFixedWidth:vn,setElementHeight:Uk,setFixedHeight:Ji,formatSize:Xd,isNodeOrElement:Dl,copyNodeList:gx,iterateNamedNodeMap:mx,addOrRemoveAttribute:sr,nodeListForEach:Bv,bindCellRendererToHtmlElement:Uv}),qk=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function vx(i,t,e){var n={},r=i.filter(function(o){return!t.some(function(a){return a===o})});return r.length>0&&r.forEach(function(o){return n[o]=Tl(o,e).values}),n}function Tl(i,t,e,n){var r,o,a=t.map(function(h,g){return{value:h,relevance:$k(i.toLowerCase(),h.toLocaleLowerCase()),idx:g}});if(a.sort(function(h,g){return g.relevance-h.relevance}),e&&(a=a.filter(function(h){return h.relevance!==0})),a.length>0&&n&&n>0){var s=a[0].relevance,l=s*n;a=a.filter(function(h){return l-h.relevance<0})}var c=[],u=[];try{for(var d=qk(a),p=d.next();!p.done;p=d.next()){var f=p.value;c.push(f.value),u.push(f.idx)}}catch(h){r={error:h}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}return{values:c,indices:u}}function $k(i,t){for(var e=i.replace(/\s/g,""),n=t.replace(/\s/g,""),r=0,o=-1,a=0;a<e.length;a++){var s=n.indexOf(e[a],o+1);s!==-1&&(o=s,r+=100-o*100/1e4*100)}return r}var Kk=Object.freeze({__proto__:null,fuzzyCheckStrings:vx,fuzzySuggestions:Tl}),yx={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function fn(i,t,e){var n=je(i,t,e);if(n){var r=n.className;if(typeof r=="string"&&r.indexOf("ag-icon")>-1||typeof r=="object"&&r["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function je(i,t,e,n){var r=null,o=e&&e.getColDef().icons;if(o&&(r=o[i]),t&&!r){var a=t.get("icons");a&&(r=a[i])}if(r){var s=void 0;if(typeof r=="function")s=r();else if(typeof r=="string")s=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof s=="string")return ct(s);if(Dl(s))return s;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{var l=document.createElement("span"),c=yx[i];return c||(n?c=i:(console.warn("AG Grid: Did not find icon ".concat(i)),c="")),l.setAttribute("class","ag-icon ag-icon-".concat(c)),l.setAttribute("unselectable","on"),Je(l,"presentation"),l}}var Yk=Object.freeze({__proto__:null,iconNameClassMap:yx,createIcon:fn,createIconNoSpan:je}),S=function(){function i(){}return i.BACKSPACE="Backspace",i.TAB="Tab",i.ENTER="Enter",i.ESCAPE="Escape",i.SPACE=" ",i.LEFT="ArrowLeft",i.UP="ArrowUp",i.RIGHT="ArrowRight",i.DOWN="ArrowDown",i.DELETE="Delete",i.F2="F2",i.PAGE_UP="PageUp",i.PAGE_DOWN="PageDown",i.PAGE_HOME="Home",i.PAGE_END="End",i.A="KeyA",i.C="KeyC",i.D="KeyD",i.V="KeyV",i.X="KeyX",i.Y="KeyY",i.Z="KeyZ",i}(),Qk=65,Zk=67,Xk=86,Jk=68,e1=90,t1=89;function Jd(i){if(i.altKey||i.ctrlKey||i.metaKey)return!1;var t=i.key.length===1;return t}function Id(i,t,e,n,r){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var a={event:t,editing:r,column:n,api:i.api,node:e,data:e.data,colDef:n.getColDef(),context:i.context,columnApi:i.columnApi};if(o){var s=o(a);if(s)return!0}return!1}function wx(i,t,e,n){var r=n.getDefinition(),o=r&&r.suppressHeaderKeyboardEvent;if(!x(o))return!1;var a={api:i.api,columnApi:i.columnApi,context:i.context,colDef:r,column:n,headerRowIndex:e,event:t};return!!o(a)}function Cx(i){var t=i.keyCode,e;switch(t){case Qk:e=S.A;break;case Zk:e=S.C;break;case Xk:e=S.V;break;case Jk:e=S.D;break;case e1:e=S.Z;break;case t1:e=S.Y;break;default:e=i.code}return e}function bx(i,t){return t===void 0&&(t=!1),i===S.DELETE?!0:!t&&i===S.BACKSPACE?Pv():!1}var n1=Object.freeze({__proto__:null,isEventFromPrintableCharacter:Jd,isUserSuppressingKeyboardEvent:Id,isUserSuppressingHeaderKeyboardEvent:wx,normaliseQwertyAzerty:Cx,isDeleteKey:bx});function Wv(i,t,e){if(e===0)return!1;var n=Math.abs(i.clientX-t.clientX),r=Math.abs(i.clientY-t.clientY);return Math.max(n,r)<=e}var r1=Object.freeze({__proto__:null,areEventsNear:Wv});function i1(i,t){if(!i)return!1;for(var e=function(s,l){var c=t[s.id],u=t[l.id],d=c!==void 0,p=u!==void 0,f=d&&p,h=!d&&!p;return f?c-u:h?s.__objectId-l.__objectId:d?1:-1},n,r,o=!1,a=0;a<i.length-1;a++)if(n=i[a],r=i[a+1],e(n,r)>0){o=!0;break}return o?(i.sort(e),!0):!1}var o1=Object.freeze({__proto__:null,sortRowNodesByOrder:i1});function qv(i){var t=new Set;return i.forEach(function(e){return t.add(e)}),t}var a1=Object.freeze({__proto__:null,convertToSet:qv}),We=function(){return We=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},We.apply(this,arguments)},s1=We(We(We(We(We(We(We(We(We(We(We(We(We(We(We(We(We(We({},Pk),XL),Fk),Gk),Wk),ek),zL),Kk),DL),Yk),n1),hk),r1),Vk),NL),o1),a1),dk),ie=s1,Ea=function(){function i(t,e){t===void 0&&(t=0),e===void 0&&(e=1),this.nextValue=t,this.step=e}return i.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},i.prototype.peek=function(){return this.nextValue},i.prototype.skip=function(t){this.nextValue+=t},i}(),cl=function(i){return i[i.IN_PROGRESS=0]="IN_PROGRESS",i[i.RESOLVED=1]="RESOLVED",i}(cl||{}),Qt=function(){function i(t){var e=this;this.status=cl.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(n){return e.onDone(n)},function(n){return e.onReject(n)})}return i.all=function(t){return new i(function(e){var n=t.length,r=new Array(n);t.forEach(function(o,a){o.then(function(s){r[a]=s,n--,n===0&&e(r)})})})},i.resolve=function(t){return t===void 0&&(t=null),new i(function(e){return e(t)})},i.prototype.then=function(t){var e=this;return new i(function(n){e.status===cl.RESOLVED?n(t(e.resolution)):e.waiters.push(function(r){return n(t(r))})})},i.prototype.resolveNow=function(t,e){return this.status===cl.RESOLVED?e(this.resolution):t},i.prototype.onDone=function(t){this.status=cl.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},i.prototype.onReject=function(t){console.warn("TBI")},i}(),pY=function(){function i(){this.timestamp=new Date().getTime()}return i.prototype.print=function(t){var e=new Date().getTime()-this.timestamp;console.info("".concat(t," = ").concat(e)),this.timestamp=new Date().getTime()},i}(),l1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ki=function(){return Ki=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Ki.apply(this,arguments)},sm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ir=function(i){return i[i.NOTHING=0]="NOTHING",i[i.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",i[i.SHOWING=2]="SHOWING",i}(ir||{}),Er=function(i){return i[i.HOVER=0]="HOVER",i[i.FOCUS=1]="FOCUS",i}(Er||{}),$v=function(i){l1(t,i);function t(e,n,r){var o=i.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=r,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=ir.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return t.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===Er.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Er.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var n=this.gridOptionsService.get(e);return n<0&&J("".concat(e," should not be lower than 0")),Math.max(200,n)},t.prototype.getTooltipDelay=function(e){var n,r;return e==="show"?(n=this.tooltipShowDelayOverride)!==null&&n!==void 0?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(r=this.tooltipHideDelayOverride)!==null&&r!==void 0?r:this.getGridOptionsTooltipDelay("tooltipHideDelay")},t.prototype.destroy=function(){this.setToDoNothing(),i.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return!e||e==="hover"?Er.HOVER:Er.FOCUS},t.prototype.onMouseEnter=function(e){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!hi()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===ir.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var n,r=e.relatedTarget,o=this.parentComp.getGui(),a=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(r)||this.interactionEnabled&&a?.contains(r)||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=ir.NOTHING||t.isLocked)return!1;var n=0;return e&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=ir.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){var e=new Date().getTime(),n=t.lastTooltipHideTime;return e-n<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===ir.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=ir.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=Ki({},this.parentComp.getTooltipParams());if(!x(e.value)){this.setToDoNothing();return}this.state=ir.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),r=this.userComponentFactory.getTooltipCompDetails(e);r.newAgStackInstance().then(n)},t.prototype.hideTooltip=function(e){if(!(!e&&this.isInteractingWithTooltip)){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=new Date().getTime());var n={type:v.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=ir.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,n){var r=this.state!==ir.SHOWING||this.tooltipInstanceCount!==e;if(r){this.getContext().destroyBean(n);return}var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Er.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var a=this.localeService.getLocaleTextFunc(),s=this.popupService.addPopup({eChild:o,ariaLabel:a("ariaLabelTooltip","Tooltip")});s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===Er.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Er.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var l={type:v.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(l),this.startHideTimeout()},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var n,r=this.parentComp.getGui(),o=(n=this.tooltipComp)===null||n===void 0?void 0:n.getGui(),a=e.relatedTarget;o?.contains(a)||(this.isInteractingWithTooltip=!1,r.contains(a)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Ki(Ki({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Ki(Ki({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,r=this.tooltipComp,o=this.tooltipTrigger===Er.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(function(){n(),e.getContext().destroyBean(r)},o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},t.prototype.clearShowTimeout=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,sm([m("popupService")],t.prototype,"popupService",void 0),sm([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),sm([I],t.prototype,"postConstruct",null),t}(T),c1=function(){function i(t){this.cssClassStates={},this.getGui=t}return i.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1){n.forEach(function(a){return e.addCssClass(a)});return}var r=this.cssClassStates[t]!==!0;if(r&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},i.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1){n.forEach(function(a){return e.removeCssClass(a)});return}var r=this.cssClassStates[t]!==!1;if(r&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},i.prototype.containsCssClass=function(t){var e=this.getGui();return e?e.classList.contains(t):!1},i.prototype.addOrRemoveCssClass=function(t,e){var n=this;if(t){if(t.indexOf(" ")>=0){var r=(t||"").split(" ");if(r.length>1){r.forEach(function(s){return n.addOrRemoveCssClass(s,e)});return}}var o=this.cssClassStates[t]!==e;if(o&&t.length){var a=this.getGui();a&&a.classList.toggle(t,e),this.cssClassStates[t]=e}}},i}(),u1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},d1=new Ea,te=function(i){u1(t,i);function t(e){var n=i.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=d1.next(),n.cssClassManager=new c1(function(){return n.eGui}),e&&n.setTemplate(e),n}return t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,n,r){var o=this,a=function(){o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)},s=function(){o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new $v(o,n,r))};this.tooltipText!=e&&(this.tooltipText&&a(),e!=null&&(this.tooltipText=e,this.tooltipText&&s()))},t.prototype.createChildComponentsFromTags=function(e,n){var r=this,o=gx(e.childNodes);o.forEach(function(a){if(a instanceof HTMLElement){var s=r.createComponentFromElement(a,function(c){var u=c.getGui();u&&r.copyAttributesFromNode(a,c.getGui())},n);if(s){if(s.addItems&&a.children.length){r.createChildComponentsFromTags(a,n);var l=Array.prototype.slice.call(a.children);s.addItems(l)}r.swapComponentForNode(s,e,a)}else a.childNodes&&r.createChildComponentsFromTags(a,n)}})},t.prototype.createComponentFromElement=function(e,n,r){var o=e.nodeName,a=r?r[e.getAttribute("ref")]:void 0,s=this.agStackComponentsRegistry.getComponentClass(o);if(s){t.elementGettingCreated=e;var l=new s(a);return l.setParentComponent(this),this.createBean(l,null,n),l}return null},t.prototype.copyAttributesFromNode=function(e,n){mx(e.attributes,function(r,o){return n.setAttribute(r,o)})},t.prototype.swapComponentForNode=function(e,n,r){var o=e.getGui();n.replaceChild(o,r),n.insertBefore(document.createComment(r.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,r)},t.prototype.swapInComponentForQuerySelectors=function(e,n){var r=this;this.iterateOverQuerySelectors(function(o){r[o.attributeName]===n&&(r[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var n=Object.getPrototypeOf(this);n!=null;){var r=n.__agComponentMetaData,o=qd(n.constructor);r&&r[o]&&r[o].querySelectors&&r[o].querySelectors.forEach(function(a){return e(a)}),n=Object.getPrototypeOf(n)}},t.prototype.activateTabIndex=function(e){var n=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(r){return r.setAttribute("tabindex",n.toString())})},t.prototype.setTemplate=function(e,n){var r=ct(e);this.setTemplateFromElement(r,n)},t.prototype.setTemplateFromElement=function(e,n){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(r){var o=function(l){return n[r.attributeName]=l},a=r.refSelector&&e.getAttribute("ref")===r.refSelector;if(a)o(e.eGui);else{var s=e.eGui.querySelector(r.querySelector);s&&o(s.__agComponent||s)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,n){if(e!=null)if(n||(n=this.eGui),Dl(e))n.appendChild(e);else{var r=e;n.appendChild(r.getGui())}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,n){if(n===void 0&&(n={}),e!==this.visible){this.visible=e;var r=n.skipAriaHidden;dx(this.eGui,e,{skipAriaHidden:r})}},t.prototype.setDisplayed=function(e,n){if(n===void 0&&(n={}),e!==this.displayed){this.displayed=e;var r=n.skipAriaHidden;we(this.eGui,e,{skipAriaHidden:r});var o={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),i.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,n,r){var o=this;this.eGui.addEventListener(e,n,r),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,n)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,n){this.cssClassManager.addOrRemoveCssClass(e,n)},t.prototype.getAttribute=function(e){var n=this.eGui;return n?n.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))},t.EVENT_DISPLAYED_CHANGED="displayedChanged",lm([m("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),lm([fE],t.prototype,"preConstructOnComponent",null),lm([fE],t.prototype,"createChildComponentsPreConstruct",null),t}(T);function P(i){return p1.bind(this,"[ref=".concat(i,"]"),i)}function p1(i,t,e,n,r){if(i===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof r=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}f1(e,"querySelectors",{attributeName:n,querySelector:i,refSelector:t})}function f1(i,t,e){var n=h1(i,qd(i.constructor));n[t]||(n[t]=[]),n[t].push(e)}function h1(i,t){return i.__agComponentMetaData||(i.__agComponentMetaData={}),i.__agComponentMetaData[t]||(i.__agComponentMetaData[t]={}),i.__agComponentMetaData[t]}var g1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},m1=function(i){g1(t,i);function t(){return i.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(n," ").concat(r("ariaFilterInput","Filter Input")))},t.prototype.onParentModelChanged=function(e){var n=this;if(!e){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(function(r){if(r.getModelAsString){var o=r.getModelAsString(e);n.eFloatingFilterText.setValue(o)}})},t.prototype.onParamsUpdated=function(e){this.init(e)},yE([P("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),yE([m("columnModel")],t.prototype,"columnModel",void 0),t}(te),_x=function(){function i(t,e,n,r){var o=this;this.alive=!0,this.context=t,this.eParent=r;var a=e.getDateCompDetails(n),s=a.newAgStackInstance();s.then(function(l){if(!o.alive){t.destroyBean(l);return}o.dateComp=l,l&&(r.appendChild(l.getGui()),l.afterGuiAttached&&l.afterGuiAttached(),o.tempValue&&l.setDate(o.tempValue),o.disabled!=null&&o.setDateCompDisabled(o.disabled))})}return i.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},i.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},i.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},i.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},i.prototype.setDisplayed=function(t){we(this.eParent,t)},i.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},i.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},i.prototype.afterGuiAttached=function(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)},i.prototype.updateParams=function(t){var e;!((e=this.dateComp)===null||e===void 0)&&e.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(t)},i.prototype.setDateCompDisabled=function(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)},i}(),Sx=function(){function i(){this.customFilterOptions={}}return i.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},i.prototype.getFilterOptions=function(){return this.filterOptions},i.prototype.mapCustomOptions=function(){var t=this;this.filterOptions&&this.filterOptions.forEach(function(e){if(typeof e!="string"){var n=[["displayKey"],["displayName"],["predicate","test"]],r=function(o){return o.some(function(a){return e[a]!=null})?!0:(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)};if(!n.every(r)){t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[];return}t.customFilterOptions[e.displayKey]=e}})},i.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},i.prototype.getDefaultOption=function(){return this.defaultOption},i.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},i}(),Ex={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},v1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lv=function(){return lv=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},lv.apply(this,arguments)},wE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mi=function(i){v1(t,i);function t(e,n){n===void 0&&(n={});var r=i.call(this)||this;return r.eFocusableElement=e,r.callbacks=n,r.callbacks=lv({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var a=r.focusService.findNextFocusableElement(r.eFocusableElement,!1,o.shiftKey);a&&(a.focus(),o.preventDefault())}}},n),r}return t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var n=this;this.addManagedListener(e,"keydown",function(r){if(!(r.defaultPrevented||Gn(r))){if(n.callbacks.shouldStopEventPropagation(r)){lr(r);return}r.key===S.TAB?n.callbacks.onTabKeyDown(r):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(r)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",wE([m("focusService")],t.prototype,"focusService",void 0),wE([I],t.prototype,"postConstruct",null),t}(T),y1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},xx="ag-resizer-wrapper",w1='<div class="'.concat(xx,`">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`),Dx=function(i){y1(t,i);function t(e,n){var r=i.call(this)||this;return r.element=e,r.dragStartPosition={x:0,y:0},r.position={x:0,y:0},r.lastSize={width:-1,height:-1},r.positioned=!1,r.resizersAdded=!1,r.resizeListeners=[],r.boundaryEl=null,r.isResizing=!1,r.isMoving=!1,r.resizable={},r.movable=!1,r.currentResizer=null,r.config=Object.assign({},{popup:!1},n),r}return t.prototype.center=function(){var e=this.offsetParent,n=e.clientHeight,r=e.clientWidth,o=r/2-this.getWidth()/2,a=n/2-this.getHeight()/2;this.offsetElement(o,a)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,n=e.centered,r=e.forcePopupParentAsOffsetParent,o=e.minWidth,a=e.width,s=e.minHeight,l=e.height,c=e.x,u=e.y;this.offsetParent||this.setOffsetParent();var d=0,p=0,f=zt(this.element);if(f){var h=this.findBoundaryElement(),g=window.getComputedStyle(h);if(g.minWidth!=null){var y=h.offsetWidth-this.element.offsetWidth;p=parseInt(g.minWidth,10)-y}if(g.minHeight!=null){var w=h.offsetHeight-this.element.offsetHeight;d=parseInt(g.minHeight,10)-w}}if(this.minHeight=s||d,this.minWidth=o||p,a&&this.setWidth(a),l&&this.setHeight(l),(!a||!l)&&this.refreshSize(),n)this.center();else if(c||u)this.offsetElement(c,u);else if(f&&r){var h=this.boundaryEl,C=!0;if(h||(h=this.findBoundaryElement(),C=!1),h){var b=parseFloat(h.style.top),_=parseFloat(h.style.left);C?this.offsetElement(isNaN(_)?0:_,isNaN(b)?0:b):this.setPosition(_,b)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,n){if(!(!this.config.popup||e===this.movable)){this.movable=e;var r=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var n=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(r){var o=e,a=!!o[r],s=n.getResizerElement(r),l={dragStartPixels:0,eElement:s,onDragStart:function(c){return n.onResizeStart(c,r)},onDragging:n.onResize.bind(n),onDragStop:function(c){return n.onResizeEnd(c,r)}};(a||!n.isAlive()&&!a)&&(a?(n.dragService.addDragSource(l),n.resizeListeners.push(l),s.style.pointerEvents="all"):s.style.pointerEvents="none",n.resizable[r]=a)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,n=e.height,r=e.width;r!==-1&&(this.element.style.width="".concat(r,"px")),n!==-1&&(this.element.style.height="".concat(n,"px"))},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var n=this.config.popup,r=this.element,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Ji(r,e),e=zv(r),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var a=this.getAvailableHeight();a&&e>a&&(e=a)}this.getHeight()!==e&&(o?(r.style.maxHeight="unset",r.style.minHeight="unset"):n?Ji(r,e):(r.style.height="".concat(e,"px"),r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,n=e.popup,r=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=n?this.position.y:a.top,c=n?0:s.top,u=0;if(r){var d=this.element.parentElement;if(d){var p=d.getBoundingClientRect().bottom;u=p-a.bottom}}var f=o+c-l-u;return f},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var n=this.element,r=this.config.popup,o=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)vn(n,e),e=vl(n),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var a=this.offsetParent.clientWidth,s=r?this.position.x:this.element.getBoundingClientRect().left;a&&e+s>a&&(e=a-s)}this.getWidth()!==e&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?vn(n,e):(n.style.width="".concat(e,"px"),n.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))},t.prototype.offsetElement=function(e,n){e===void 0&&(e=0),n===void 0&&(n=0);var r=this.config.forcePopupParentAsOffsetParent,o=r?this.boundaryEl:this.element;o&&(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var n=this;if(this.config.forcePopupParentAsOffsetParent){var r=function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height","".concat(o,"px"))};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),r):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}},t.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n},t.prototype.updateDragStartPosition=function(e,n){this.dragStartPosition={x:e,y:n}},t.prototype.calculateMouseMovement=function(e){var n=e.e,r=e.isLeft,o=e.isTop,a=e.anywhereWithin,s=e.topBuffer,l=n.clientX-this.dragStartPosition.x,c=n.clientY-this.dragStartPosition.y,u=this.shouldSkipX(n,!!r,!!a,l)?0:l,d=this.shouldSkipY(n,!!o,s,c)?0:c;return{movementX:u,movementY:d}},t.prototype.shouldSkipX=function(e,n,r,o){var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.x:a.left,u=c<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=l.right;return u?!0:(n?u=o<0&&e.clientX>c+s.left||o>0&&e.clientX<c+s.left:r?u=o<0&&e.clientX>l.right||o>0&&e.clientX<c+s.left:u=o<0&&e.clientX>l.right||o>0&&e.clientX<l.right,u)},t.prototype.shouldSkipY=function(e,n,r,o){r===void 0&&(r=0);var a=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),l=this.boundaryEl.getBoundingClientRect(),c=this.config.popup?this.position.y:a.top,u=c<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=l.bottom;return u?!0:(n?u=o<0&&e.clientY>c+s.top+r||o>0&&e.clientY<c+s.top:u=o<0&&e.clientY>l.bottom||o>0&&e.clientY<l.bottom,u)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var n=new DOMParser,r=n.parseFromString(w1,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat(xx));e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var r=this.config,o=r.popup,a=r.forcePopupParentAsOffsetParent;!o&&!a&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var e=this.element,n=e.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(r){return!r.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],n=0,r=0,o=0;o<e.length;o++){var a=e[o],s=!!a.style.flex&&a.style.flex!=="0 0 auto";if(a!==this.element){var l=this.minHeight||0,c=this.minWidth||0;if(s){var u=window.getComputedStyle(a);u.minHeight&&(l=parseInt(u.minHeight,10)),u.minWidth&&(c=parseInt(u.minWidth,10))}else l=a.offsetHeight,c=a.offsetWidth;n+=l,r+=c}}return{height:n,width:r}},t.prototype.applySizeToSiblings=function(e){var n=null,r=this.getSiblings();if(r){for(var o=0;o<r.length;o++){var a=r[o];a!==n&&(e?a.style.height="".concat(a.offsetHeight,"px"):a.style.width="".concat(a.offsetWidth,"px"),a.style.flex="0 0 auto",a===this.element&&(n=r[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(!(!this.isResizing||!this.currentResizer)){var n=this.config,r=n.popup,o=n.forcePopupParentAsOffsetParent,a=this.currentResizer,s=a.isTop,l=a.isRight,c=a.isBottom,u=a.isLeft,d=l||u,p=c||s,f=this.calculateMouseMovement({e,isLeft:u,isTop:s}),h=f.movementX,g=f.movementY,y=this.position.x,w=this.position.y,C=0,b=0;if(d&&h){var _=u?-1:1,D=this.getWidth(),R=D+h*_,M=!1;u&&(C=D-R,(y+C<=0||R<=this.minWidth)&&(M=!0,C=0)),M||this.setWidth(R)}if(p&&g){var _=s?-1:1,O=this.getHeight(),k=O+g*_,V=!1;s?(b=O-k,(w+b<=0||k<=this.minHeight)&&(V=!0,b=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&O<k&&this.getMinSizeOfSiblings().height+k>this.element.parentElement.offsetHeight&&(V=!0),V||this.setHeight(k)}this.updateDragStartPosition(e.clientX,e.clientY),((r||o)&&C||b)&&this.offsetElement(y+C,w+b)}},t.prototype.onResizeEnd=function(e,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var r={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(r)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var n=this.position,r=n.x,o=n.y,a;this.config.calculateTopBuffer&&(a=this.config.calculateTopBuffer());var s=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:a}),l=s.movementX,c=s.movementY;this.offsetElement(r+l,o+c),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},cm([m("popupService")],t.prototype,"popupService",void 0),cm([m("resizeObserverService")],t.prototype,"resizeObserverService",void 0),cm([m("dragService")],t.prototype,"dragService",void 0),t}(T),C1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),um=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Md=function(i){C1(t,i);function t(e){var n=i.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n.buttonListeners=[],n}return t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new mi(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new Dx(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var r=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-`.concat(this.getCssIdentifier(),`-body-wrapper" ref="eFilterBody">
                    `).concat(this.createBodyTemplate(),`
                </div>
            </form>`);this.setTemplate(r,e),n=this.getGui(),n&&n.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var n=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetButtonsPanel()},t.prototype.updateParams=function(e){var n=this;this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},t.prototype.resetButtonsPanel=function(){var e=this,n=this.providedFilterParams.buttons,r=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(rt(this.eButtonsPanel),this.buttonListeners.forEach(function(s){return s?.()}),this.buttonListeners=[]):r&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!r){this.eButtonsPanel&&Rr(this.eButtonsPanel);return}var o=document.createDocumentFragment(),a=function(s){var l,c;switch(s){case"apply":l=e.translate("applyFilter"),c=function(p){return e.onBtApply(!1,!1,p)};break;case"clear":l=e.translate("clearFilter"),c=function(){return e.onBtClear()};break;case"reset":l=e.translate("resetFilter"),c=function(){return e.onBtReset()};break;case"cancel":l=e.translate("cancelFilter"),c=function(p){e.onBtCancel(p)};break;default:console.warn("AG Grid: Unknown button type specified");return}var u=s==="apply"?"submit":"button",d=ct(`<button
                    type="`.concat(u,`"
                    ref="`).concat(s,`FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >`).concat(l,`
                </button>`));e.buttonListeners.push(e.addManagedListener(d,"click",c)),o.append(d)};qv(n).forEach(function(s){return a(s)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,n=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),r=hn(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){e.debouncePending=!0,r()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var n=this,r=e!=null?this.setModelIntoUi(e):this.resetUiToDefaults();return r.then(function(){n.updateUiVisibility(),n.applyModel("api")})},t.prototype.onBtCancel=function(e){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,n){var r=this,o=function(){r.onUiChanged(!1,"prevent"),n?.()};e!=null?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var r=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(r,n)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,n,r){if(e===void 0&&(e=!1),n===void 0&&(n=!1),r&&r.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")){var o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:n,source:o})}var a=this.providedFilterParams.closeOnApply;a&&this.applyActive&&!e&&!n&&this.close(r)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var n=e,r=n&&n.key,o;(r==="Enter"||r==="Space")&&(o={keyboardEvent:n}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,n){if(e===void 0&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var r=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&Sa(o,!r)}e&&!n||n==="immediately"?this.onBtApply(e):(!this.applyActive&&!n||n==="debounce")&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)},t.prototype.refreshFilterResizer=function(e){if(!(!this.positionableFeature||e==="toolPanel")){var n=e==="floatingFilter",r=this,o=r.positionableFeature,a=r.gridOptionsService;n?(o.restoreLastSize(),o.setResizable(a.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,n){return t.isUseApplyButton(e)?(e.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:n},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.refresh=function(e){return this.providedFilterParams=e,!0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),i.prototype.destroy.call(this)},t.prototype.translate=function(e){var n=this.localeService.getLocaleTextFunc();return n(e,Ex[e])},t.prototype.getCellValue=function(e){return this.providedFilterParams.getValue(e)},t.prototype.getPositionableElement=function(){return this.eFilterBody},um([m("rowModel")],t.prototype,"rowModel",void 0),um([P("eFilterBody")],t.prototype,"eFilterBody",void 0),um([I],t.prototype,"postConstruct",null),t}(te),b1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_1=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Tx=function(i){b1(t,i);function t(e,n){var r=i.call(this,n)||this;return r.labelSeparator="",r.labelAlignment="left",r.disabled=!1,r.label="",r.config=e||{},r}return t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,n=e.labelSeparator,r=e.label,o=e.labelWidth,a=e.labelAlignment;n!=null&&this.setLabelSeparator(n),r!=null&&this.setLabel(r),o!=null&&this.setLabelWidth(o),this.setLabelAlignment(a||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){rt(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(we(this.eLabel,!1),Je(this.eLabel,"presentation")):(we(this.eLabel,!0),Je(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)},t.prototype.setLabelAlignment=function(e){var n=this.getGui(),r=n.classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return this.label==null?this:(bl(this.eLabel,e),this)},t.prototype.setDisabled=function(e){e=!!e;var n=this.getGui();return Sa(n,e),n.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},_1([I],t.prototype,"postConstruct",null),t}(te),S1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rx=function(i){S1(t,i);function t(e,n,r){var o=i.call(this,e,n)||this;return o.className=r,o}return t.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},t.prototype.refreshAriaLabelledBy=function(){var e=this.getAriaElement(),n=this.getLabelId();K0(e)!==null?Od(e,""):Od(e,n??"")},t.prototype.setAriaLabel=function(e){return Or(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,v.EVENT_FIELD_VALUE_CHANGED,function(){return e(n.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return vn(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,n){return this.value===e?this:(this.previousValue=this.value,this.value=e,n||this.dispatchEvent({type:v.EVENT_FIELD_VALUE_CHANGED}),this)},t}(Tx),E1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ms=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},x1=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Ox=function(i){E1(t,i);function t(e){var n=i.call(this,e,e?.template||x1,e?.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=e?.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!e)return n;var r=e.pickerGap,o=e.maxPickerHeight,a=e.variableWidth,s=e.minPickerWidth,l=e.maxPickerWidth;return r!=null&&(n.pickerGap=r),n.variableWidth=!!a,o!=null&&n.setPickerMaxHeight(o),s!=null&&n.setPickerMinWidth(s),l!=null&&n.setPickerMaxWidth(l),n}return t.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var n=this.getAriaElement();this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var r=this.config.pickerIcon;if(r){var o=je(r,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Vn(e,!1),this.ariaRole&&Je(e,this.ariaRole)},t.prototype.onLabelOrWrapperMouseDown=function(e){if(e){var n=this.getFocusableElement();if(n!==this.eWrapper&&e?.target===n)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case S.UP:case S.DOWN:case S.ENTER:case S.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case S.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,n=this.gridOptionsService.getDocument(),r=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,function(){e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),a=this.config,s=a.pickerAriaLabelKey,l=a.pickerAriaLabelValue,c=a.modalPicker,u=c===void 0?!0:c,d={modal:u,eChild:r,closeOnEsc:!0,closedCallback:function(){var b=n.activeElement===n.body;e.beforeHidePicker(),b&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(s,l)},p=this.popupService.addPopup(d),f=this,h=f.maxPickerHeight,g=f.minPickerWidth,y=f.maxPickerWidth,w=f.variableWidth;w?(g&&(r.style.minWidth=g),r.style.width=Xd(vl(this.eWrapper)),y&&(r.style.maxWidth=y)):bl(r,y??vl(this.eWrapper));var C=h??"".concat(xl(this.popupService.getPopupParent()),"px");return r.style.setProperty("max-height",C),r.style.position="absolute",this.alignPickerToComponent(),p.hideFunc},t.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var e=this.config.pickerType,n=this.pickerGap,r=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:n})}},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){if(this.isAlive()){var n=this.getAriaElement();Vn(n,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var n;!((n=this.pickerComponent)===null||n===void 0)&&n.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setInputWidth=function(e){return bl(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return typeof e=="number"&&(e="".concat(e,"px")),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),i.prototype.destroy.call(this)},Ms([m("popupService")],t.prototype,"popupService",void 0),Ms([P("eLabel")],t.prototype,"eLabel",void 0),Ms([P("eWrapper")],t.prototype,"eWrapper",void 0),Ms([P("eDisplayField")],t.prototype,"eDisplayField",void 0),Ms([P("eIcon")],t.prototype,"eIcon",void 0),t}(Rx),D1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),T1=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},CE=function(i){D1(t,i);function t(e){e===void 0&&(e="default");var n=i.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var n=e.key;switch(n){case S.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{var r=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(r)}break;case S.DOWN:case S.UP:var o=n===S.DOWN,a=void 0;if(e.preventDefault(),!this.highlightedEl)a=this.itemEls[o?0:this.itemEls.length-1];else{var s=this.itemEls.indexOf(this.highlightedEl),l=s+(o?1:-1);l=Math.min(Math.max(l,0),this.itemEls.length-1),a=this.itemEls[l]}this.highlightItem(a);break}},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(r){return n.addOption(r)}),this},t.prototype.addOption=function(e){var n=e.value,r=e.text,o=$e(r||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(n,r){Tv(n,r+1),Dv(n,e.length)})},t.prototype.renderOption=function(e,n){var r=this,o=document.createElement("div");Je(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(n,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return r.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return r.clearHighlighted()}),this.addManagedListener(o,"click",function(){return r.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,n){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(),this;var r=this.options.findIndex(function(a){return a.value===e});if(r!==-1){var o=this.options[r];this.value=o.value,this.displayValue=o.text!=null?o.text:o.value,this.highlightItem(this.itemEls[r]),n||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var n=this.options.findIndex(function(r){return r.value===e.value});n!==-1&&this.highlightItem(this.itemEls[n])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){zt(e)&&(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),_a(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!zt(this.highlightedEl)||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),_a(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:v.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",T1([I],t.prototype,"init",null),t}(te),R1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cv=function(){return cv=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},cv.apply(this,arguments)},ep=function(i){R1(t,i);function t(e){return i.call(this,cv({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return t.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new CE("select")),this.listComponent.setParentComponent(this);var n=this.listComponent.getAriaElement(),r="ag-select-list-".concat(this.listComponent.getCompId());n.setAttribute("id",r),Av(this.getAriaElement(),n),this.listComponent.addGuiEventListener("keydown",function(o){o.key===S.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,CE.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,v.EVENT_FIELD_VALUE_CHANGED,function(){e.listComponent&&(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){this.listComponent&&(i.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(r){return n.addOption(r)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,n,r){if(this.value===e||!this.listComponent)return this;r||this.listComponent.setValue(e,!0);var o=this.listComponent.getValue();return o===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),i.prototype.setValue.call(this,e,n))},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),i.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(Ox),O1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),dm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ci=function(i){O1(t,i);function t(e,n,r,o){r===void 0&&(r="text"),o===void 0&&(o="input");var a=i.call(this,e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <`.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,`>
                </div>
            </div>`),n)||this;return a.inputType=r,a.displayFieldTag=o,a}return t.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,n=e.width,r=e.value;n!=null&&this.setWidth(n),r!=null&&this.setValue(r),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){return e.setValue(n.target.value)})},t.prototype.setInputType=function(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return bl(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){var n=this.eInput;return n.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return sr(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Or(this.eInput,e),this.refreshAriaLabelledBy(),this},t.prototype.setDisabled=function(e){return Sa(this.eInput,e),i.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){if(e===!0)sr(this.eInput,"autocomplete",null);else{var n=typeof e=="string"?e:"off";sr(this.eInput,"autocomplete",n)}return this},dm([P("eLabel")],t.prototype,"eLabel",void 0),dm([P("eWrapper")],t.prototype,"eWrapper",void 0),dm([P("eInput")],t.prototype,"eInput",void 0),t}(Rx),A1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),tp=function(i){A1(t,i);function t(e,n,r){n===void 0&&(n="ag-checkbox"),r===void 0&&(r="checkbox");var o=i.call(this,e,n,r)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return this.selected===void 0?!0:!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),i.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,e):this.setValue(n)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,n){return this.refreshSelectedClass(e),this.setSelected(e,n),this},t.prototype.setName=function(e){var n=this.getInputElement();return n.name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,n){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,n||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,n,r){this.dispatchEvent({type:v.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:n,event:r});var o=this.getInputElement(),a={type:v.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:n};this.eventService.dispatchEvent(a)},t.prototype.onCheckboxClick=function(e){if(!(this.passive||this.eInput.disabled)){var n=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,n,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)},t}(ci),I1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ax=function(i){I1(t,i);function t(e){return i.call(this,e,"ag-radio-button","radio")||this}return t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){i.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,v.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(tp),M1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),P1=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},F1=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},Kv=function(){function i(t,e,n){this.localeService=t,this.optionsFactory=e,this.valueFormatter=n}return i.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var n=t.operator!=null,r=this.localeService.getLocaleTextFunc();if(n){var o=t,a=o.conditions;if(!a){var s=o.condition1,l=o.condition2;a=[s,l]}var c=a.map(function(w){return e.getModelAsString(w)}),u=o.operator==="AND"?"andCondition":"orCondition";return c.join(" ".concat(r(u,Ex[u])," "))}else{if(t.type===ke.BLANK||t.type===ke.NOT_BLANK)return r(t.type,t.type);var d=t,p=this.optionsFactory.getCustomOption(d.type),f=p||{},h=f.displayKey,g=f.displayName,y=f.numberOfInputs;return h&&g&&y===0?(r(h,g),g):this.conditionToString(d,p)}},i.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},i.prototype.formatValue=function(t){var e;return this.valueFormatter?(e=this.valueFormatter(t??null))!==null&&e!==void 0?e:"":String(t)},i}(),ke=function(i){M1(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return t.prototype.getNumberOfInputs=function(e){var n=this.optionsFactory.getCustomOption(e);if(n){var r=n.numberOfInputs;return r??1}var o=[t.EMPTY,t.NOT_BLANK,t.BLANK];return e&&o.indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,n){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var n=this;this.eTypes.forEach(function(r,o){o===0?r.setValue(e,!0):r.setValue(n.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"},t.prototype.areModelsEqual=function(e,n){var r=this;if(!e&&!n)return!0;if(!e&&n||e&&!n)return!1;var o=!e.operator,a=!n.operator,s=!o&&a||o&&!a;if(s)return!1;var l;if(o){var c=e,u=n;l=this.areSimpleModelsEqual(c,u)}else{var d=e,p=n;l=d.operator===p.operator&&Tr(d.conditions,p.conditions,function(f,h){return r.areSimpleModelsEqual(f,h)})}return l},t.prototype.shouldRefresh=function(e){var n,r,o,a=this.getModel(),s=a?(n=a.conditions)!==null&&n!==void 0?n:[a]:null,l=(o=(r=e.filterOptions)===null||r===void 0?void 0:r.map(function(u){return typeof u=="string"?u:u.displayKey}))!==null&&o!==void 0?o:this.getDefaultFilterOptions(),c=!s||s.every(function(u){return l.find(function(d){return d===u.type})!==void 0});return!(!c||typeof e.maxNumConditions=="number"&&s&&s.length>e.maxNumConditions)},t.prototype.refresh=function(e){if(!this.shouldRefresh(e))return!1;var n=i.prototype.refresh.call(this,e);return n?(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0):!1},t.prototype.setModelIntoUi=function(e){var n=this,r=e.operator;if(r){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var a=this.validateAndUpdateConditions(o.conditions),s=this.getNumConditions();if(a<s)this.removeConditionsAndOperators(a);else if(a>s)for(var l=s;l<a;l++)this.createJoinOperatorPanel(),this.createOption();var c=o.operator==="OR";this.eJoinOperatorsAnd.forEach(function(d){return d.setValue(!c,!0)}),this.eJoinOperatorsOr.forEach(function(d){return d.setValue(c,!0)}),o.conditions.forEach(function(d,p){n.eTypes[p].setValue(d.type,!0),n.setConditionIntoUi(d,p)})}else{var u=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(u.type,!0),this.setConditionIntoUi(u,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Qt.resolve()},t.prototype.validateAndUpdateConditions=function(e){var n=e.length;return n>this.maxNumConditions&&(e.splice(this.maxNumConditions),J('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),n=this.maxNumConditions),n},t.prototype.doesFilterPass=function(e){var n=this,r,o=this.getModel();if(o==null)return!0;var a=o.operator,s=[];if(a){var l=o;s.push.apply(s,F1([],P1((r=l.conditions)!==null&&r!==void 0?r:[]),!1))}else s.push(o);var c=a&&a==="OR"?"some":"every";return s[c](function(u){return n.individualConditionPasses(e,u)})},t.prototype.setParams=function(e){i.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Sx,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var n,r;e.suppressAndOrCondition!=null&&J('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),e.alwaysShowBothConditions!=null&&J('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(n=e.maxNumConditions)!==null&&n!==void 0?n:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(J('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(r=e.numAlwaysVisibleConditions)!==null&&r!==void 0?r:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(J('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(J('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,n=this.createManagedBean(new ep);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var r=this.createValueElement();this.eConditionBodies.push(r),this.eFilterBody.appendChild(r),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(a){return e.resetInput(a)}),this.addChangedListeners(n,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),r=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,a=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,a),this.resetJoinOperatorOr(r,o,a),this.isReadOnly()||(n.onValueChange(this.listener),r.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,n,r){var o=this.createManagedBean(new Ax);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(r)),n.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return e==="AND"||e==="OR"?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(r){return typeof r=="string"?e.createBoilerplateListOption(r):e.createCustomListOption(r)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(n){e.addOption(n)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var n=e.displayKey,r=this.optionsFactory.getCustomOption(e.displayKey);return{value:n,text:r?this.localeService.getLocaleTextFunc()(r.displayKey,r.displayName):this.translate(n)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,n=-1,r=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:r=!1;if(this.shouldAddNewConditionAtEnd(r))this.createJoinOperatorPanel(),this.createOption();else{var a=(e=this.lastUiCompletePosition)!==null&&e!==void 0?e:this.getNumConditions()-2;if(n<a){this.removeConditionsAndOperators(a+1);var s=n+1,l=a-s;l>0&&this.removeConditionsAndOperators(s,l),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},t.prototype.updateConditionStatusesAndValues=function(e,n){var r=this;this.eTypes.forEach(function(a,s){var l=r.isConditionDisabled(s,e);a.setDisabled(l||r.filterListOptions.length<=1),s===1&&(Sa(r.eJoinOperatorPanels[0],l),r.eJoinOperatorsAnd[0].setDisabled(l),r.eJoinOperatorsOr[0].setDisabled(l))}),this.eConditionBodies.forEach(function(a,s){we(a,r.isConditionBodyVisible(s))});var o=(n??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(function(a,s){a.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(a,s){a.setValue(o,!0)}),this.forEachInput(function(a,s,l,c){r.setElementDisplayed(a,s<c),r.setElementDisabled(a,r.isConditionDisabled(l,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,n){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,n),this.removeElements(this.eConditionBodies,e,n),this.removeValueElements(e,n);var r=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,r,n),this.removeComponents(this.eJoinOperatorsAnd,r,n),this.removeComponents(this.eJoinOperatorsOr,r,n)}},t.prototype.removeElements=function(e,n,r){var o=this.removeItems(e,n,r);o.forEach(function(a){return Rr(a)})},t.prototype.removeComponents=function(e,n,r){var o=this,a=this.removeItems(e,n,r);a.forEach(function(s){Rr(s.getGui()),o.destroyBean(s)})},t.prototype.removeItems=function(e,n,r){return r==null?e.splice(n):e.splice(n,r)},t.prototype.afterGuiAttached=function(e){if(i.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof ci&&n.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){i.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var n=-1,r=-1,o=!1,a=this.getJoinOperator(),s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))n===-1&&(n=s,r=s);else{var l=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),c=s<n;(l||c)&&(this.removeConditionsAndOperators(s,1),o=!0,c&&r--)}var u=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),u=!0),this.shouldAddNewConditionAtEnd(r===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),u=!0),u&&this.updateConditionStatusesAndValues(r,a),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=r},t.prototype.getPlaceholderText=function(e,n){var r=this.translate(e);if($d(this.filterPlaceholder)){var o=this.filterPlaceholder,a=this.eTypes[n].getValue(),s=this.translate(a);r=o({filterOptionKey:a,filterOption:s,placeholder:r})}else typeof this.filterPlaceholder=="string"&&(r=this.filterPlaceholder);return r},t.prototype.resetPlaceholder=function(){var e=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(r,o,a,s){if(r instanceof ci){var l=o===0&&s>1?"inRangeStart":o===0?"filterOoo":"inRangeEnd",c=o===0&&s>1?n("ariaFilterFromValue","Filter from value"):o===0?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(e.getPlaceholderText(l,a)),r.setInputAriaLabel(c)}})},t.prototype.setElementValue=function(e,n,r){e instanceof ci&&e.setValue(n!=null?String(n):null,!0)},t.prototype.setElementDisplayed=function(e,n){e instanceof te&&we(e.getGui(),n)},t.prototype.setElementDisabled=function(e,n){e instanceof te&&Sa(e.getGui(),n)},t.prototype.attachElementOnChange=function(e,n){e instanceof ci&&e.onValueChange(n)},t.prototype.forEachInput=function(e){var n=this;this.getConditionTypes().forEach(function(r,o){n.forEachPositionTypeInput(o,r,e)})},t.prototype.forEachPositionInput=function(e,n){var r=this.getConditionType(e);this.forEachPositionTypeInput(e,r,n)},t.prototype.forEachPositionTypeInput=function(e,n,r){for(var o=this.getNumberOfInputs(n),a=this.getInputs(e),s=0;s<a.length;s++){var l=a[s];l!=null&&r(l,s,e,o)}},t.prototype.isConditionDisabled=function(e,n){return this.isReadOnly()?!0:e===0?!1:e>n+1},t.prototype.isConditionBodyVisible=function(e){var n=this.getConditionType(e),r=this.getNumberOfInputs(n);return r>0},t.prototype.isConditionUiComplete=function(e){if(e>=this.getNumConditions())return!1;var n=this.getConditionType(e);return!(n===t.EMPTY||this.getValues(e).some(function(r){return r==null}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&e.push(this.createCondition(n));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(r){return n.resetType(r)}),this.eJoinOperatorsAnd.forEach(function(r,o){return n.resetJoinOperatorAnd(r,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(r,o){return n.resetJoinOperatorOr(r,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(r){return n.resetInput(r)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Qt.resolve()},t.prototype.resetType=function(e){var n=this.localeService.getLocaleTextFunc(),r=n("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(r).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,n,r){this.resetJoinOperator(e,n,this.isDefaultOperator("AND"),this.translate("andCondition"),r)},t.prototype.resetJoinOperatorOr=function(e,n,r){this.resetJoinOperator(e,n,this.isDefaultOperator("OR"),this.translate("orCondition"),r)},t.prototype.resetJoinOperator=function(e,n,r,o,a){this.updateJoinOperatorDisabled(e.setValue(r,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(a)).setLabel(o),n)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(n,r){return e.updateJoinOperatorDisabled(n,r)}),this.eJoinOperatorsOr.forEach(function(n,r){return e.updateJoinOperatorDisabled(n,r)})},t.prototype.updateJoinOperatorDisabled=function(e,n){e.setDisabled(this.isReadOnly()||n>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,n){var r=this,o=this.mapValuesFromModel(e);this.forEachInput(function(a,s,l,c){l===n&&r.setElementValue(a,o[s]!=null?o[s]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var n=this;this.forEachInput(function(r,o,a,s){n.setElementValue(r,o===0&&a===0?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,n){var r=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(n,function(o){r.attachElementOnChange(o,r.listener)}))},t.prototype.individualConditionPasses=function(e,n){var r=this.getCellValue(e.node),o=this.mapValuesFromModel(n),a=this.optionsFactory.getCustomOption(n.type),s=this.evaluateCustomFilter(a,o,r);return s??(r==null?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,r,n,e))},t.prototype.evaluateCustomFilter=function(e,n,r){if(e!=null){var o=e.predicate;if(o!=null&&!n.some(function(a){return a==null}))return o(n,r)}},t.prototype.isBlank=function(e){return e==null||typeof e=="string"&&e.trim().length===0},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(Md),N1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qe=function(i){N1(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setParams=function(e){i.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,n,r){var o=this.comparator(),a=e[0]!=null?o(e[0],n):0;switch(r.type){case t.EQUALS:return a===0;case t.NOT_EQUAL:return a!==0;case t.GREATER_THAN:return a>0;case t.GREATER_THAN_OR_EQUAL:return a>=0;case t.LESS_THAN:return a<0;case t.LESS_THAN_OR_EQUAL:return a<=0;case t.IN_RANGE:{var s=o(e[1],n);return this.scalarFilterParams.inRangeInclusive?a>=0&&s<=0:a>0&&s<0}case t.BLANK:return this.isBlank(n);case t.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+r.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(ke),Ix=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),uv=function(){return uv=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},uv.apply(this,arguments)},L1=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},bE=1e3,_E=1/0,Mx=function(i){Ix(t,i);function t(e,n,r){var o=i.call(this,n,r)||this;return o.dateFilterParams=e,o}return t.prototype.conditionToString=function(e,n){var r=e.type,o=(n||{}).numberOfInputs,a=r==ke.IN_RANGE||o===2,s=Lt(e.dateFrom),l=Lt(e.dateTo),c=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(a){var u=s!==null?Ca(s,c):"null",d=l!==null?Ca(l,c):"null";return"".concat(u,"-").concat(d)}return s!=null?Ca(s,c):"".concat(r)},t.prototype.updateParams=function(e){i.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(Kv),Px=function(i){Ix(t,i);function t(){var e=i.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=bE,e.maxValidYear=_E,e.minValidDate=null,e.maxValidDate=null,e}return t.prototype.afterGuiAttached=function(e){i.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var n=e||{},r=n.dateFrom,o=n.dateTo,a=n.type;return[r&&Lt(r)||null,o&&Lt(o)||null].slice(0,this.getNumberOfInputs(a))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,n){var r=n;return n==null||r<e?-1:r>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,i.prototype.setParams.call(this,e);var n=function(r,o){if(e[r]!=null)if(isNaN(e[r]))console.warn("AG Grid: DateFilter ".concat(r," is not a number"));else return e[r]==null?o:Number(e[r]);return o};this.minValidYear=n("minValidYear",bE),this.maxValidYear=n("maxValidYear",_E),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Lt(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Lt(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new Mx(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var n=this,r=new _x(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return r.destroy()}),r},t.prototype.setElementValue=function(e,n){e.setDate(n)},t.prototype.setElementDisplayed=function(e,n){e.setDisplayed(n)},t.prototype.setElementDisabled=function(e,n){e.setDisabled(n)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,n,r,o){var a=document.createElement("div");a.classList.add("ag-filter-".concat(o)),a.classList.add("ag-filter-date-".concat(o)),n.push(a),e.appendChild(a),r.push(this.createDateCompWrapper(a))},t.prototype.removeValueElements=function(e,n){this.removeDateComps(this.dateConditionFromComps,e,n),this.removeDateComps(this.dateConditionToComps,e,n),this.removeItems(this.eConditionPanelsFrom,e,n),this.removeItems(this.eConditionPanelsTo,e,n)},t.prototype.removeDateComps=function(e,n,r){var o=this.removeItems(e,n,r);o.forEach(function(a){return a.destroy()})},t.prototype.isValidDateValue=function(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var n=this;if(!i.prototype.isConditionUiComplete.call(this,e))return!1;var r=!0;return this.forEachInput(function(o,a,s,l){s!==e||!r||a>=l||(r=r&&n.isValidDateValue(o.getDate()))}),r},t.prototype.areSimpleModelsEqual=function(e,n){return e.dateFrom===n.dateFrom&&e.dateTo===n.dateTo&&e.type===n.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var n=this.getConditionType(e),r={},o=this.getValues(e);return o.length>0&&(r.dateFrom=mn(o[0])),o.length>1&&(r.dateTo=mn(o[1])),uv({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},r)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),r=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(r)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var n=[];return this.forEachPositionInput(e,function(r,o,a,s){o<s&&n.push(r.getDate())}),n},t.prototype.translate=function(e){return e===qe.LESS_THAN?i.prototype.translate.call(this,"before"):e===qe.GREATER_THAN?i.prototype.translate.call(this,"after"):i.prototype.translate.call(this,e)},t.prototype.getModelAsString=function(e){var n;return(n=this.filterModelFormatter.getModelAsString(e))!==null&&n!==void 0?n:""},t.DEFAULT_FILTER_OPTIONS=[qe.EQUALS,qe.NOT_EQUAL,qe.LESS_THAN,qe.GREATER_THAN,qe.IN_RANGE,qe.BLANK,qe.NOT_BLANK],L1([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(qe),k1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fx=function(i){k1(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e?.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}var n=e.operator,r;if(n){var o=e;r=o.conditions[0]}else r=e;this.lastType=r.type},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);var n=e.operator;if(n)return!1;var r=e;return this.isTypeEditable(r.type)},t.prototype.init=function(e){this.setSimpleParams(e,!1)},t.prototype.setSimpleParams=function(e,n){n===void 0&&(n=!0),this.optionsFactory=new Sx,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),n||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var r=this.isTypeEditable(this.lastType);this.setEditable(r)},t.prototype.onParamsUpdated=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var n=this.optionsFactory.getCustomOption(e),r=(n||{}).numberOfInputs;return r==null||r==1},t.prototype.isTypeEditable=function(e){var n=[ke.IN_RANGE,ke.EMPTY,ke.BLANK,ke.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&n.indexOf(e)<0},t}(te),z1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},V1=function(i){z1(t,i);function t(){return i.call(this,`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)||this}return t.prototype.getDefaultFilterOptions=function(){return Px.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){i.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new Mx(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){i.prototype.onParamsUpdated.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},t.prototype.updateCompOnModelChange=function(e){var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(n),n){if(e){var r=e;this.dateComp.setDate(Lt(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)},t.prototype.setEditable=function(e){we(this.eDateWrapper,e),we(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(i.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},t.prototype.onDateChanged=function(){var e=this,n=this.dateComp.getDate(),r=mn(n);this.params.parentFilterInstance(function(o){if(o){var a=Lt(r);o.onFloatingFilterChanged(e.getLastType()||null,a)}})},t.prototype.getDateComponentParams=function(){var e=Md.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:hn(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new _x(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.getDateComponentParams(),n=this.gridOptionsService,r=n.api,o=n.columnApi,a=n.context;e.api=r,e.columnApi=o,e.context=a,this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},pm([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),pm([P("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),pm([P("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(Fx),G1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),H1=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},j1=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},B1=function(i){G1(t,i);function t(){return i.call(this,`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)||this}return t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this;this.params=e,this.setParams(e);var r=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(a){a.target===r.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},t.prototype.setParams=function(e){var n=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&Hn(),n.type=r?"date":"text";var o=e.filterParams||{},a=o.minValidYear,s=o.maxValidYear,l=o.minValidDate,c=o.maxValidDate;if(l&&a&&J("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),c&&s&&J("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),l&&c){var u=j1([l,c].map(function(f){return f instanceof Date?f:Lt(f)}),2),d=u[0],p=u[1];d&&p&&d.getTime()>p.getTime()&&J("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}l?l instanceof Date?n.min=Ca(l):n.min=l:a&&(n.min="".concat(a,"-01-01")),c?c instanceof Date?n.max=Ca(c):n.max=c:s&&(n.max="".concat(s,"-12-31"))},t.prototype.onParamsUpdated=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return Lt(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(mn(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:Qd()||Mv()||Hn()&&Iv()>=14.1},H1([P("eDateInput")],t.prototype,"eDateInput",void 0),t}(te),U1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ao=function(i){U1(t,i);function t(e,n,r){return n===void 0&&(n="ag-text-field"),r===void 0&&(r="text"),i.call(this,e,n,r)||this}return t.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,n){return this.eInput.value!==e&&(this.eInput.value=x(e)?e:""),i.prototype.setValue.call(this,e,n)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]")),n=function(r){Jd(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListener(this.eInput,"keydown",n),this.addManagedListener(this.eInput,"paste",function(r){var o,a=(o=r.clipboardData)===null||o===void 0?void 0:o.getData("text");a&&a.split("").some(function(s){return!e.test(s)})&&r.preventDefault()})},t}(ci),W1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yv=function(i){W1(t,i);function t(e){return i.call(this,e,"ag-number-field","number")||this}return t.prototype.postConstruct=function(){var e=this;i.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(e.eInput.value),r=isNaN(n)?"":e.normalizeValue(n.toString());e.value!==r&&e.setValue(r)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));var n=parseFloat(e);return this.min!=null&&n<this.min?e=this.min.toString():this.max!=null&&n>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,n){if(this.precision==null)return e;if(n){var r=parseFloat(e).toFixed(this.precision);return parseFloat(r).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},t.prototype.setMin=function(e){return this.min===e?this:(this.min=e,sr(this.eInput,"min",e),this)},t.prototype.setMax=function(e){return this.max===e?this:(this.max=e,sr(this.eInput,"max",e),this)},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,sr(this.eInput,"step",e),this)},t.prototype.setValue=function(e,n){var r=this;return this.setValueOrInputValue(function(o){return i.prototype.setValue.call(r,o,n)},function(){return r},e)},t.prototype.setStartValue=function(e){var n=this;return this.setValueOrInputValue(function(r){return i.prototype.setValue.call(n,r,!0)},function(r){n.eInput.value=r},e)},t.prototype.setValueOrInputValue=function(e,n,r){if(x(r)){var o=this.isScientificNotation(r);if(o&&this.eInput.validity.valid)return e(r);if(!o){r=this.adjustPrecision(r);var a=this.normalizeValue(r);o=r!=a}if(o)return n(r)}return e(r)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):i.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return typeof e=="string"&&e.includes("e")},t}(ao),Nx=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lx=function(i){Nx(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,n){var r=(n||{}).numberOfInputs,o=e.type==ke.IN_RANGE||r===2;return o?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):e.filter!=null?this.formatValue(e.filter):"".concat(e.type)},t}(Kv);function dv(i){var t=(i??{}).allowedCharPattern;return t??null}var kx=function(i){Nx(t,i);function t(){var e=i.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:i.prototype.refresh.call(this,e)},t.prototype.mapValuesFromModel=function(e){var n=e||{},r=n.filter,o=n.filterTo,a=n.type;return[this.processValue(r),this.processValue(o)].slice(0,this.getNumberOfInputs(a))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,n){return e===n?0:e<n?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,i.prototype.setParams.call(this,e),this.filterModelFormatter=new Lx(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,n,r){var o=!r&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;i.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=dv(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),Je(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",e),this.createFromToElement(n,this.eValuesTo,"to",e),n},t.prototype.createFromToElement=function(e,n,r,o){var a=this.createManagedBean(o?new ao({allowedCharPattern:o}):new Yv);a.addCssClass("ag-filter-".concat(r)),a.addCssClass("ag-filter-filter"),n.push(a),e.appendChild(a.getGui())},t.prototype.removeValueElements=function(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)},t.prototype.getValues=function(e){var n=this,r=[];return this.forEachPositionInput(e,function(o,a,s,l){a<l&&r.push(n.processValue(n.stringToFloat(o.getValue())))}),r},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return e==null||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if(typeof e=="number")return e;var n=ar(e);return n!=null&&n.trim()===""&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):n==null||n.trim()==="-"?null:parseFloat(n)},t.prototype.createCondition=function(e){var n=this.getConditionType(e),r={filterType:this.getFilterType(),type:n},o=this.getValues(e);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var n;return(n=this.filterModelFormatter.getModelAsString(e))!==null&&n!==void 0?n:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(n){if(!n.getInputElement().validity.valid){e=!0;return}}),e},t.DEFAULT_FILTER_OPTIONS=[qe.EQUALS,qe.NOT_EQUAL,qe.GREATER_THAN,qe.GREATER_THAN_OR_EQUAL,qe.LESS_THAN,qe.LESS_THAN_OR_EQUAL,qe.IN_RANGE,qe.BLANK,qe.NOT_BLANK],t}(qe),zx=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pd=function(){return Pd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Pd.apply(this,arguments)},Vx=function(i){zx(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.conditionToString=function(e,n){var r=(n||{}).numberOfInputs,o=e.type==ke.IN_RANGE||r===2;return o?"".concat(e.filter,"-").concat(e.filterTo):e.filter!=null?"".concat(e.filter):"".concat(e.type)},t}(Kv),Qv=function(i){zx(t,i);function t(){var e=i.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return t.trimInput=function(e){var n=e&&e.trim();return n===""?e:n},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,i.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Vx(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(ie.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(n){var r=n.filterOption,o=n.value,a=n.filterText;return e(r,o,a)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var n=this.getConditionType(e),r={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(r.filter=o[0]),o.length>1&&(r.filterTo=o[1]),r},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,n){var r=this,o=[];return this.forEachPositionInput(e,function(a,s,l,c){var u;if(s<c){var d=ar(a.getValue());n&&r.textFilterParams.trimInput&&(d=(u=t.trimInput(d))!==null&&u!==void 0?u:null,a.setValue(d,!0)),o.push(d)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),Je(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,n,r){var o=this.createManagedBean(new ao);o.addCssClass("ag-filter-".concat(r)),o.addCssClass("ag-filter-filter"),n.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)},t.prototype.mapValuesFromModel=function(e){var n=e||{},r=n.filter,o=n.filterTo,a=n.type;return[r||null,o||null].slice(0,this.getNumberOfInputs(a))},t.prototype.evaluateNullValue=function(e){var n=[ke.NOT_EQUAL,ke.NOT_CONTAINS,ke.BLANK];return e?n.indexOf(e)>=0:!1},t.prototype.evaluateNonNullValue=function(e,n,r,o){var a=this,s=e.map(function(w){return a.formatter(w)})||[],l=this.formatter(n),c=this.textFilterParams,u=c.api,d=c.colDef,p=c.column,f=c.columnApi,h=c.context,g=c.textFormatter;if(r.type===ke.BLANK)return this.isBlank(n);if(r.type===ke.NOT_BLANK)return!this.isBlank(n);var y={api:u,colDef:d,column:p,columnApi:f,context:h,node:o.node,data:o.data,filterOption:r.type,value:l,textFormatter:g};return s.some(function(w){return a.matcher(Pd(Pd({},y),{filterText:w}))})},t.prototype.getModelAsString=function(e){var n;return(n=this.filterModelFormatter.getModelAsString(e))!==null&&n!==void 0?n:""},t.DEFAULT_FILTER_OPTIONS=[ke.CONTAINS,ke.NOT_CONTAINS,ke.EQUALS,ke.NOT_EQUAL,ke.STARTS_WITH,ke.ENDS_WITH,ke.BLANK,ke.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return e==null?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var n=e.filterOption,r=e.value,o=e.filterText;if(o==null)return!1;switch(n){case t.CONTAINS:return r.indexOf(o)>=0;case t.NOT_CONTAINS:return r.indexOf(o)<0;case t.EQUALS:return r===o;case t.NOT_EQUAL:return r!=o;case t.STARTS_WITH:return r.indexOf(o)===0;case t.ENDS_WITH:var a=r.lastIndexOf(o);return a>=0&&a===r.length-o.length;default:return!1}},t}(ke),Gx=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Hx=function(i){Gx(t,i);function t(e){var n=i.call(this)||this;return n.params=e,n.valueChangedListener=function(){},n}return t.prototype.setupGui=function(e){var n=this,r;this.eFloatingFilterTextInput=this.createManagedBean(new ao((r=this.params)===null||r===void 0?void 0:r.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(a){return n.valueChangedListener(a)}),this.addManagedListener(o,"keydown",function(a){return n.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,n){this.eFloatingFilterTextInput.setValue(e,n)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(T),jx=function(i){Gx(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),i.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var n;this.params=e;var r=(n=e.browserAutoComplete)!==null&&n!==void 0?n:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:r}),this.applyActive=Md.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=Md.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),a=hn(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(a)}},t.prototype.onParamsUpdated=function(e){i.prototype.onParamsUpdated.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var n=this.floatingFilterInputService.getValue();rt(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(n,!0)},t.prototype.getAriaLabel=function(e){var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return"".concat(n," ").concat(r("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var n=this,r=e.key===S.ENTER;if(!(this.applyActive&&!r)){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=Qv.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(a){a&&a.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},fm([m("columnModel")],t.prototype,"columnModel",void 0),fm([P("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),fm([I],t.prototype,"postConstruct",null),t}(Fx),Bx=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),q1=function(i){Bx(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return t.prototype.setupGui=function(e){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new Yv),this.eFloatingFilterTextInput=this.createManagedBean(new ao),this.eFloatingFilterTextInput.setDisabled(!0);var r=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(r),e.appendChild(o),this.setupListeners(r,function(a){return n.valueChangedListener(a)}),this.setupListeners(o,function(a){return n.valueChangedListener(a)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,n){this.getActiveInputElement().setValue(e,n)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,n){this.addManagedListener(e,"input",n),this.addManagedListener(e,"keydown",n)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(T),$1=function(i){Bx(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(e){var n;i.prototype.init.call(this,e),this.filterModelFormatter=new Lx(this.localeService,this.optionsFactory,(n=e.filterParams)===null||n===void 0?void 0:n.numberFormatter)},t.prototype.onParamsUpdated=function(e){var n=dv(e.filterParams);n!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),i.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return kx.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=dv(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Hx({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new q1)},t}(jx),K1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Y1=function(i){K1(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(e){i.prototype.init.call(this,e),this.filterModelFormatter=new Vx(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){i.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return Qv.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new Hx)},t}(jx),Xt=function(){function i(t,e){e===void 0&&(e=!1);var n=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new fi,this.eElement=t,this.preventMouseClick=e;var r=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),a=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",r,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",a,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",r,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",a,{passive:!1})})}return i.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e].identifier===this.touchStart.identifier;if(n)return t[e]}return null},i.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},i.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},i.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){var r=e.touchStart===n;if(e.touching&&r&&!e.moved){e.moved=!0;var o={type:i.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t};e.eventService.dispatchEvent(o)}},500)}},i.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);if(e){var n=!Wv(e,this.touchStart,4);n&&(this.moved=!0)}}},i.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var e={type:i.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}},i.prototype.checkForDoubleTap=function(){var t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0){var e=t-this.lastTapTime;if(e>i.DOUBLE_TAP_MILLIS){var n={type:i.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=t}else this.lastTapTime=t},i.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},i.EVENT_TAP="tap",i.EVENT_DOUBLE_TAP="doubleTap",i.EVENT_LONG_TAP="longTap",i.DOUBLE_TAP_MILLIS=500,i}(),Q1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ji=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Zv=function(i){Q1(t,i);function t(e){var n=i.call(this)||this;return e||n.setTemplate(t.TEMPLATE),n}return t.prototype.attachCustomElements=function(e,n,r,o,a){this.eSortOrder=e,this.eSortAsc=n,this.eSortDesc=r,this.eSortMixed=o,this.eSortNone=a},t.prototype.setupSort=function(e,n){var r=this;n===void 0&&(n=!1),this.column=e,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",function(){return r.updateIcons()}),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,function(){return r.updateIcons()}),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,function(){return r.onSortChanged()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return r.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,n,r){if(n!=null){var o=je(e,this.gridOptionsService,r);o&&n.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){var n=e==="asc";we(this.eSortAsc,n,{skipAriaHidden:!0})}if(this.eSortDesc){var r=e==="desc";we(this.eSortDesc,r,{skipAriaHidden:!0})}if(this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon"),a=e==null;we(this.eSortNone,!o&&a,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup,r=this.gridOptionsService.isColumnsSortingCoupledToGroup();r&&n&&(this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";we(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var e=this,n;if(this.eSortOrder){var r=this.sortController.getColumnsWithSortingOrdered(),o=(n=this.sortController.getDisplaySortIndexForColumn(this.column))!==null&&n!==void 0?n:-1,a=r.some(function(l){var c;return(c=e.sortController.getDisplaySortIndexForColumn(l))!==null&&c!==void 0?c:-1>=1}),s=o>=0&&a;we(this.eSortOrder,s,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():rt(this.eSortOrder)}},t.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`,ji([P("eSortOrder")],t.prototype,"eSortOrder",void 0),ji([P("eSortAsc")],t.prototype,"eSortAsc",void 0),ji([P("eSortDesc")],t.prototype,"eSortDesc",void 0),ji([P("eSortMixed")],t.prototype,"eSortMixed",void 0),ji([P("eSortNone")],t.prototype,"eSortNone",void 0),ji([m("columnModel")],t.prototype,"columnModel",void 0),ji([m("sortController")],t.prototype,"sortController",void 0),t}(te),Z1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ut=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},X1=function(i){Z1(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide?!1:(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=M0(this.params.template,t.TEMPLATE);return e=e&&e.trim?e.trim():e,e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var n=$e(this.currentDisplayName);this.eText&&(this.eText.innerHTML=n)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,n,r){if(n!=null){var o=je(e,this.gridOptionsService,r);o&&n.appendChild(o)}},t.prototype.setupTap=function(){var e=this,n=this.gridOptionsService;if(!n.get("suppressTouch")){var r=new Xt(this.getGui(),!0),o=n.get("suppressMenuHide"),a=o&&x(this.eMenu),s=a?new Xt(this.eMenu,!0):r;if(this.params.enableMenu){var l=a?"EVENT_TAP":"EVENT_LONG_TAP",c=function(d){n.api.showColumnMenuAfterMouseClick(e.params.column,d.touchStart)};this.addManagedListener(s,Xt[l],c)}if(this.params.enableSorting){var u=function(d){var p=d.touchStart.target;o&&e.eMenu.contains(p)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")};this.addManagedListener(r,Xt.EVENT_TAP,u)}this.addDestroyFunc(function(){return r.destroy()}),a&&this.addDestroyFunc(function(){return s.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsService.get("suppressMenuHide"),n=hi()&&e,r=this.params.enableMenu&&!n;return r},t.prototype.shouldSuppressMenuHide=function(){return this.gridOptionsService.get("suppressMenuHide")},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Rr(this.eMenu);return}this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Zv(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!!this.currentSort){this.addManagedListener(this.params.column,Re.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(r){var o=e.params.column.isMoving(),a=new Date().getTime(),s=a-e.lastMovingChanged<50,l=o||s;if(!l){var c=e.gridOptionsService.get("multiSortKey")==="ctrl",u=c?r.ctrlKey||r.metaKey:r.shiftKey;e.params.progressSort(u)}});var n=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var r=e.columnModel.getSourceColumnsForGroupColumn(e.params.column),o=r?.every(function(s){return e.params.column.getSort()==s.getSort()}),a=!o;e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",a)}};this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,Re.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();we(this.eFilter,e,{skipAriaHidden:!0})},t.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`,Ut([m("sortController")],t.prototype,"sortController",void 0),Ut([m("menuFactory")],t.prototype,"menuFactory",void 0),Ut([m("columnModel")],t.prototype,"columnModel",void 0),Ut([P("eFilter")],t.prototype,"eFilter",void 0),Ut([P("eSortIndicator")],t.prototype,"eSortIndicator",void 0),Ut([P("eMenu")],t.prototype,"eMenu",void 0),Ut([P("eLabel")],t.prototype,"eLabel",void 0),Ut([P("eText")],t.prototype,"eText",void 0),Ut([P("eSortOrder")],t.prototype,"eSortOrder",void 0),Ut([P("eSortAsc")],t.prototype,"eSortAsc",void 0),Ut([P("eSortDesc")],t.prototype,"eSortDesc",void 0),Ut([P("eSortMixed")],t.prototype,"eSortMixed",void 0),Ut([P("eSortNone")],t.prototype,"eSortNone",void 0),t}(te),J1=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ez=function(i){J1(t,i);function t(){return i.call(this,t.TEMPLATE)||this}return t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){var e=this.params;e.template&&J("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(a){if(!Gn(a)){var s=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),s,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var r=function(a){lr(a)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,Ge.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,Ge.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,n){var r=new Xt(e,!0);this.addManagedListener(r,Xt.EVENT_TAP,n),this.addDestroyFunc(function(){return r.destroy()}),this.addManagedListener(e,"click",n)},t.prototype.updateIconVisibility=function(){var e=this.params.columnGroup;if(e.isExpandable()){var n=this.params.columnGroup.isExpanded();we(this.eOpenIcon,n),we(this.eCloseIcon,!n)}else we(this.eOpenIcon,!1),we(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,n){var r=je(e,this.gridOptionsService,null);r&&this.getRefElement(n).appendChild(r)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable()){we(this.eOpenIcon,!1),we(this.eCloseIcon,!1);return}},t.prototype.setupLabel=function(){var e,n=this.params,r=n.displayName,o=n.columnGroup;if(x(r)){var a=$e(r);this.getRefElement("agLabel").innerHTML=a}this.addOrRemoveCssClass("ag-sticky-label",!(!((e=o.getColGroupDef())===null||e===void 0)&&e.suppressStickyLabel))},t.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`,hm([m("columnModel")],t.prototype,"columnModel",void 0),hm([P("agOpened")],t.prototype,"eOpenIcon",void 0),hm([P("agClosed")],t.prototype,"eCloseIcon",void 0),t}(te),tz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),so=function(i){tz(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),i.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent,n=e&&e.isAlive();n&&e.getGui().classList.remove("ag-has-popup"),i.prototype.destroy.call(this)},t}(te),nz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rz=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},iz=function(i){nz(t,i);function t(){return i.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),x(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var n=e.key;(n===S.LEFT||n===S.UP||n===S.RIGHT||n===S.DOWN||e.shiftKey&&n===S.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return!x(e)&&!x(this.params.value)?this.params.value:this.params.parseValue(e)},t.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,rz([P("eTextArea")],t.prototype,"eTextArea",void 0),t}(so),oz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),SE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},az=function(i){oz(t,i);function t(){var e=i.call(this,`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`)||this;return e.startedByEnter=!1,e}return t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var n=this,r=n.eSelect,o=n.valueFormatterService,a=n.gridOptionsService,s=e.values,l=e.value,c=e.eventKey;if(K(s)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=c!=null?c===S.ENTER:!1;var u=!1;s.forEach(function(h){var g={value:h},y=o.formatValue(e.column,null,h),w=y!=null;g.text=w?y:h,r.addOption(g),u=u||l===h}),u?r.setValue(e.value,!0):e.values.length&&r.setValue(e.values[0],!0);var d=e.valueListGap,p=e.valueListMaxWidth,f=e.valueListMaxHeight;d!=null&&r.setPickerGap(d),f!=null&&r.setPickerMaxHeight(f),p!=null&&r.setPickerMaxWidth(p),a.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,ep.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},SE([m("valueFormatterService")],t.prototype,"valueFormatterService",void 0),SE([P("eSelect")],t.prototype,"eSelect",void 0),t}(so),sz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),lz=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},np=function(i){sz(t,i);function t(e){var n=i.call(this,`
            <div class="ag-cell-edit-wrapper">
                `.concat(e.getTemplate(),`
            </div>`))||this;return n.cellEditorInput=e,n}return t.prototype.init=function(e){this.params=e;var n=this.eInput;this.cellEditorInput.init(n,e);var r;if(e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===S.BACKSPACE||e.eventKey===S.DELETE?r="":o&&o.length===1?r=o:(r=this.cellEditorInput.getStartValue(),o!==S.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();r!=null&&n.setStartValue(r),this.addManagedListener(n.getGui(),"keydown",function(a){var s=a.key;(s===S.PAGE_UP||s===S.PAGE_DOWN)&&a.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,n,r=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(r("ariaInputEditor","Input Editor")),!!this.focusAfterAttached){Hn()||o.getFocusableElement().focus();var a=o.getInputElement();this.highlightAllOnFocus?a.select():(n=(e=this.cellEditorInput).setCaret)===null||n===void 0||n.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,n=e.getFocusableElement(),r=e.getInputElement();n.focus(),r.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},lz([P("eInput")],t.prototype,"eInput",void 0),t}(so),cz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),uz=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},i.prototype.init=function(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)},i.prototype.getValue=function(){var t=this.eInput.getValue();return!x(t)&&!x(this.params.value)?this.params.value:this.params.parseValue(t)},i.prototype.getStartValue=function(){var t=this.params.useFormatter||this.params.column.getColDef().refData;return t?this.params.formatValue(this.params.value):this.params.value},i.prototype.setCaret=function(){var t=this.eInput.getValue(),e=x(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},i}(),EE=function(i){cz(t,i);function t(){return i.call(this,new uz)||this}return t}(np),dz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pz=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fz="\u2191",hz="\u2193",gz=function(i){dz(t,i);function t(){var e=i.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,n){var r=Math.abs(n),o=e.formatValue(r),a=x(o)?o:r,s=n>=0;s?this.eDelta.innerHTML=fz+a:this.eDelta.innerHTML=hz+a,this.eDelta.classList.toggle("ag-value-change-delta-up",s),this.eDelta.classList.toggle("ag-value-change-delta-down",!s)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var n=this.refreshCount;window.setTimeout(function(){n===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),rt(this.eDelta)},t.prototype.refresh=function(e){var n=e.value;if(n===this.lastValue||(x(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:x(e.value)?this.eValue.innerHTML=n:rt(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof this.lastValue=="number"){var r=n-this.lastValue;this.showDelta(e,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=n,!0},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',pz([m("filterManager")],t.prototype,"filterManager",void 0),t}(te),mz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vz=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},yz=function(i){mz(t,i);function t(){var e=i.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=ct('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){n===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var n=e.value;return K(n)&&(n=""),n===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(this.addSlideAnimation(),this.lastValue=n,x(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:x(e.value)?this.eCurrent.innerHTML=n:rt(this.eCurrent),!0)},t.TEMPLATE=`<span>
            <span class="ag-value-slide-current"></span>
        </span>`,vz([m("filterManager")],t.prototype,"filterManager",void 0),t}(te),ma=function(){return ma=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},ma.apply(this,arguments)},ce=function(){function i(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=i.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return i.prototype.setData=function(t){this.setDataCommon(t,!1)},i.prototype.updateData=function(t){this.setDataCommon(t,!0)},i.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var r=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(r)},i.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},i.prototype.createDataChangedEvent=function(t,e,n){return{type:i.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:n}},i.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},i.prototype.getRowIndexString=function(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()},i.prototype.createDaemonNode=function(){var t=new i(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},i.prototype.setDataAndId=function(t,e){var n=x(this.id)?this.createDaemonNode():null,r=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(t,r,!1);this.dispatchLocalEvent(o)},i.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)},i.prototype.setRowSelectable=function(t,e){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_SELECTABLE_CHANGED)),e)return;var n=this.beans.gridOptionsService.get("groupSelectsChildren");if(n){var r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},i.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var n=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(i.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(i.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},i.prototype.getGroupKeys=function(t){t===void 0&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},i.prototype.isPixelInRange=function(t){return!x(this.rowTop)||!x(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight},i.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_FIRST_CHILD_CHANGED)))},i.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_LAST_CHILD_CHANGED)))},i.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_CHILD_INDEX_CHANGED)))},i.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))},i.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},i.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_DISPLAYED_CHANGED)))},i.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_DRAGGING_CHANGED)))},i.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HIGHLIGHT_CHANGED)))},i.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},i.prototype.isHovered=function(){return this.hovered},i.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},i.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_MASTER_CHANGED)))},i.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_GROUP_CHANGED)))},i.prototype.setRowHeight=function(t,e){e===void 0&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HEIGHT_CHANGED))},i.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=hn(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},i.prototype.checkAutoHeights=function(){var t=this,e=!1,n=!0,r=0,o=this.__autoHeights;if(o!=null){var a=this.beans.columnModel.getAllDisplayedAutoHeightCols();if(a.forEach(function(l){var c=o[l.getId()];if(c==null)if(t.beans.columnModel.isColSpanActive()){var u=[];switch(l.getPinned()){case"left":u=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":u=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:u=t.beans.columnModel.getViewportCenterColumnsForRow(t);break}if(u.includes(l)){e=!0;return}c=-1}else{e=!0;return}else n=!1;c>r&&(r=c)}),!e&&((n||r<10)&&(r=this.beans.gridOptionsService.getRowHeightForNode(this).height),r!=this.rowHeight)){this.setRowHeight(r);var s=this.beans.rowModel;s.onRowHeightChangedDebounced&&s.onRowHeightChangedDebounced()}}},i.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_ROW_INDEX_CHANGED)))},i.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_UI_LEVEL_CHANGED)))},i.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(v.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},i.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},i.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},i.prototype.setDataValue=function(t,e,n){var r=this,o=function(){var c;return typeof t!="string"?t:(c=r.beans.columnModel.getGridColumn(t))!==null&&c!==void 0?c:r.beans.columnModel.getPrimaryColumn(t)},a=o(),s=this.getValueFromValueService(a);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(a,s,e,n),!1;var l=this.beans.valueService.setValue(this,a,e,n);return this.dispatchCellChangedEvent(a,e,s),this.checkRowSelectable(),l},i.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!e,r=this.beans.gridOptionsService.getGroupIncludeFooter(),o=r({node:this}),a=this.beans.gridOptionsService.get("groupSuppressBlankHeader"),s=n&&o&&!a,l=this.beans.valueService.getValue(t,this,!1,s);return l},i.prototype.dispatchEventForSaveValueReadOnly=function(t,e,n,r){var o={type:v.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:n,value:n,source:r};this.beans.eventService.dispatchEvent(o)},i.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);K(this.groupData)&&(this.groupData={});var r=n.getColId(),o=this.groupData[r];o!==e&&(this.groupData[r]=e,this.dispatchCellChangedEvent(n,e,o))},i.prototype.setAggData=function(t){var e=this,n=x0([this.aggData,t]),r=this.aggData;this.aggData=t,this.eventService&&n.forEach(function(o){var a=e.aggData?e.aggData[o]:void 0,s=r?r[o]:void 0;if(a!==s){var l=e.beans.columnModel.lookupGridColumn(o);l&&e.dispatchCellChangedEvent(l,a,s)}})},i.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0,e=this.beans.gridOptionsService.isRowModelType("serverSide");if(e){var n=this.beans.gridOptionsService.get("treeData"),r=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!r&&r(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(i.EVENT_HAS_CHILDREN_CHANGED)))},i.prototype.hasChildren=function(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren},i.prototype.isEmptyRowGroupNode=function(){return this.group&&Ft(this.childrenAfterGroup)},i.prototype.dispatchCellChangedEvent=function(t,e,n){var r={type:i.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:n};this.dispatchLocalEvent(r)},i.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},i.prototype.isExpandable=function(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master},i.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},i.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},i.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,r=!1;if(!(!((t=this.childrenAfterGroup)===null||t===void 0)&&t.length))return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var a=this.childrenAfterGroup[o],s=a.isSelected();if(!a.selectable){var l=a.calculateSelectedFromChildren();if(l===null)continue;s=l}switch(s){case!0:e=!0;break;case!1:n=!0;break;default:r=!0;break}}if(!(r||e&&n))return e?!0:n?!1:this.selectable?this.selected:null},i.prototype.setSelectedInitialValue=function(t){this.selected=t},i.prototype.selectThisNode=function(t,e,n){n===void 0&&(n="api");var r=!this.selectable&&t,o=this.selected===t;if(r||o)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_ROW_SELECTED));var a=this.sibling;a&&a.footer&&a.dispatchLocalEvent(a.createLocalRowEvent(i.EVENT_ROW_SELECTED))}var s=ma(ma({},this.createGlobalRowEvent(v.EVENT_ROW_SELECTED)),{event:e||null,source:n});return this.beans.eventService.dispatchEvent(s),!0},i.prototype.setSelected=function(t,e,n){if(e===void 0&&(e=!1),n===void 0&&(n="api"),typeof n=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:n})},i.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(ma(ma({},t),{nodes:[this.footer?this.sibling:this]}))},i.prototype.isRowPinned=function(){return this.rowPinned==="top"||this.rowPinned==="bottom"},i.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},i.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new fi),this.eventService.addEventListener(t,e)},i.prototype.removeEventListener=function(t,e){this.eventService&&(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},i.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_MOUSE_ENTER))},i.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(i.EVENT_MOUSE_LEAVE))},i.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,r=!1,o=null;n&&!r;){var a=e.parent,s=x(a)&&e.firstChild;s?a.rowGroupColumn===t&&(r=!0,o=a):n=!1,e=a}return r?o:null},i.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1},i.prototype.getRoute=function(){if(this.key!=null){for(var t=[],e=this;e.key!=null;)t.push(e.key),e=e.parent;return t.reverse()}},i.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),n=new i(this.beans);Object.keys(this).forEach(function(r){e.has(r)||(n[r]=t[r])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},i.prototype.destroyFooter=function(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},i.ID_PREFIX_ROW_GROUP="row-group-",i.ID_PREFIX_TOP_PINNED="t-",i.ID_PREFIX_BOTTOM_PINNED="b-",i.OBJECT_ID_SEQUENCE=0,i.EVENT_ROW_SELECTED="rowSelected",i.EVENT_DATA_CHANGED="dataChanged",i.EVENT_CELL_CHANGED="cellChanged",i.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",i.EVENT_MASTER_CHANGED="masterChanged",i.EVENT_GROUP_CHANGED="groupChanged",i.EVENT_MOUSE_ENTER="mouseEnter",i.EVENT_MOUSE_LEAVE="mouseLeave",i.EVENT_HEIGHT_CHANGED="heightChanged",i.EVENT_TOP_CHANGED="topChanged",i.EVENT_DISPLAYED_CHANGED="displayedChanged",i.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",i.EVENT_LAST_CHILD_CHANGED="lastChildChanged",i.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",i.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",i.EVENT_EXPANDED_CHANGED="expandedChanged",i.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",i.EVENT_SELECTABLE_CHANGED="selectableChanged",i.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",i.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",i.EVENT_DRAGGING_CHANGED="draggingChanged",i}(),wz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fd=function(){return Fd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Fd.apply(this,arguments)},xE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ux=function(i){wz(t,i);function t(){return i.call(this,`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),Sv(this.eCheckbox.getInputElement(),"polite")},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.localeService.getLocaleTextFunc(),n=this.rowNode.isSelected(),r=Yd(e,n),o=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(r,")"))},t.prototype.onClicked=function(e,n,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:n,event:r,source:"checkboxSelected"})},t.prototype.init=function(e){var n=this;this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(s){lr(s)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(s){lr(s);var l=n.gridOptionsService.get("groupSelectsFiltered"),c=n.eCheckbox.getValue();if(n.shouldHandleIndeterminateState(c,l)){var u=n.onClicked(!0,l,s||{});u===0&&n.onClicked(!1,l,s)}else c?n.onClicked(!1,l,s):n.onClicked(!0,l,s||{})}),this.addManagedListener(this.rowNode,ce.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this));var r=this.gridOptionsService.get("isRowSelectable"),o=r||typeof this.getIsVisible()=="function";if(o){var a=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,a),this.addManagedListener(this.rowNode,ce.EVENT_DATA_CHANGED,a),this.addManagedListener(this.rowNode,ce.EVENT_CELL_CHANGED,a),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,n){return n&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,n,r,o,a=this.rowNode.selectable,s=this.getIsVisible();if(a)if(typeof s=="function"){var l=(e=this.overrides)===null||e===void 0?void 0:e.callbackParams,c=(n=this.column)===null||n===void 0?void 0:n.createColumnFunctionCallbackParams(this.rowNode);a=c?s(Fd(Fd({},l),c)):!1}else a=s??!1;var u=(r=this.column)===null||r===void 0?void 0:r.getColDef().showDisabledCheckboxes;if(u){this.eCheckbox.setDisabled(!a),this.setVisible(!0),this.setDisplayed(!0);return}if(!((o=this.overrides)===null||o===void 0)&&o.removeHidden){this.setDisplayed(a);return}this.setVisible(a)},t.prototype.getIsVisible=function(){var e,n;return this.overrides?this.overrides.isVisible:(n=(e=this.column)===null||e===void 0?void 0:e.getColDef())===null||n===void 0?void 0:n.checkboxSelection},xE([P("eCheckbox")],t.prototype,"eCheckbox",void 0),xE([I],t.prototype,"postConstruct",null),t}(te),_l=function(i){return i[i.Up=0]="Up",i[i.Down=1]="Down",i}(_l||{}),kt=function(i){return i[i.Left=0]="Left",i[i.Right=1]="Right",i}(kt||{}),Cz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bi=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},td=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Jt=function(i){return i[i.ToolPanel=0]="ToolPanel",i[i.HeaderCell=1]="HeaderCell",i[i.RowDrag=2]="RowDrag",i[i.ChartPanel=3]="ChartPanel",i[i.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",i}(Jt||{}),nt=function(i){Cz(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}e=t,t.prototype.init=function(){this.ePinnedIcon=fn("columnMovePin",this.gridOptionsService,null),this.eHideIcon=fn("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=fn("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=fn("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=fn("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=fn("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=fn("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=fn("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=fn("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(n,r){r===void 0&&(r=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:r};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(n){var r=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});r&&(this.dragService.removeDragSource(r.params),Yt(this.dragSourceAndParamsList,r))},t.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(r){return n.dragService.removeDragSource(r.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(n,r){this.dragging=!0,this.dragSource=n,this.eventLastTime=r,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var r=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(r)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(n,r){var o=this,a,s,l,c,u=this.getHorizontalDirection(n),d=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var p=this.dropTargets.filter(function(g){return o.isMouseOnDropTarget(n,g)}),f=this.findCurrentDropTarget(n,p);if(f!==this.lastDropTarget)this.leaveLastTargetIfExists(n,u,d,r),this.lastDropTarget!==null&&f===null&&((s=(a=this.dragSource).onGridExit)===null||s===void 0||s.call(a,this.dragItem)),this.lastDropTarget===null&&f!==null&&((c=(l=this.dragSource).onGridEnter)===null||c===void 0||c.call(l,this.dragItem)),this.enterDragTargetIfExists(f,n,u,d,r),this.lastDropTarget=f;else if(f&&f.onDragging){var h=this.createDropTargetEvent(f,n,u,d,r);f.onDragging(h)}},t.prototype.getAllContainersFromDropTarget=function(n){var r=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return r?o.concat(r):o},t.prototype.allContainersIntersect=function(n,r){var o,a;try{for(var s=td(r),l=s.next();!l.done;l=s.next()){var c=l.value,u=c.getBoundingClientRect();if(u.width===0||u.height===0)return!1;var d=n.clientX>=u.left&&n.clientX<u.right,p=n.clientY>=u.top&&n.clientY<u.bottom;if(!d||!p)return!1}}catch(f){o={error:f}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(n,r){var o,a,s=this.getAllContainersFromDropTarget(r),l=!1;try{for(var c=td(s),u=c.next();!u.done;u=c.next()){var d=u.value;if(this.allContainersIntersect(n,d)){l=!0;break}}}catch(p){o={error:p}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return r.targetContainsSource&&!r.getContainer().contains(this.dragSource.eElement)?!1:l&&r.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(n,r){var o,a,s,l,c=r.length;if(c===0)return null;if(c===1)return r[0];var u=this.gridOptionsService.getRootNode(),d=u.elementsFromPoint(n.clientX,n.clientY);try{for(var p=td(d),f=p.next();!f.done;f=p.next()){var h=f.value;try{for(var g=(s=void 0,td(r)),y=g.next();!y.done;y=g.next()){var w=y.value,C=L0(this.getAllContainersFromDropTarget(w));if(C.indexOf(h)!==-1)return w}}catch(b){s={error:b}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}}}catch(b){o={error:b}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(n,r,o,a,s){if(n){if(n.onDragEnter){var l=this.createDropTargetEvent(n,r,o,a,s);n.onDragEnter(l)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(n,r,o,a){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var s=this.createDropTargetEvent(this.lastDropTarget,n,r,o,a);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(n){this.dropTargets.push(n)},t.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(r){return r.getContainer()!==n.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},t.prototype.findExternalZone=function(n){var r=this.dropTargets.filter(function(o){return o.external});return r.find(function(o){return o.getContainer()===n.getContainer()})||null},t.prototype.getHorizontalDirection=function(n){var r=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return r===o?null:r>o?kt.Left:kt.Right},t.prototype.getVerticalDirection=function(n){var r=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return r===o?null:r>o?_l.Up:_l.Down},t.prototype.createDropTargetEvent=function(n,r,o,a,s){var l=n.getContainer(),c=l.getBoundingClientRect(),u=this,d=u.gridApi,p=u.columnApi,f=u.dragItem,h=u.dragSource,g=r.clientX-c.left,y=r.clientY-c.top;return{event:r,x:g,y,vDirection:a,hDirection:o,dragSource:h,fromNudge:s,dragItem:f,api:d,columnApi:p,dropZoneTarget:l}},t.prototype.positionGhost=function(n){var r=this.eGhost;if(r){var o=r.getBoundingClientRect(),a=o.height,s=ox()-2,l=ax()-2,c=Vv(r.offsetParent),u=n.clientY,d=n.clientX,p=u-c.top-a/2,f=d-c.left-10,h=this.gridOptionsService.getDocument(),g=h.defaultView||window,y=g.pageYOffset||h.documentElement.scrollTop,w=g.pageXOffset||h.documentElement.scrollLeft;s>0&&f+r.clientWidth>s+w&&(f=s+w-r.clientWidth),f<0&&(f=0),l>0&&p+r.clientHeight>l+y&&(p=l+y-r.clientHeight),p<0&&(p=0),r.style.left="".concat(f,"px"),r.style.top="".concat(p,"px")}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=ct(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var r=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;$d(o)&&(o=o()),r.innerHTML=$e(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var a=this.gridOptionsService.getDocument(),s=null,l=null;try{s=a.fullscreenElement}catch{}finally{s||(s=this.gridOptionsService.getRootNode());var c=s.querySelector("body");c?l=c:s instanceof ShadowRoot?l=s:s instanceof Document?l=s?.documentElement:l=s}this.eGhostParent=l,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(n,r){r===void 0&&(r=!1),rt(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),n){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",r),!(o===this.eHideIcon&&this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)};var e;return t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`,Bi([m("dragService")],t.prototype,"dragService",void 0),Bi([m("mouseEventService")],t.prototype,"mouseEventService",void 0),Bi([m("columnApi")],t.prototype,"columnApi",void 0),Bi([m("gridApi")],t.prototype,"gridApi",void 0),Bi([I],t.prototype,"init",null),Bi([_t],t.prototype,"clearDragSourceParamsList",null),t=e=Bi([z("dragAndDropService")],t),t}(T),rp=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pl=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Nd=function(i){rp(t,i);function t(e,n,r,o,a,s){var l=i.call(this)||this;return l.cellValueFn=e,l.rowNode=n,l.column=r,l.customGui=o,l.dragStartPixels=a,l.suppressVisibilityChange=s,l.dragSource=null,l}return t.prototype.isCustomGui=function(){return this.customGui!=null},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(je("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.get("rowDragManaged")?new _z(this,this.beans,this.rowNode,this.column):new bz(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,n){this.setTemplateFromElement(e),this.addDragSource(n)},t.prototype.getSelectedNodes=function(){var e=this.gridOptionsService.get("rowDragMultiRow");if(!e)return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return n.indexOf(this.rowNode)!==-1?n:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.get("rowDragManaged"),n=this.gridOptionsService.get("treeData");n&&e&&J("If using row drag with tree data, you cannot have rowDragManaged=true")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var n=e.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var n=this;e===void 0&&(e=4),this.dragSource&&this.removeDragSource();var r=this.localeService.getLocaleTextFunc();this.dragSource={type:Jt.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,a=n.getDragItem(),s=((o=a.rowNodes)===null||o===void 0?void 0:o.length)||1,l=n.getRowDragText(n.column);return l?l(a,s):s===1?n.cellValueFn():"".concat(s," ").concat(r("rowDragRows","rows"))},getDragItem:function(){return n.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},pl([m("beans")],t.prototype,"beans",void 0),pl([I],t.prototype,"postConstruct",null),pl([_t],t.prototype,"removeDragSource",null),t}(te),Wx=function(i){rp(t,i);function t(e,n,r){var o=i.call(this)||this;return o.parent=e,o.rowNode=n,o.column=r,o}return t.prototype.setDisplayedOrVisible=function(e){var n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{var r=!0,o=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=$d(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(r,n)):(this.parent.setDisplayed(r,n),this.parent.setVisible(!0,n))}},t}(T),bz=function(i){rp(t,i);function t(e,n,r,o){var a=i.call(this,e,r,o)||this;return a.beans=n,a}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)},pl([I],t.prototype,"postConstruct",null),t}(Wx),_z=function(i){rp(t,i);function t(e,n,r,o){var a=i.call(this,e,r,o)||this;return a.beans=n,a}return t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,v.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.ctrlsService.getGridBodyCtrl(),n=e.getRowDragFeature(),r=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),a=this.beans.dragAndDropService.hasExternalDropZones(),s=r&&!a||o;this.setDisplayedOrVisible(s)},pl([I],t.prototype,"postConstruct",null),t}(Wx),Sz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ld=function(){return Ld=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Ld.apply(this,arguments)},Ps=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ez=function(i){Sz(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(e,n,r,o,a,s,l){var c,u,d,p;this.params=l,this.eGui=n,this.eCheckbox=r,this.eExpanded=o,this.eContracted=a,this.comp=e,this.compClass=s;var f=l.node;l.value;var h=l.colDef,g=this.isTopLevelFooter();if(!g){var y=this.isEmbeddedRowMismatch();if(y)return;if(f.footer&&this.gridOptionsService.get("groupHideOpenParents")){var w=h&&h.showRowGroup,C=f.rowGroupColumn&&f.rowGroupColumn.getColId();if(w!==C)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!g){var b=l.node.footer&&l.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(V){var U;return V.getColId()===((U=l.colDef)===null||U===void 0?void 0:U.showRowGroup)}),_=this.gridOptionsService.get("groupDisplayType")!="multipleColumns"||this.gridOptionsService.get("treeData"),D=_||this.gridOptionsService.get("showOpenedGroup")&&!l.node.footer&&(!l.node.group||l.node.rowGroupIndex!=null&&l.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(V){var U;return V.getColId()===((U=l.colDef)===null||U===void 0?void 0:U.showRowGroup)})),R=!f.group&&(((c=this.params.colDef)===null||c===void 0?void 0:c.field)||((u=this.params.colDef)===null||u===void 0?void 0:u.valueGetter)),M=this.isExpandable(),O=this.columnModel.isPivotMode()&&f.leafGroup&&((d=f.rowGroupColumn)===null||d===void 0?void 0:d.getColId())===((p=l.column)===null||p===void 0?void 0:p.getColDef().showRowGroup),k=!this.showingValueForOpenedParent&&!M&&!R&&!D&&!b&&!O;if(k)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.getCellAriaRole=function(){var e,n,r=(e=this.params.colDef)===null||e===void 0?void 0:e.cellAriaRole,o=(n=this.params.column)===null||n===void 0?void 0:n.getColDef().cellAriaRole;return r||o||"gridcell"},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,n=e.node,r=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){Z0(r);return}var o=function(){Vn(r,!!n.expanded)};this.expandListener=this.addManagedListener(n,ce.EVENT_EXPANDED_CHANGED,o)||null,o()},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||this.params.value!=null||this.params.node.level!=-1)return!1;var e=this.params.colDef,n=e==null;if(n||e.showRowGroup===!0)return!0;var r=this.columnModel.getRowGroupColumns();if(!r||r.length===0)return!0;var o=r[0];return o.getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var e=this.params.pinned==="left",n=this.params.pinned==="right",r=!e&&!n;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!n:!r:this.columnModel.isPinningLeft()?!e:!r},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var r=n.parent;r!=null;){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}K(this.displayedGroupNode)&&(this.displayedGroupNode=n)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,n=this.params.column;if(!this.gridOptionsService.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}var r=e.rowGroupColumn!=null;if(r){var o=e.rowGroupColumn.getId(),a=n.isRowGroupDisplayed(o);if(a){this.showingValueForOpenedParent=!1;return}}var s=e.groupData[n.getId()]!=null;this.showingValueForOpenedParent=s},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e,n=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(n),o=n.valueFormatted,a=n.value,s=o;if(s==null){var l=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)===null||e===void 0?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));if(this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&l){var c=this.localeService.getLocaleTextFunc();s=c("blanks","(Blanks)")}else s=a??null}this.comp.setInnerRenderer(r,s)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!e)return this.params;var r=n!=null;if(r){var o=n.isRowGroupDisplayed(e.getId());if(!o)return this.params}var a=this.params,s=this.params,l=s.value,c=s.node,u=this.valueFormatterService.formatValue(e,c,l),d=Ld(Ld({},a),{valueFormatted:u});return d},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,n="";if(e){var r=yv(this.params);r.value=this.params.value,typeof e=="function"?n=e(r):typeof e=="string"?n=this.expressionService.evaluate(e,r):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else n="Total "+(this.params.value!=null?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,n)},t.prototype.getInnerCompDetails=function(e){var n=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var r=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(u){return u&&u.componentClass==n.compClass};if(r&&!o(r))return r;var a=this.displayedGroupNode.rowGroupColumn,s=a?a.getColDef():void 0;if(s){var l=this.userComponentFactory.getCellRendererDetails(s,e);if(l&&!o(l))return l;if(o(l)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer){var c=this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e);return c}}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ce.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,n=this.isShowRowGroupForThisRow(),r=n&&e!=null&&e>=0,o=r?"(".concat(e,")"):"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var n=this.params.column,r=n==null||n.isRowGroupDisplayed(e.getId());return r},t.prototype.addExpandAndContract=function(){var e,n=this.params,r=je("groupExpanded",this.gridOptionsService,null),o=je("groupContracted",this.gridOptionsService,null);r&&this.eExpanded.appendChild(r),o&&this.eContracted.appendChild(o);var a=n.eGridCell,s=((e=this.params.column)===null||e===void 0?void 0:e.isCellEditable(n.node))&&this.gridOptionsService.get("enableGroupEdit");!s&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(a,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(a,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,ce.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var l=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ce.EVENT_ALL_CHILDREN_COUNT_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ce.EVENT_MASTER_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ce.EVENT_GROUP_CHANGED,l),this.addManagedListener(this.displayedGroupNode,ce.EVENT_HAS_CHILDREN_CHANGED,l)},t.prototype.onExpandClicked=function(e){Gn(e)||(lr(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var n=this.displayedGroupNode,r=!n.expanded;!r&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(r,e)},t.prototype.scrollToStickyNode=function(e){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature();r.setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&e.leafGroup,r=e.isExpandable()&&!e.footer&&!n;if(!r)return!1;var o=this.params.column,a=o!=null&&typeof o.getColDef().showRowGroup=="string";if(a){var s=this.isShowRowGroupForThisRow();return s}return!0},t.prototype.showExpandAndContractIcons=function(){var e=this,n=e.params,r=e.displayedGroupNode,o=e.columnModel,a=n.node,s=this.isExpandable();if(s){var l=this.showingValueForOpenedParent?!0:a.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var c=o.isPivotMode(),u=c&&r.leafGroup,d=s&&!u,p=a.footer&&a.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",d),this.comp.addOrRemoveCssClass("ag-row-group",d),c?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",u):p||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!d)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){var e=this.params.node,n=this.params.suppressPadding;n||(this.addManagedListener(e,ce.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var e=this.params,n=e.node,r=!!e.colDef,o=this.gridOptionsService.get("treeData"),a=!r||o||e.colDef.showRowGroup===!0,s=a?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+s,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(!(!this.params.fullWidth||!this.params.rowDrag)){var n=new Nd(function(){return e.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return typeof e=="function"||e===!0},t.prototype.addCheckboxIfNeeded=function(){var e=this,n=this.displayedGroupNode,r=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(r){var o=new Ux;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(r)},t.prototype.onKeyDown=function(e){var n=e.key===S.ENTER;if(!(!n||this.params.suppressEnterExpand)){var r=this.params.column&&this.params.column.isCellEditable(this.params.node);r||this.onExpandOrContract(e)}},t.prototype.onCellDblClicked=function(e){if(!Gn(e)){var n=Rd(this.eExpanded,e)||Rd(this.eContracted,e);n||this.onExpandOrContract(e)}},Ps([m("expressionService")],t.prototype,"expressionService",void 0),Ps([m("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Ps([m("columnModel")],t.prototype,"columnModel",void 0),Ps([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ps([m("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(T),xz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},DE=function(i){xz(t,i);function t(){return i.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var n=this,r={setInnerRenderer:function(l,c){return n.setRenderDetails(l,c)},setChildCount:function(l){return n.eChildCount.innerHTML=l},addOrRemoveCssClass:function(l,c){return n.addOrRemoveCssClass(l,c)},setContractedDisplayed:function(l){return we(n.eContracted,l)},setExpandedDisplayed:function(l){return we(n.eExpanded,l)},setCheckboxVisible:function(l){return n.eCheckbox.classList.toggle("ag-invisible",!l)}},o=this.createManagedBean(new Ez),a=!e.colDef,s=this.getGui();o.init(r,s,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),a&&Je(s,o.getCellAriaRole())},t.prototype.setRenderDetails=function(e,n){var r=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(a){if(a){var s=function(){return r.context.destroyBean(a)};r.isAlive()?(r.eValue.appendChild(a.getGui()),r.addDestroyFunc(s)):s()}})}else this.eValue.innerText=n},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),i.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`,Fs([P("eExpanded")],t.prototype,"eExpanded",void 0),Fs([P("eContracted")],t.prototype,"eContracted",void 0),Fs([P("eCheckbox")],t.prototype,"eCheckbox",void 0),Fs([P("eValue")],t.prototype,"eValue",void 0),Fs([P("eChildCount")],t.prototype,"eChildCount",void 0),t}(te),Dz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),TE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Tz=function(i){Dz(t,i);function t(){return i.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=je("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`,TE([P("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),TE([P("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(te),Rz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oz=function(i){Rz(t,i);function t(){return i.call(this)||this}return t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.prototype.init=function(e){var n,r=(n=this.gridOptionsService.get("overlayLoadingTemplate"))!==null&&n!==void 0?n:t.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.localeService.getLocaleTextFunc(),a=r.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(a)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(te),Az=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Iz=function(i){Az(t,i);function t(){return i.call(this)||this}return t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.prototype.init=function(e){var n,r=(n=this.gridOptionsService.get("overlayNoRowsTemplate"))!==null&&n!==void 0?n:t.DEFAULT_NO_ROWS_TEMPLATE,o=this.localeService.getLocaleTextFunc(),a=r.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(a)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(te),Mz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pz=function(i){Mz(t,i);function t(){return i.call(this,'<div class="ag-tooltip"></div>')||this}return t.prototype.init=function(e){var n=e.value;this.getGui().innerHTML=$e(n)},t}(so),Fz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nz=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},i.prototype.init=function(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);var n=t.getInputElement();e.preventStepping?t.addManagedListener(n,"keydown",this.preventStepping):e.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")},i.prototype.preventStepping=function(t){(t.key===S.UP||t.key===S.DOWN)&&t.preventDefault()},i.prototype.getValue=function(){var t=this.eInput.getValue();if(!x(t)&&!x(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e},i.prototype.getStartValue=function(){return this.params.value},i}(),Lz=function(i){Fz(t,i);function t(){return i.call(this,new Nz)||this}return t}(np),kz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zz=function(){function i(){}return i.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},i.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},i.prototype.getValue=function(){var t=this.eInput.getDate();return!x(t)&&!x(this.params.value)?this.params.value:t??null},i.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return mn(t,!1)},i}(),Vz=function(i){kz(t,i);function t(){return i.call(this,new zz)||this}return t}(np),Gz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hz=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},jz=function(){function i(t){this.getDataTypeService=t}return i.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},i.prototype.init=function(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)},i.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return!x(t)&&!x(this.params.value)?this.params.value:this.params.parseValue(t??"")},i.prototype.getStartValue=function(){var t,e;return mn((e=this.parseDate((t=this.params.value)!==null&&t!==void 0?t:void 0))!==null&&e!==void 0?e:null,!1)},i.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction()(t)},i.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction()(t)},i}(),Bz=function(i){Gz(t,i);function t(){var e=i.call(this,new jz(function(){return e.dataTypeService}))||this;return e}return Hz([m("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(np),Uz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wz=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},qz=function(i){Uz(t,i);function t(){return i.call(this,t.TEMPLATE)||this}return t.prototype.init=function(e){var n=this;this.params=e,this.updateCheckbox(e);var r=this.eCheckbox.getInputElement();r.setAttribute("tabindex","-1"),Sv(r,"polite"),this.addManagedListener(r,"click",function(a){if(lr(a),!n.eCheckbox.isDisabled()){var s=n.eCheckbox.getValue();n.onCheckboxChanged(s)}}),this.addManagedListener(r,"dblclick",function(a){lr(a)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(a){if(a.key===S.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===o.activeElement&&n.eCheckbox.toggle();var s=n.eCheckbox.getValue();n.onCheckboxChanged(s),a.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var n,r,o,a,s=!0;if(e.node.group&&e.column){var l=e.column.getColId();l.startsWith(io)?a=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[l]!==void 0?a=(n=e.value)!==null&&n!==void 0?n:void 0:s=!1}else a=(r=e.value)!==null&&r!==void 0?r:void 0;if(!s){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(a);var c=e.disabled!=null?e.disabled:!(!((o=e.column)===null||o===void 0)&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(c);var u=this.localeService.getLocaleTextFunc(),d=Yd(u,a),p=c?d:"".concat(u("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(d,")");this.eCheckbox.setInputAriaLabel(p)},t.prototype.onCheckboxChanged=function(e){var n=this.params,r=n.column,o=n.node,a=n.rowIndex,s=n.value,l={type:v.EVENT_CELL_EDITING_STARTED,column:r,colDef:r?.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s};this.eventService.dispatchEvent(l);var c=this.params.node.setDataValue(this.params.column,e,"edit"),u={type:v.EVENT_CELL_EDITING_STOPPED,column:r,colDef:r?.getColDef(),data:o.data,node:o,rowIndex:a,rowPinned:o.rowPinned,value:s,oldValue:s,newValue:e,valueChanged:c};this.eventService.dispatchEvent(u)},t.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`,Wz([P("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(te),$z=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kz=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Yz=function(i){$z(t,i);function t(){return i.call(this,`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)||this}return t.prototype.init=function(e){var n=this,r;this.params=e;var o=(r=e.value)!==null&&r!==void 0?r:void 0;this.eCheckbox.setValue(o);var a=this.eCheckbox.getInputElement();a.setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,v.EVENT_FIELD_VALUE_CHANGED,function(s){return n.setAriaLabel(s.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var n=this.localeService.getLocaleTextFunc(),r=Yd(n,e),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(r,")"))},Kz([P("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(so),Qz=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},RE=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},OE=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},Zz=function(i){Qz(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:B1,agColumnHeader:X1,agColumnGroupHeader:ez,agSortIndicator:Zv,agTextColumnFloatingFilter:Y1,agNumberColumnFloatingFilter:$1,agDateColumnFloatingFilter:V1,agReadOnlyFloatingFilter:m1,agAnimateShowChangeCellRenderer:gz,agAnimateSlideCellRenderer:yz,agGroupCellRenderer:DE,agGroupRowRenderer:DE,agLoadingCellRenderer:Tz,agCheckboxCellRenderer:qz,agCellEditor:EE,agTextCellEditor:EE,agNumberCellEditor:Lz,agDateCellEditor:Vz,agDateStringCellEditor:Bz,agSelectCellEditor:az,agLargeTextCellEditor:iz,agCheckboxCellEditor:Yz,agTextColumnFilter:Qv,agNumberColumnFilter:kx,agDateColumnFilter:Px,agLoadingOverlay:Oz,agNoRowsOverlay:Iz,agTooltipComponent:Pz},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:B.SetFilterModule,agSetColumnFloatingFilter:B.SetFilterModule,agMultiColumnFilter:B.MultiFilterModule,agMultiColumnFloatingFilter:B.MultiFilterModule,agGroupColumnFilter:B.RowGroupingModule,agGroupColumnFloatingFilter:B.RowGroupingModule,agRichSelect:B.RichSelectModule,agRichSelectCellEditor:B.RichSelectModule,agDetailCellRenderer:B.MasterDetailModule,agSparklineCellRenderer:B.SparklinesModule},e.jsComps={},e}return t.prototype.init=function(){var e=this;this.gridOptions.components!=null&&ft(this.gridOptions.components,function(n,r){return e.registerJsComponent(n,r)})},t.prototype.registerDefaultComponent=function(e,n){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=n},t.prototype.registerJsComponent=function(e,n){this.jsComps[e]=n},t.prototype.retrieve=function(e,n){var r=this,o=function(d,p){return{componentFromFramework:p,component:d}},a=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(a!=null)return o(a,!0);var s=this.jsComps[n];if(s){var l=this.getFrameworkOverrides().isFrameworkComponent(s);return o(s,l)}var c=this.agGridDefaults[n];if(c)return o(c,!1);var u=this.enterpriseAgDefaultCompsModule[n];return u?ee.__assertRegistered(u,"AG Grid '".concat(e,"' component: ").concat(n),this.context.getGridId()):ba(function(){r.warnAboutMissingComponent(e,n)},"MissingComp"+n),null},t.prototype.warnAboutMissingComponent=function(e,n){var r=OE(OE([],RE(Object.keys(this.agGridDefaults).filter(function(a){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)})),!1),RE(Object.keys(this.jsComps)),!1),o=Tl(n,r,!0,.8).values;console.warn("AG Grid: Could not find '".concat(n,`' component. It was configured as "`).concat(e,": '").concat(n,`'" but it wasn't found in the list of registered components.`)),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},gm([m("gridOptions")],t.prototype,"gridOptions",void 0),gm([I],t.prototype,"init",null),t=gm([z("userComponentRegistry")],t),t}(T),Xz={propertyName:"dateComponent",cellRenderer:!1},Jz={propertyName:"headerComponent",cellRenderer:!1},eV={propertyName:"headerGroupComponent",cellRenderer:!1},AE={propertyName:"cellRenderer",cellRenderer:!0},tV={propertyName:"cellEditor",cellRenderer:!1},IE={propertyName:"innerRenderer",cellRenderer:!0},nV={propertyName:"loadingOverlayComponent",cellRenderer:!1},rV={propertyName:"noRowsOverlayComponent",cellRenderer:!1},iV={propertyName:"tooltipComponent",cellRenderer:!1},pv={propertyName:"filter",cellRenderer:!1},oV={propertyName:"floatingFilterComponent",cellRenderer:!1},aV={propertyName:"toolPanel",cellRenderer:!1},sV={propertyName:"statusPanel",cellRenderer:!1},lV={propertyName:"fullWidthCellRenderer",cellRenderer:!0},cV={propertyName:"loadingCellRenderer",cellRenderer:!0},uV={propertyName:"groupRowRenderer",cellRenderer:!0},dV={propertyName:"detailCellRenderer",cellRenderer:!0},pV=function(){function i(){}return i.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},i.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},i}(),fV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ua=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hV=function(i){fV(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getHeaderCompDetails=function(e,n){return this.getCompDetails(e,Jz,"agColumnHeader",n)},t.prototype.getHeaderGroupCompDetails=function(e){var n=e.columnGroup.getColGroupDef();return this.getCompDetails(n,eV,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,lV,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,cV,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,uV,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,dV,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,n){return this.getCompDetails(e,IE,null,n)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,n){return this.getCompDetails(e,IE,null,n)},t.prototype.getCellRendererDetails=function(e,n){return this.getCompDetails(e,AE,null,n)},t.prototype.getCellEditorDetails=function(e,n){return this.getCompDetails(e,tV,"agCellEditor",n,!0)},t.prototype.getFilterDetails=function(e,n,r){return this.getCompDetails(e,pv,r,n,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,Xz,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,nV,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,rV,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,iV,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,n){return this.getCompDetails(e,AE,null,n)},t.prototype.getFloatingFilterCompDetails=function(e,n,r){return this.getCompDetails(e,oV,r,n)},t.prototype.getToolPanelCompDetails=function(e,n){return this.getCompDetails(e,aV,null,n,!0)},t.prototype.getStatusPanelCompDetails=function(e,n){return this.getCompDetails(e,sV,null,n,!0)},t.prototype.getCompDetails=function(e,n,r,o,a){var s=this;a===void 0&&(a=!1);var l=n.propertyName,c=n.cellRenderer,u=this.getCompKeys(e,n,o),d=u.compName,p=u.jsComp,f=u.fwComp,h=u.paramsFromSelector,g=u.popupFromSelector,y=u.popupPositionFromSelector,w=function(D){var R=s.userComponentRegistry.retrieve(l,D);R&&(p=R.componentFromFramework?void 0:R.component,f=R.componentFromFramework?R.component:void 0)};if(d!=null&&w(d),p==null&&f==null&&r!=null&&w(r),p&&c&&!this.agComponentUtils.doesImplementIComponent(p)&&(p=this.agComponentUtils.adaptFunction(l,p)),!p&&!f){a&&console.error("AG Grid: Could not find component ".concat(d,", did you forget to configure this component?"));return}var C=this.mergeParamsWithApplicationProvidedParams(e,n,o,h),b=p==null,_=p||f;return{componentFromFramework:b,componentClass:_,params:C,type:n,popupFromSelector:g,popupPositionFromSelector:y,newAgStackInstance:function(){return s.newAgStackInstance(_,b,C,n)}}},t.prototype.getCompKeys=function(e,n,r){var o=this,a=n.propertyName,s,l,c,u,d,p;if(e){var f=e,h=f[a+"Selector"],g=h?h(r):null,y=function(w){if(typeof w=="string")s=w;else if(w!=null&&w!==!0){var C=o.getFrameworkOverrides().isFrameworkComponent(w);C?c=w:l=w}};g?(y(g.component),u=g.params,d=g.popup,p=g.popupPosition):y(f[a])}return{compName:s,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:d,popupPositionFromSelector:p}},t.prototype.newAgStackInstance=function(e,n,r,o){var a=o.propertyName,s=!n,l;if(s)l=new e;else{var c=this.componentMetadataProvider.retrieve(a);l=this.frameworkComponentWrapper.wrap(e,c.mandatoryMethodList,c.optionalMethodList,o)}var u=this.initComponent(l,r);return u==null?Qt.resolve(l):u.then(function(){return l})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,n,r,o){o===void 0&&(o=null);var a={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};Zt(a,r);var s=e,l=s&&s[n.propertyName+"Params"];if(typeof l=="function"){var c=l(r);Zt(a,c)}else typeof l=="object"&&Zt(a,l);return Zt(a,o),a},t.prototype.initComponent=function(e,n){if(this.context.createBean(e),e.init!=null)return e.init(n)},t.prototype.getDefaultFloatingFilterType=function(e,n){if(e==null)return null;var r=null,o=this.getCompKeys(e,pv),a=o.compName,s=o.jsComp,l=o.fwComp;if(a)r=pV.getFloatingFilterType(a);else{var c=s==null&&l==null&&e.filter===!0;c&&(r=n())}return r},ua([m("gridOptions")],t.prototype,"gridOptions",void 0),ua([m("agComponentUtils")],t.prototype,"agComponentUtils",void 0),ua([m("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),ua([m("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),ua([ye("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=ua([z("userComponentFactory")],t),t}(T),gV=function(){function i(){}return i.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},i.ALL_PROPERTIES=Object.keys(i.ColDefPropertyMap),i}(),fv=function(i){return i[i.SINGLE_SHEET=0]="SINGLE_SHEET",i[i.MULTI_SHEET=1]="MULTI_SHEET",i}(fv||{}),mV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vV=function(i){mV(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var n=e.dragSource.eElement,r=e.mouseDownListener;if(n.removeEventListener("mousedown",r),e.touchEnabled){var o=e.touchStartListener;n.removeEventListener("touchstart",o,{passive:!0})}},t.prototype.removeDragSource=function(e){var n=this.dragSources.find(function(r){return r.dragSource===e});n&&(this.removeListener(n),Yt(this.dragSources,n))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var n=this,r=this.onMouseDown.bind(this,e),o=e.eElement,a=e.includeTouch,s=e.stopPropagationForTouch;o.addEventListener("mousedown",r);var l=null,c=this.gridOptionsService.get("suppressTouch");a&&!c&&(l=function(u){kv(u.target)||(u.cancelable&&(u.preventDefault(),s&&u.stopPropagation()),n.onTouchStart(e,u))},o.addEventListener("touchstart",l,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:r,touchStartListener:l,touchEnabled:!!a})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,n){var r=this;this.currentDragParams=e,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var a=function(d){return r.onTouchMove(d,e.eElement)},s=function(d){return r.onTouchUp(d,e.eElement)},l=function(d){d.cancelable&&d.preventDefault()},c=n.target,u=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:l,options:{passive:!1}},{target:c,type:"touchmove",listener:a,options:{passive:!0}},{target:c,type:"touchend",listener:s,options:{passive:!0}},{target:c,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,n){var r=this,o=n;if(!(e.skipMouseEvent&&e.skipMouseEvent(n))&&!o._alreadyProcessedByDragService&&(o._alreadyProcessedByDragService=!0,n.button===0)){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var a=function(d){return r.onMouseMove(d,e.eElement)},s=function(d){return r.onMouseUp(d,e.eElement)},l=function(d){return d.preventDefault()},c=this.gridOptionsService.getRootNode(),u=[{target:c,type:"mousemove",listener:a},{target:c,type:"mouseup",listener:s},{target:c,type:"contextmenu",listener:l}];this.addTemporaryEvents(u),e.dragStartPixels===0&&this.onMouseMove(n,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(n){var r=n.target,o=n.type,a=n.listener,s=n.options;r.addEventListener(o,a,s)}),this.dragEndFunctions.push(function(){e.forEach(function(n){var r=n.target,o=n.type,a=n.listener,s=n.options;r.removeEventListener(o,a,s)})})},t.prototype.isEventNearStartEvent=function(e,n){var r=this.currentDragParams.dragStartPixels,o=x(r)?r:4;return Wv(e,n,o)},t.prototype.getFirstActiveTouch=function(e){for(var n=0;n<e.length;n++)if(e[n].identifier===this.touchStart.identifier)return e[n];return null},t.prototype.onCommonMove=function(e,n,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,n))return;this.dragging=!0;var o={type:v.EVENT_DRAG_STARTED,target:r};this.eventService.dispatchEvent(o),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,n){var r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,n)},t.prototype.onMouseMove=function(e,n){var r;if(Hn()){var o=this.gridOptionsService.getDocument();(r=o.getSelection())===null||r===void 0||r.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,n)},t.prototype.shouldPreventMouseEvent=function(e){var n=this.gridOptionsService.get("enableCellTextSelection"),r=e.type==="mousemove";return n&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var n=e.target,r=n?.tagName.toLocaleLowerCase();return!!r?.match("^a$|textarea|input|select|button")},t.prototype.onTouchUp=function(e,n){var r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,n)},t.prototype.onMouseUp=function(e,n){this.onUpCommon(e,n)},t.prototype.onUpCommon=function(e,n){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var r={type:v.EVENT_DRAG_STOPPED,target:n};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},mm([m("mouseEventService")],t.prototype,"mouseEventService",void 0),mm([_t],t.prototype,"removeAllListeners",null),t=mm([z("dragService")],t),t}(T),qx=function(){function i(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return i.prototype.check=function(t,e){e===void 0&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!(n&&this.shouldSkipHorizontalScroll())){var r=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<r.left+o,this.tickRight=t.clientX>r.right-o,this.tickUp=t.clientY<r.top+o&&!n,this.tickDown=t.clientY>r.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},i.prototype.ensureTickingStarted=function(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},i.prototype.doTick=function(){this.tickCount++;var t;if(t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},i.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},i}(),yV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ME=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vm="ag-list-item-hovered",fY=function(i){yV(t,i);function t(e,n,r){var o=i.call(this)||this;return o.comp=e,o.virtualList=n,o.params=r,o.currentDragValue=null,o.lastHoveredListItem=null,o}return t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this,n={isInterestedIn:function(r){return r===e.params.dragSourceType},getIconName:function(){return nt[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(r){return e.onDragging(r)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}};this.dragAndDropService.addDropTarget(n)},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new qx({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.onDragging=function(e){if(!(!this.currentDragValue||this.moveBlocked)){var n=this.getListDragItem(e),r=this.virtualList.getComponentAt(n.rowIndex);if(r){var o=r.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=n,ov(o,vm),ov(o,"ag-item-highlight-".concat(n.position)))}}},t.prototype.getListDragItem=function(e){var n=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),a=this.virtualList.getScrollTop(),s=Math.max(0,(e.y-r+a)/o),l=this.params.getNumRows(this.comp)-1,c=Math.min(l,s)|0;return{rowIndex:c,position:Math.round(s)>s||s>l?"bottom":"top",component:this.virtualList.getComponentAt(c)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){var e=this.virtualList.getGui();e.querySelectorAll(".".concat(vm)).forEach(function(n){[vm,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(r){n.classList.remove(r)})}),this.lastHoveredListItem=null},ME([m("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ME([I],t.prototype,"postConstruct",null),t}(T),di=function(i){return i[i.Above=0]="Above",i[i.Below=1]="Below",i}(di||{}),ge=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};function Qi(i){var t=i,e=t!=null&&t.getFrameworkComponentInstance!=null;return e?t.getFrameworkComponentInstance():i}var $x=function(){function i(){this.detailGridInfoMap={},this.destroyCalled=!1}return i.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},i.prototype.__getAlignedGridService=function(){return this.alignedGridsService},i.prototype.__getContext=function(){return this.context},i.prototype.getGridId=function(){return this.context.getGridId()},i.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},i.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},i.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},i.prototype.forEachDetailGridInfo=function(t){var e=0;ft(this.detailGridInfoMap,function(n,r){x(r)&&(t(r,e),e++)})},i.prototype.getDataAsCsv=function(t){if(ee.__assertRegistered(B.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},i.prototype.exportDataAsCsv=function(t){ee.__assertRegistered(B.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},i.prototype.assertNotExcelMultiSheet=function(t,e){return ee.__assertRegistered(B.ExcelExportModule,"api."+t,this.context.getGridId())?this.excelCreator.getFactoryMode()===fv.MULTI_SHEET?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1},i.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},i.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},i.prototype.getSheetDataForExcel=function(t){if(ee.__assertRegistered(B.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(fv.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},i.prototype.getMultipleSheetsAsExcel=function(t){if(ee.__assertRegistered(B.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},i.prototype.exportMultipleSheetsAsExcel=function(t){if(ee.__assertRegistered(B.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(t)},i.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),r="aria-".concat(t);e===null?n.removeAttribute(r):n.setAttribute(r,e)}},i.prototype.logMissingRowModel=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},i.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},i.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},i.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},i.prototype.expireValueCache=function(){this.valueCache.expire()},i.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},i.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},i.prototype.refreshCells=function(t){t===void 0&&(t={}),this.rowRenderer.refreshCells(t)},i.prototype.flashCells=function(t){t===void 0&&(t={}),this.rowRenderer.flashCells(t)},i.prototype.redrawRows=function(t){t===void 0&&(t={});var e=t?t.rowNodes:void 0;this.rowRenderer.redrawRows(e)},i.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},i.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},i.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},i.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},i.prototype.getModel=function(){return this.rowModel},i.prototype.setRowNodeExpanded=function(t,e,n){this.expansionService.setRowNodeExpanded(t,e,n)},i.prototype.onGroupExpandedOrCollapsed=function(){if(K(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()},i.prototype.refreshClientSideRowModel=function(t){if(K(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(t)},i.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},i.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},i.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},i.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},i.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},i.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},i.prototype.addRenderedRowListener=function(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)},i.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},i.prototype.getAdvancedFilterModel=function(){return ee.__assertRegistered(B.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},i.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},i.prototype.showAdvancedFilterBuilder=function(){ee.__assertRegistered(B.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},i.prototype.setNodesSelected=function(t){var e=t.nodes.every(function(s){return s.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):s.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0});if(e){var n=t.nodes,r=t.source,o=t.newValue,a=n;this.selectionService.setNodesSelected({nodes:a,source:r??"api",newValue:o})}},i.prototype.selectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},i.prototype.deselectAll=function(t){t===void 0&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},i.prototype.selectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},i.prototype.deselectAllFiltered=function(t){t===void 0&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},i.prototype.getServerSideSelectionState=function(){return K(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},i.prototype.setServerSideSelectionState=function(t){if(K(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(t,"api")},i.prototype.selectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},i.prototype.deselectAllOnCurrentPage=function(t){t===void 0&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},i.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},i.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},i.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},i.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},i.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},i.prototype.getBestCostNodeSelection=function(){if(K(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()},i.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},i.prototype.ensureColumnVisible=function(t,e){e===void 0&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},i.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},i.prototype.ensureNodeVisible=function(t,e){e===void 0&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},i.prototype.forEachLeafNode=function(t){if(K(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(t)},i.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},i.prototype.forEachNodeAfterFilter=function(t){if(K(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(t)},i.prototype.forEachNodeAfterFilterAndSort=function(t){if(K(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},i.prototype.getFilterInstance=function(t,e){return this.filterManager.getFilterInstance(t,e)},i.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},i.prototype.getStatusPanel=function(t){if(ee.__assertRegistered(B.StatusBarModule,"api.getStatusPanel",this.context.getGridId())){var e=this.statusBarService.getStatusPanel(t);return Qi(e)}},i.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},i.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},i.prototype.onFilterChanged=function(t){t===void 0&&(t="api"),this.filterManager.onFilterChanged({source:t})},i.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},i.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},i.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},i.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},i.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},i.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})},i.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},i.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},i.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},i.prototype.assertSideBarLoaded=function(t){return ee.__assertRegistered(B.SideBarModule,"api."+t,this.context.getGridId())},i.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},i.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},i.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},i.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},i.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},i.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},i.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},i.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},i.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance")){var e=this.sideBarService.getSideBarComp().getToolPanelInstance(t);return Qi(e)}},i.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},i.prototype.resetRowHeights=function(){if(x(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}},i.prototype.setRowCount=function(t,e){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(t,e);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(t,e);return}this.logMissingRowModel("setRowCount","infinite","serverSide")},i.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},i.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return K(n)&&(n=this.columnModel.getGridColumn(t)),K(n)?null:this.valueService.getValue(n,e)},i.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},i.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},i.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},i.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},i.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},i.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:v.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),D0(this,["isDestroyed"],t)}},i.prototype.isDestroyed=function(){return this.destroyCalled},i.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},i.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(ee.__assertRegistered(B.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},i.prototype.addCellRange=function(t){if(this.rangeService){this.rangeService.addCellRange(t);return}ee.__assertRegistered(B.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},i.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),ee.__assertRegistered(B.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},i.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},i.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},i.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},i.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},i.prototype.getChartModels=function(){if(ee.__assertRegistered(B.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},i.prototype.getChartRef=function(t){if(ee.__assertRegistered(B.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(t)},i.prototype.getChartImageDataURL=function(t){if(ee.__assertRegistered(B.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(t)},i.prototype.downloadChart=function(t){if(ee.__assertRegistered(B.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(t)},i.prototype.openChartToolPanel=function(t){if(ee.__assertRegistered(B.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(t)},i.prototype.closeChartToolPanel=function(t){if(ee.__assertRegistered(B.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(t.chartId)},i.prototype.createRangeChart=function(t){if(ee.__assertRegistered(B.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(t)},i.prototype.createPivotChart=function(t){if(ee.__assertRegistered(B.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(t)},i.prototype.createCrossFilterChart=function(t){if(ee.__assertRegistered(B.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(t)},i.prototype.updateChart=function(t){ee.__assertRegistered(B.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(t)},i.prototype.restoreChart=function(t,e){if(ee.__assertRegistered(B.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(t,e)},i.prototype.copyToClipboard=function(t){ee.__assertRegistered(B.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(t)},i.prototype.cutToClipboard=function(t){ee.__assertRegistered(B.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(t,"api")},i.prototype.copySelectedRowsToClipboard=function(t){ee.__assertRegistered(B.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(t)},i.prototype.copySelectedRangeToClipboard=function(t){ee.__assertRegistered(B.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(t)},i.prototype.copySelectedRangeDown=function(){ee.__assertRegistered(B.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},i.prototype.pasteFromClipboard=function(){ee.__assertRegistered(B.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},i.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},i.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);if(n||(n=this.columnModel.getPrimaryColumn(t)),!n){console.error("AG Grid: column '".concat(t,"' not found"));return}this.menuFactory.showMenuAfterMouseEvent(n,e)},i.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},i.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},i.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},i.prototype.getCellRendererInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellRendererInstances(t),n=e.map(Qi);return n},i.prototype.getCellEditorInstances=function(t){t===void 0&&(t={});var e=this.rowRenderer.getCellEditorInstances(t),n=e.map(Qi);return n},i.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},i.prototype.stopEditing=function(t){t===void 0&&(t=!1),this.rowRenderer.stopEditing(t)},i.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(!e){console.warn("AG Grid: no column found for ".concat(t.colKey));return}var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e},r=t.rowPinned==null;r&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(n);o&&(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(t.key))},i.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},i.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},i.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},i.prototype.applyServerSideTransaction=function(t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(t)},i.prototype.applyServerSideTransactionAsync=function(t,e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(t,e)},i.prototype.applyServerSideRowData=function(t){var e,n,r=(e=t.startRow)!==null&&e!==void 0?e:0,o=(n=t.route)!==null&&n!==void 0?n:[];if(r<0){console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0"));return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,r,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},i.prototype.retryServerSideLoads=function(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()},i.prototype.flushServerSideAsyncTransactions=function(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()},i.prototype.applyTransaction=function(t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.clientSideRowModel.updateRowData(t)},i.prototype.applyTransactionAsync=function(t,e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.clientSideRowModel.batchUpdateRowData(t,e)},i.prototype.flushAsyncTransactions=function(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.clientSideRowModel.flushAsyncTransactions()},i.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},i.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},i.prototype.refreshServerSide=function(t){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(t)},i.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},i.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},i.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},i.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},i.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},i.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},i.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},i.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},i.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},i.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},i.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},i.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},i.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},i.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},i.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},i.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},i.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},i.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},i.prototype.sizeColumnsToFit=function(t){typeof t=="number"?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},i.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},i.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},i.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},i.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},i.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},i.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},i.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},i.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},i.prototype.getColumnState=function(){return this.columnModel.getColumnState()},i.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},i.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},i.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},i.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},i.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},i.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},i.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},i.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},i.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},i.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},i.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},i.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},i.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},i.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},i.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},i.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},i.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},i.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},i.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},i.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},i.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},i.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},i.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},i.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},i.prototype.setColumnWidth=function(t,e,n,r){n===void 0&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,r)},i.prototype.setColumnWidths=function(t,e,n){e===void 0&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},i.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},i.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},i.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},i.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},i.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},i.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},i.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},i.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},i.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},i.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},i.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},i.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},i.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},i.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},i.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},i.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},i.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},i.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},i.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},i.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},i.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},i.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},i.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},i.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},i.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},i.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},i.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},i.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},i.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},i.prototype.getState=function(){return this.stateService.getState()},i.prototype.getGridOption=function(t){return this.gos.get(t)},i.prototype.setGridOption=function(t,e){var n;this.updateGridOptions((n={},n[t]=e,n))},i.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},i.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},i.prototype.deprecatedUpdateGridOption=function(t,e){J("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},i.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},i.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},i.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},i.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},i.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},i.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},i.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},i.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},i.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},i.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},i.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},i.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},i.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},i.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},i.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},i.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},i.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},i.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},i.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},i.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},i.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},i.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},i.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},i.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},i.prototype.setQuickFilter=function(t){J("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},i.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},i.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},i.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},i.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},i.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},i.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},i.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},i.prototype.setColumnDefs=function(t,e){e===void 0&&(e="api"),J("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},i.prototype.setAutoGroupColumnDef=function(t,e){e===void 0&&(e="api"),J("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},i.prototype.setDefaultColDef=function(t,e){e===void 0&&(e="api"),J("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},i.prototype.setColumnTypes=function(t,e){e===void 0&&(e="api"),J("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},i.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},i.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},i.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},i.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},i.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},i.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},i.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},i.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},i.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},i.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},i.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},i.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},i.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},i.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},i.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},i.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},i.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},i.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},i.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},i.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},i.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},i.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},i.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},i.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},i.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},i.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},i.prototype.setGetRowId=function(t){J("getRowId is a static property and can no longer be updated.")},i.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},i.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},i.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},i.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},i.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},i.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},i.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},i.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},i.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},i.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},i.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},i.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},i.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},i.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},i.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},i.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},i.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},i.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},i.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},i.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},i.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},i.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},i.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},i.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},ge([ye("csvCreator")],i.prototype,"csvCreator",void 0),ge([ye("excelCreator")],i.prototype,"excelCreator",void 0),ge([m("rowRenderer")],i.prototype,"rowRenderer",void 0),ge([m("navigationService")],i.prototype,"navigationService",void 0),ge([m("filterManager")],i.prototype,"filterManager",void 0),ge([m("columnModel")],i.prototype,"columnModel",void 0),ge([m("selectionService")],i.prototype,"selectionService",void 0),ge([m("gridOptionsService")],i.prototype,"gos",void 0),ge([m("valueService")],i.prototype,"valueService",void 0),ge([m("alignedGridsService")],i.prototype,"alignedGridsService",void 0),ge([m("eventService")],i.prototype,"eventService",void 0),ge([m("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),ge([m("context")],i.prototype,"context",void 0),ge([m("rowModel")],i.prototype,"rowModel",void 0),ge([m("sortController")],i.prototype,"sortController",void 0),ge([m("paginationProxy")],i.prototype,"paginationProxy",void 0),ge([m("focusService")],i.prototype,"focusService",void 0),ge([m("dragAndDropService")],i.prototype,"dragAndDropService",void 0),ge([ye("rangeService")],i.prototype,"rangeService",void 0),ge([ye("clipboardService")],i.prototype,"clipboardService",void 0),ge([ye("aggFuncService")],i.prototype,"aggFuncService",void 0),ge([m("menuFactory")],i.prototype,"menuFactory",void 0),ge([ye("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),ge([m("valueCache")],i.prototype,"valueCache",void 0),ge([m("animationFrameService")],i.prototype,"animationFrameService",void 0),ge([ye("statusBarService")],i.prototype,"statusBarService",void 0),ge([ye("chartService")],i.prototype,"chartService",void 0),ge([ye("undoRedoService")],i.prototype,"undoRedoService",void 0),ge([ye("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),ge([ye("ssrmTransactionManager")],i.prototype,"serverSideTransactionManager",void 0),ge([m("ctrlsService")],i.prototype,"ctrlsService",void 0),ge([m("overlayService")],i.prototype,"overlayService",void 0),ge([ye("sideBarService")],i.prototype,"sideBarService",void 0),ge([m("stateService")],i.prototype,"stateService",void 0),ge([m("expansionService")],i.prototype,"expansionService",void 0),ge([m("apiEventService")],i.prototype,"apiEventService",void 0),ge([m("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),ge([I],i.prototype,"init",null),i=ge([z("gridApi")],i),i}(),wV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ns=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Kx=function(i){wV(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}e=t,t.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(r){return n.setQuickFilter(r.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return this.quickFilter!==null},t.prototype.doesRowPassQuickFilter=function(n){var r=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(a){return o?r.doesRowPassQuickFilterCache(n,a):r.doesRowPassQuickFilterNoCache(n,a)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var n=this,r=n.quickFilter,o=n.parser;r?this.quickFilterParts=o?o(r):r.split(" "):this.quickFilterParts=null},t.prototype.parseQuickFilter=function(n){return x(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(n){if(n!=null&&typeof n!="string"){console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof n));return}var r=this.parseQuickFilter(n);this.quickFilter!==r&&(this.quickFilter=r,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),r=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||r!==this.matcher;this.parser=n,this.matcher=r,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(n,r){var o=this,a=this.columnModel.getAllColumnsForQuickFilter();return a.some(function(s){var l=o.getQuickFilterTextForColumn(s,n);return x(l)&&l.indexOf(r)>=0})},t.prototype.doesRowPassQuickFilterCache=function(n,r){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(r)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(n,r){var o;n?(this.checkGenerateQuickFilterAggregateText(r),o=r.quickFilterAggregateText):o=this.getQuickFilterAggregateText(r);var a=this,s=a.quickFilterParts,l=a.matcher;return l(s,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},t.prototype.getQuickFilterTextForColumn=function(n,r){var o=this.valueService.getValue(n,r,!0),a=n.getColDef();if(a.getQuickFilterText){var s={value:o,node:r,data:r.data,column:n,colDef:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};o=a.getQuickFilterText(s)}return x(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(n){var r=this,o=[],a=this.columnModel.getAllColumnsForQuickFilter();return a.forEach(function(s){var l=r.getQuickFilterTextForColumn(s,n);x(l)&&o.push(l)}),o.join(e.QUICK_FILTER_SEPARATOR)};var e;return t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR=`
`,Ns([m("valueService")],t.prototype,"valueService",void 0),Ns([m("columnModel")],t.prototype,"columnModel",void 0),Ns([m("rowModel")],t.prototype,"rowModel",void 0),Ns([I],t.prototype,"postConstruct",null),t=e=Ns([z("quickFilterService")],t),t}(T),CV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yi=function(){return Yi=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Yi.apply(this,arguments)},tr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},bV=function(i){CV(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,v.EVENT_ROW_DATA_UPDATED,function(){return e.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){e.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){e.updateAggFiltering(),e.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(n){return e.setAdvancedFilterModel(n.currentValue)}),this.addManagedListener(this.eventService,v.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(n){var r=n.enabled;return e.onAdvancedFilterEnabledChanged(r)}),this.addManagedListener(this.eventService,v.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,Kx.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1},t.prototype.doesExternalFilterPass=function(e){var n=this.gridOptionsService.get("doesExternalFilterPass");return typeof n=="function"?n(e):!1},t.prototype.setFilterModel=function(e,n){var r=this;if(n===void 0&&(n="api"),this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:n});return}var o=[],a=this.getFilterModel();if(e){var s=qv(Object.keys(e));this.allColumnFilters.forEach(function(l,c){var u=e[c];o.push(r.setModelOnFilterWrapper(l.filterPromise,u)),s.delete(c)}),s.forEach(function(l){var c=r.columnModel.getPrimaryColumn(l)||r.columnModel.getGridColumn(l);if(!c){console.warn("AG Grid: setFilterModel() - no column found for colId: "+l);return}if(!c.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+l);return}var u=r.getOrCreateFilterWrapper(c,"NO_UI");if(!u){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+l);return}o.push(r.setModelOnFilterWrapper(u.filterPromise,e[l]))})}else this.allColumnFilters.forEach(function(l){o.push(r.setModelOnFilterWrapper(l.filterPromise,null))});Qt.all(o).then(function(){var l=r.getFilterModel(),c=[];r.allColumnFilters.forEach(function(u,d){var p=a?a[d]:null,f=l?l[d]:null;ie.jsonEquals(p,f)||c.push(u.column)}),c.length>0&&r.onFilterChanged({columns:c,source:n})})},t.prototype.setModelOnFilterWrapper=function(e,n){return new Qt(function(r){e.then(function(o){typeof o.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(o.setModel(n)||Qt.resolve()).then(function(){return r()})})})},t.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach(function(n,r){var o=n.filterPromise,a=o.resolveNow(null,function(l){return l});if(a==null)return null;if(typeof a.getModel!="function"){console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel");return}var s=a.getModel();x(s)&&(e[r]=s)}),e},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var n=this,r;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):!((r=this.advancedFilterService)===null||r===void 0)&&r.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return(e=this.advancedFilterService)===null||e===void 0?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,n){return this.doColumnFiltersPass(e,n,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(a){return a?a.isFilterActive?a.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1},r=!!this.gridOptionsService.getGroupAggFiltering(),o=function(a){var s=!a.isPrimary();if(s)return!0;var l=!e.columnModel.isPivotActive(),c=a.isValueActive();return!c||!l?!1:e.columnModel.isPivotMode()?!0:r};this.allColumnFilters.forEach(function(a){if(a.filterPromise.resolveNow(!1,n)){var s=a.filterPromise.resolveNow(null,function(l){return l});o(a.column)?e.activeAggregateFilters.push(s):e.activeColumnFilters.push(s)}})},t.prototype.updateFilterFlagInColumns=function(e,n){this.allColumnFilters.forEach(function(r){var o=r.filterPromise.resolveNow(!1,function(a){return a.isFilterActive()});r.column.setFilterActive(o,e,n)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(e,n,r){for(var o=e.data,a=e.aggData,s=r?this.activeAggregateFilters:this.activeColumnFilters,l=r?a:o,c=0;c<s.length;c++){var u=s[c];if(!(u==null||u===n)){if(typeof u.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:l}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){var e=this.gridOptionsService.getGroupAggFiltering();e&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var n=this,r=function(){return n.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(r,0):r()},t.prototype.onFilterChanged=function(e){e===void 0&&(e={});var n=e.source,r=e.filterInstance,o=e.additionalEventAttributes,a=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(l){l.filterPromise&&l.filterPromise.then(function(c){c&&c!==r&&c.onAnyFilterChanged&&c.onAnyFilterChanged()})});var s={source:n,type:v.EVENT_FILTER_CHANGED,columns:a||[]};o&&Zt(s,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(s),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var e,n=(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))!==null&&e!==void 0?e:!1;return!n&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(r){r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var n=this;return function(r){var o=r.node;return n.valueService.getValue(e,o,!0)}},t.prototype.createGetValue=function(e){var n=this;return function(r,o){var a=o?n.columnModel.getGridColumn(o):e;return a?n.valueService.getValue(a,r,!0):void 0}},t.prototype.getFilterComponent=function(e,n,r){var o;if(r===void 0&&(r=!0),r)return((o=this.getOrCreateFilterWrapper(e,n))===null||o===void 0?void 0:o.filterPromise)||null;var a=this.cachedFilter(e);return a?a.filterPromise:null},t.prototype.isFilterActive=function(e){var n=this.cachedFilter(e);return!!n&&n.filterPromise.resolveNow(!1,function(r){return r.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,n){if(!e.isFilterAllowed())return null;var r=this.cachedFilter(e);return r?n!=="NO_UI"&&this.putIntoGui(r,n):(r=this.createFilterWrapper(e,n),this.setColumnFilterWrapper(e,r)),r},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var n;if(ee.__isRegistered(B.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var r=e.getColDef().cellDataType;r==="number"?n="agNumberColumnFilter":r==="date"||r==="dateString"?n="agDateColumnFilter":n="agTextColumnFilter"}return n},t.prototype.getDefaultFloatingFilter=function(e){var n;if(ee.__isRegistered(B.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var r=e.getColDef().cellDataType;r==="number"?n="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?n="agDateColumnFloatingFilter":n="agTextColumnFloatingFilter"}return n},t.prototype.createFilterInstance=function(e){var n=this,r=this.getDefaultFilter(e),o=e.getColDef(),a,s=Yi(Yi({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){return n.filterModifiedCallbackFactory(a,e)()},filterChangedCallback:function(c){return n.filterChangedCallbackFactory(a,e)(c)},doesRowPassOtherFilter:function(c){return n.doesRowPassOtherFilters(a,c)}}),l=this.userComponentFactory.getFilterDetails(o,s,r);return l?{filterPromise:function(){var c=l.newAgStackInstance();return c&&c.then(function(u){return a=u}),c},compDetails:l}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,n){var r={column:e,colDef:yv(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return r},t.prototype.createFilterWrapper=function(e,n){var r,o={column:e,filterPromise:null,compiledElement:null,guiPromise:Qt.resolve(null),compDetails:null},a=this.createFilterInstance(e),s=a.filterPromise,l=a.compDetails;return o.filterPromise=(r=s?.())!==null&&r!==void 0?r:null,o.compDetails=l,s&&this.putIntoGui(o,n),o},t.prototype.putIntoGui=function(e,n){var r=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new Qt(function(a){e.filterPromise.then(function(s){var l=s.getGui();x(l)||console.warn("AG Grid: getGui method from filter returned ".concat(l,", it should be a DOM element or an HTML template string.")),typeof l=="string"&&(l=ct(l)),o.appendChild(l),a(o);var c={type:v.EVENT_FILTER_OPENED,column:e.column,source:n,eGui:o};r.eventService.dispatchEvent(c)})})},t.prototype.onColumnsChanged=function(){var e=this,n=[];this.allColumnFilters.forEach(function(r,o){var a;r.column.isPrimary()?a=e.columnModel.getPrimaryColumn(o):a=e.columnModel.getGridColumn(o),!a&&(n.push(r.column),e.disposeFilterWrapper(r,"columnChanged"),e.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this,n=this.columnModel.getGroupAutoColumns();n?.forEach(function(r){r.getColDef().filter==="agGroupColumnFilter"&&e.getOrCreateFilterWrapper(r,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var n,r;if(this.isAdvancedFilterEnabled())return!1;var o=e.isFilterAllowed();if(!o)return!1;var a=this.allColumnFilters.get(e.getColId());return(r=(n=a?.filterPromise)===null||n===void 0?void 0:n.resolveNow(!0,function(s){return typeof s?.isFilterAllowed=="function"?s?.isFilterAllowed():!0}))!==null&&r!==void 0?r:!0},t.prototype.getFloatingFilterCompDetails=function(e,n){var r=this,o=e.getColDef(),a=this.createFilterParams(e,o),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,pv,a),l=this.userComponentFactory.getDefaultFloatingFilterType(o,function(){return r.getDefaultFloatingFilter(e)});l==null&&(l="agReadOnlyFloatingFilter");var c=function(d){var p=r.getFilterComponent(e,"NO_UI");p?.then(function(f){d(Qi(f))})},u={column:e,filterParams:s,currentParentModel:function(){return r.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:c,showParentFilter:n,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(o,u,l)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var n=this.getFilterComponent(e,"NO_UI",!1);return n?n.resolveNow(null,function(r){return r&&r.getModel()}):null},t.prototype.destroyFilter=function(e,n){n===void 0&&(n="api");var r=e.getColId(),o=this.allColumnFilters.get(r);this.disposeColumnListener(r),o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var n=this.allColumnListeners.get(e);n&&(this.allColumnListeners.delete(e),n())},t.prototype.disposeFilterWrapper=function(e,n){var r=this;e.filterPromise.then(function(o){r.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),r.allColumnFilters.delete(e.column.getColId());var a={type:v.EVENT_FILTER_DESTROYED,source:n,column:e.column};r.eventService.dispatchEvent(a)})},t.prototype.filterModifiedCallbackFactory=function(e,n){var r=this;return function(){var o={type:v.EVENT_FILTER_MODIFIED,column:n,filterInstance:e};r.eventService.dispatchEvent(o)}},t.prototype.filterChangedCallbackFactory=function(e,n){var r=this;return function(o){var a,s=(a=o?.source)!==null&&a!==void 0?a:"api",l={filter:e,additionalEventAttributes:o,columns:[n],source:s};r.callOnFilterChangedOutsideRenderCycle(l)}},t.prototype.checkDestroyFilter=function(e){var n=this,r=this.allColumnFilters.get(e);if(r){var o=r.column,a=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(r.compDetails,a)){this.destroyFilter(o,"columnChanged");return}var s=o.getColDef().filterParams;if(!r.filterPromise){this.destroyFilter(o,"columnChanged");return}r.filterPromise.then(function(l){var c=l?.refresh?l.refresh(Yi(Yi(Yi({},n.createFilterParams(o,o.getColDef())),{filterModifiedCallback:n.filterModifiedCallbackFactory(l,o),filterChangedCallback:n.filterChangedCallbackFactory(l,o),doesRowPassOtherFilter:function(u){return n.doesRowPassOtherFilters(l,u)}}),s)):!0;c||n.destroyFilter(o,"columnChanged")})}},t.prototype.setColumnFilterWrapper=function(e,n){var r=this,o=e.getColId();this.allColumnFilters.set(o,n),this.allColumnListeners.set(o,this.addManagedListener(e,Re.EVENT_COL_DEF_CHANGED,function(){return r.checkDestroyFilter(o)}))},t.prototype.areFilterCompsDifferent=function(e,n){if(!n||!e)return!0;var r=e.componentClass,o=n.componentClass,a=r===o||r?.render&&o?.render&&r.render===o.render;return!a},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}},t.prototype.showAdvancedFilterBuilder=function(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){if(this.isAdvancedFilterEnabled())return!1;var e=this.columnModel.getAllGridColumns();return e.some(function(n){return n.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,n){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}var r=this.getFilterInstanceImpl(e,function(a){if(n){var s=Qi(a);n(s)}}),o=Qi(r);return o},t.prototype.getFilterInstanceImpl=function(e,n){var r=this.columnModel.getPrimaryColumn(e);if(r){var o=this.getFilterComponent(r,"NO_UI"),a=o&&o.resolveNow(null,function(s){return s});return a?setTimeout(n,0,a):o&&o.then(function(s){n(s)}),a}},t.prototype.warnAdvancedFilters=function(){J("Column Filter API methods have been disabled as Advanced Filters are enabled.")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var n;(n=this.advancedFilterService)===null||n===void 0||n.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(n){var r=n.model,o=n.source;return e.setFilterModel(r,o)}),this.filterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(n){return e.setAdvancedFilterModel(n)}),this.advancedFilterModelUpdateQueue=[]},t.prototype.destroy=function(){var e=this;i.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return e.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},tr([m("valueService")],t.prototype,"valueService",void 0),tr([m("columnModel")],t.prototype,"columnModel",void 0),tr([m("rowModel")],t.prototype,"rowModel",void 0),tr([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),tr([m("rowRenderer")],t.prototype,"rowRenderer",void 0),tr([m("dataTypeService")],t.prototype,"dataTypeService",void 0),tr([m("quickFilterService")],t.prototype,"quickFilterService",void 0),tr([ye("advancedFilterService")],t.prototype,"advancedFilterService",void 0),tr([I],t.prototype,"init",null),t=tr([z("filterManager")],t),t}(T),_V=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xv=function(i){_V(t,i);function t(e,n){var r=i.call(this,e)||this;return r.ctrl=n,r}return t.prototype.getCtrl=function(){return this.ctrl},t}(te),SV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ls=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},EV=function(i){SV(t,i);function t(e){return i.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,n=this.getGui(),r={addOrRemoveCssClass:function(o,a){return e.addOrRemoveCssClass(o,a)},addOrRemoveBodyCssClass:function(o,a){return e.eFloatingFilterBody.classList.toggle(o,a)},setButtonWrapperDisplayed:function(o){return we(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}};this.ctrl.setComp(r,n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var n=this;if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(r){return n.afterCompCreated(r)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,Ls([P("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),Ls([P("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),Ls([P("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),Ls([I],t.prototype,"postConstruct",null),Ls([_t],t.prototype,"destroyFloatingFilterComp",null),t}(Xv),xV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),DV=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Xe=function(i){return i.AUTO_HEIGHT="ag-layout-auto-height",i.NORMAL="ag-layout-normal",i.PRINT="ag-layout-print",i}(Xe||{}),Jv=function(i){xV(t,i);function t(e){var n=i.call(this)||this;return n.view=e,n}return t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),n={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=n.autoHeight?Xe.AUTO_HEIGHT:n.print?Xe.PRINT:Xe.NORMAL;this.view.updateLayoutClasses(r,n)},t.prototype.getDomLayout=function(){var e,n=(e=this.gridOptionsService.get("domLayout"))!==null&&e!==void 0?e:"normal",r=["normal","print","autoHeight"];return r.indexOf(n)===-1?(J("".concat(n," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):n},DV([I],t.prototype,"postConstruct",null),t}(T),TV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kd=function(){return kd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},kd.apply(this,arguments)},Zr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},bt=function(i){return i[i.Vertical=0]="Vertical",i[i.Horizontal=1]="Horizontal",i}(bt||{}),Mt=function(i){return i[i.Container=0]="Container",i[i.FakeContainer=1]="FakeContainer",i}(Mt||{}),RV=function(i){TV(t,i);function t(e){var n=i.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHScrollDebounced=hn(function(){return n.lastScrollSource[bt.Horizontal]=null},500),n.resetLastVScrollDebounced=hn(function(){return n.lastScrollSource[bt.Vertical]=null},500),n}return t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var r=this.gridOptionsService.get("debounceVerticalScrollbar"),o=r?hn(this.onVScroll.bind(this),100):this.onVScroll.bind(this),a=r?hn(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(a)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){var n=this.centerRowContainerCtrl==null;if(!n){e===void 0&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var r=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),a=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),s=this.ctrlsService.getBottomCenterRowContainerCtrl(),l=this.ctrlsService.getFakeHScrollComp(),c=this.ctrlsService.getHeaderRowContainerCtrl();c.setHorizontalScroll(-r),s.setContainerTranslateX(r),o.setContainerTranslateX(r),a.setContainerTranslateX(r);var u=this.centerRowContainerCtrl.getViewportElement(),d=this.lastScrollSource[bt.Horizontal]===Mt.Container;e=Math.abs(e),d?l.setScrollPosition(e):Cl(u,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,n){return this.lastScrollSource[n]==null?(this.lastScrollSource[n]=e,!0):this.lastScrollSource[n]===e},t.prototype.onFakeHScroll=function(){this.isControllingScroll(Mt.FakeContainer,bt.Horizontal)&&this.onHScrollCommon(Mt.FakeContainer)},t.prototype.onHScroll=function(){this.isControllingScroll(Mt.Container,bt.Horizontal)&&this.onHScrollCommon(Mt.Container)},t.prototype.onHScrollCommon=function(e){var n=this.centerRowContainerCtrl.getViewportElement(),r=n.scrollLeft;if(!this.shouldBlockScrollUpdate(bt.Horizontal,r,!0)){var o;e===Mt.Container?o=wl(n,this.enableRtl):o=this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced()}},t.prototype.onFakeVScroll=function(){this.isControllingScroll(Mt.FakeContainer,bt.Vertical)&&this.onVScrollCommon(Mt.FakeContainer)},t.prototype.onVScroll=function(){this.isControllingScroll(Mt.Container,bt.Vertical)&&this.onVScrollCommon(Mt.Container)},t.prototype.onVScrollCommon=function(e){var n;e===Mt.Container?n=this.eBodyViewport.scrollTop:n=this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(bt.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,e===Mt.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===n||(this.scrollLeft=e,this.fireScrollEvent(bt.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var n=this,r={type:v.EVENT_BODY_SCROLL,direction:e===bt.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(r),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=kd(kd({},r),{type:v.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,n,r){return r===void 0&&(r=!1),r&&!hi()?!1:e===bt.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n)},t.prototype.shouldBlockVerticalScroll=function(e){var n=xl(this.eBodyViewport),r=this.eBodyViewport.scrollHeight;return e<0||e+n>r},t.prototype.shouldBlockHorizontalScroll=function(e){var n=this.centerRowContainerCtrl.getCenterWidth(),r=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&yl()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+n>r},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(bt.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Mt.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,n){n===void 0&&(n=!1);var r=0,o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(bt.Horizontal,e)&&(this.enableRtl&&yl()?e=e>0?0:o:e=Math.min(Math.max(e,r),o)),Cl(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){var e={top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight};return e},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,n){n===void 0&&(n=null);for(var r=this.rowModel.getRowCount(),o=-1,a=0;a<r;a++){var s=this.rowModel.getRow(a);if(typeof e=="function"){var l=e;if(s&&l(s)){o=a;break}}else if(e===s||e===s.data){o=a;break}}o>=0&&this.ensureIndexVisible(o,n)},t.prototype.ensureIndexVisible=function(e,n){if(!this.gridOptionsService.isDomLayout("print")){var r=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=r){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}var o=this.gridOptionsService.get("pagination"),a=o&&!this.gridOptionsService.get("suppressPaginationPanel");a||this.paginationProxy.goToPageWithIndex(e);var s=this.ctrlsService.getGridBodyCtrl(),l=s.getStickyTopHeight(),c=this.paginationProxy.getRow(e),u;do{var d=c.rowTop,p=c.rowHeight,f=this.paginationProxy.getPixelOffset(),h=c.rowTop-f,g=h+c.rowHeight,y=this.getVScrollPosition(),w=this.heightScaler.getDivStretchOffset(),C=y.top+w,b=y.bottom+w,_=b-C,D=this.heightScaler.getScrollPositionForPixel(h),R=this.heightScaler.getScrollPositionForPixel(g-_),M=Math.min((D+R)/2,h),O=C+l>h,k=b<g,V=null;n==="top"?V=D:n==="bottom"?V=R:n==="middle"?V=M:O?V=D-l:k&&(V=R),V!==null&&(this.setVerticalScrollPosition(V),this.rowRenderer.redraw({afterScroll:!0})),u=d!==c.rowTop||p!==c.rowHeight}while(u);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,n){n===void 0&&(n="auto");var r=this.columnModel.getGridColumn(e);if(r&&!r.isPinned()&&this.columnModel.isColumnDisplayed(r)){var o=this.getPositionedHorizontalScroll(r,n);o!==null&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.setScrollPosition=function(e,n){this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()},t.prototype.getPositionedHorizontalScroll=function(e,n){var r=this.isColumnOutsideViewport(e),o=r.columnBeforeStart,a=r.columnAfterEnd,s=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),l=this.centerRowContainerCtrl.getCenterWidth(),c=this.enableRtl,u=(c?o:a)||s,d=c?a:o;n!=="auto"&&(u=n==="start",d=n==="end");var p=n==="middle";if(u||d||p){var f=this.getColumnBounds(e),h=f.colLeft,g=f.colMiddle,y=f.colRight;return p?g-l/2:u?c?y:h:c?h-l:y-l}return null},t.prototype.isColumnOutsideViewport=function(e){var n=this.getViewportBounds(),r=n.start,o=n.end,a=this.getColumnBounds(e),s=a.colLeft,l=a.colRight,c=this.enableRtl,u=c?r>l:o<l,d=c?o<s:r>s;return{columnBeforeStart:u,columnAfterEnd:d}},t.prototype.getColumnBounds=function(e){var n=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),a=e.getLeft(),s=n?-1:1,l=n?r-a:a,c=l+o*s,u=l+o/2*s;return{colLeft:l,colMiddle:u,colRight:c}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft(),r=n,o=e+n;return{start:r,end:o,width:e}},Zr([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Zr([m("animationFrameService")],t.prototype,"animationFrameService",void 0),Zr([m("paginationProxy")],t.prototype,"paginationProxy",void 0),Zr([m("rowModel")],t.prototype,"rowModel",void 0),Zr([m("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Zr([m("rowRenderer")],t.prototype,"rowRenderer",void 0),Zr([m("columnModel")],t.prototype,"columnModel",void 0),Zr([I],t.prototype,"postConstruct",null),t}(T),OV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hv=function(){return hv=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},hv.apply(this,arguments)},dn=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},AV=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},IV=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},MV=function(i){OV(t,i);function t(e){var n=i.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var n=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,function(){n()}),n(),this.ctrlsService.whenReady(function(){var r=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new qx({scrollContainer:r.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return r.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return r.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Ft(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===Jt.RowDrag},t.prototype.getIconName=function(){var e=this.gridOptionsService.get("rowDragManaged");return e&&this.shouldPreventRowMove()?nt.ICON_NOT_ALLOWED:nt.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var n=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var r=this.gridOptionsService.get("rowDragMultiRow"),o=IV([],AV(this.selectionService.getSelectedNodes()),!1).sort(function(s,l){return s.rowIndex==null||l.rowIndex==null?0:n.getRowIndexNumber(s)-n.getRowIndexNumber(l)}),a=e.dragItem.rowNode;return r&&o.indexOf(a)!==-1?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[a])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(v.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){var n=e.dragSource.dragSourceDomDataKey;return n===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getGui(),o=e.dropZoneTarget;return!r.contains(o)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var n=this.mouseEventService.getNormalisedPosition(e).y,r=this.gridOptionsService.get("rowDragManaged");r&&this.doManagedDrag(e,n),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,n){var r=this.isFromThisGrid(e),o=this.gridOptionsService.get("rowDragManaged"),a=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(a[0],n):this.moveRows(a,n))},t.prototype.getRowIndexNumber=function(e){return parseInt(be(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var n=this,r=this.clientSideRowModel.getLastHighlightedRowNode(),o=r&&r.highlighted===di.Below,a=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes,l=o?1:0;if(this.isFromThisGrid(e))s.forEach(function(d){d.rowTop<a&&(l-=1)}),this.moveRows(s,a,l);else{var c=this.gridOptionsService.getCallback("getRowId"),u=this.clientSideRowModel.getRowIndexAtPixel(a)+1;this.clientSideRowModel.getHighlightPosition(a)===di.Above&&u--,this.clientSideRowModel.updateRowData({add:s.map(function(d){return d.data}).filter(function(d){return!n.clientSideRowModel.getRowNode(c?c({data:d,level:0}):d.id)}),addIndex:u})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,n,r){r===void 0&&(r=0);var o=this.clientSideRowModel.ensureRowsAtPixel(e,n,r);o&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var n=this;if(!e.getContainer()){J("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}var r={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,r=e):(e.onDragEnter&&(r.onDragEnter=function(o){e.onDragEnter(n.draggingToRowDragEvent(v.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(r.onDragLeave=function(o){e.onDragLeave(n.draggingToRowDragEvent(v.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(r.onDragging=function(o){e.onDragging(n.draggingToRowDragEvent(v.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(r.onDragStop=function(o){e.onDragStop(n.draggingToRowDragEvent(v.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(hv({isInterestedIn:function(o){return o===Jt.RowDrag},getIconName:function(){return nt.ICON_MOVE},external:!0},r))},t.prototype.getRowDropZone=function(e){var n=this,r=this.getContainer.bind(this),o=this.onDragEnter.bind(this),a=this.onDragLeave.bind(this),s=this.onDragging.bind(this),l=this.onDragStop.bind(this);return e?{getContainer:r,onDragEnter:e.onDragEnter?function(c){o(c),e.onDragEnter(n.draggingToRowDragEvent(v.EVENT_ROW_DRAG_ENTER,c))}:o,onDragLeave:e.onDragLeave?function(c){a(c),e.onDragLeave(n.draggingToRowDragEvent(v.EVENT_ROW_DRAG_LEAVE,c))}:a,onDragging:e.onDragging?function(c){s(c),e.onDragging(n.draggingToRowDragEvent(v.EVENT_ROW_DRAG_MOVE,c))}:s,onDragStop:e.onDragStop?function(c){l(c),e.onDragStop(n.draggingToRowDragEvent(v.EVENT_ROW_DRAG_END,c))}:l,fromGrid:!0}:{getContainer:r,onDragEnter:o,onDragLeave:a,onDragging:s,onDragStop:l,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,n){var r=this.mouseEventService.getNormalisedPosition(n).y,o=r>this.paginationProxy.getCurrentPageHeight(),a=-1,s;o||(a=this.rowModel.getRowIndexAtPixel(r),s=this.rowModel.getRow(a));var l;switch(n.vDirection){case _l.Down:l="down";break;case _l.Up:l="up";break;default:l=null;break}var c={type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:a,overNode:s,y:r,vDirection:l};return c},t.prototype.dispatchGridEvent=function(e,n){var r=this.draggingToRowDragEvent(e,n);this.eventService.dispatchEvent(r)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(v.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(n){n.setDragging(!1)})},dn([m("dragAndDropService")],t.prototype,"dragAndDropService",void 0),dn([m("rowModel")],t.prototype,"rowModel",void 0),dn([m("paginationProxy")],t.prototype,"paginationProxy",void 0),dn([m("columnModel")],t.prototype,"columnModel",void 0),dn([m("focusService")],t.prototype,"focusService",void 0),dn([m("sortController")],t.prototype,"sortController",void 0),dn([m("filterManager")],t.prototype,"filterManager",void 0),dn([m("selectionService")],t.prototype,"selectionService",void 0),dn([m("mouseEventService")],t.prototype,"mouseEventService",void 0),dn([m("ctrlsService")],t.prototype,"ctrlsService",void 0),dn([ye("rangeService")],t.prototype,"rangeService",void 0),dn([I],t.prototype,"postConstruct",null),t}(T),PV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Sl=function(i){return i.ANIMATION_ON="ag-row-animation",i.ANIMATION_OFF="ag-row-no-animation",i}(Sl||{}),Yx="ag-force-vertical-scroll",FV="ag-selectable",NV="ag-column-moving",LV=function(i){PV(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,n,r,o,a,s){var l=this;this.comp=e,this.eGridBody=n,this.eBodyViewport=r,this.eTop=o,this.eBottom=a,this.eStickyTop=s,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(c){return l.setCellTextSelection(c.currentValue)}),this.createManagedBean(new Jv(this.comp)),this.bodyScrollFeature=this.createManagedBean(new RV(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,r,a,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var n=this;e.forEach(function(r){n.addManagedListener(r,"focusin",function(o){var a=o.target,s=Xi(a,"ag-root",r);r.classList.toggle("ag-has-focus",!s)}),n.addManagedListener(r,"focusout",function(o){var a=o.target,s=o.relatedTarget,l=r.contains(s),c=Xi(s,"ag-root",r),u=Xi(a,"ag-root",r);u||(!l||c)&&r.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(NV,e)},t.prototype.setCellTextSelection=function(e){e===void 0&&(e=!1),this.comp.setCellSelectableCss(FV,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var r=n&&this.gridOptionsService.getScrollbarWidth()||0,o=Fv()?16:0,a="calc(100% + ".concat(r+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(a)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var n=function(o){var a=o.relatedTarget;if(Ad(a)===null){e.rowRenderer.stopEditing();return}var s=r.some(function(c){return c.contains(a)})&&e.mouseEventService.isElementInThisGrid(a);if(!s){var l=e.popupService;s=l.getActivePopups().some(function(c){return c.contains(a)})||l.isElementWithinCustomPopup(a)}s||e.rowRenderer.stopEditing()},r=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];r.forEach(function(o){return e.addManagedListener(o,"focusout",n)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){var n=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(n)},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowVerticalScroll"),n=e?Yx:null,r=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,e),e||r&&hx(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,n=function(){var r=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching(),o=r?Sl.ANIMATION_ON:Sl.ANIMATION_OFF;e.comp.setRowAnimationCssOnBodyViewport(o,r)};n(),this.addManagedListener(this.eventService,v.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),r=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&r&&this.addManagedListener(n,"wheel",function(o){return e.onFullWidthContainerWheel(o,r)})},t.prototype.onFullWidthContainerWheel=function(e,n){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),n.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,n,r){if(!(!e&&!r)){if(this.gridOptionsService.get("preventDefaultOnContextMenu")){var o=e||r;o.preventDefault()}var a=(e||n).target;if(a===this.eBodyViewport||a===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):r&&this.contextMenuFactory.onContextMenu(null,r,null,null,null,this.eGridBody)}}},t.prototype.mockContextMenuForIPad=function(e){if(hi()){var n=new Xt(this.eBodyViewport),r=function(o){e(void 0,o.touchStart,o.touchEvent)};this.addManagedListener(n,Xt.EVENT_LONG_TAP,r),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.onBodyViewportWheel=function(e){this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+e),this.eBodyViewport.scrollTop-n},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new MV(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,n=e.getPinnedTopTotalHeight();n&&(n+=1);var r=e.getPinnedBottomTotalHeight();r&&(r+=1),this.comp.setTopHeight(n),this.comp.setBottomHeight(r),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){e===void 0&&(e=0),this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(!e)this.comp.setStickyTopWidth("100%");else{var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(n,"px)"))}},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var e=this.ctrlsService.getGridHeaderCtrl(),n=e.getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),r>0&&(o+=r+1),this.comp.setStickyTopTop("".concat(o,"px"))},t.prototype.sizeColumnsToFit=function(e,n){var r=this,o=this.isVerticalScrollShowing(),a=o?this.gridOptionsService.getScrollbarWidth():0,s=oo(this.eGridBody),l=s-a;if(l>0){this.columnModel.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}n===void 0?window.setTimeout(function(){r.sizeColumnsToFit(e,100)},0):n===100?window.setTimeout(function(){r.sizeColumnsToFit(e,500)},100):n===500?window.setTimeout(function(){r.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Tt([m("animationFrameService")],t.prototype,"animationFrameService",void 0),Tt([m("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Tt([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Tt([m("columnModel")],t.prototype,"columnModel",void 0),Tt([m("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Tt([ye("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Tt([m("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Tt([m("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Tt([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Tt([m("rowRenderer")],t.prototype,"rowRenderer",void 0),Tt([m("popupService")],t.prototype,"popupService",void 0),Tt([m("mouseEventService")],t.prototype,"mouseEventService",void 0),Tt([m("rowModel")],t.prototype,"rowModel",void 0),Tt([m("filterManager")],t.prototype,"filterManager",void 0),t}(T),gv=function(i){return i[i.FILL=0]="FILL",i[i.RANGE=1]="RANGE",i}(gv||{}),ul=function(i){return i[i.VALUE=0]="VALUE",i[i.DIMENSION=1]="DIMENSION",i}(ul||{}),ks="ag-cell-range-selected",kV="ag-cell-range-chart",zV="ag-cell-range-single-cell",VV="ag-cell-range-chart-category",GV="ag-cell-range-handle",HV="ag-cell-range-top",jV="ag-cell-range-right",BV="ag-cell-range-bottom",UV="ag-cell-range-left",WV=function(){function i(t,e){this.beans=t,this.cellCtrl=e}return i.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},i.prototype.onRangeSelectionChanged=function(){this.cellComp&&(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ks,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass("".concat(ks,"-1"),this.rangeCount===1),this.cellComp.addOrRemoveCssClass("".concat(ks,"-2"),this.rangeCount===2),this.cellComp.addOrRemoveCssClass("".concat(ks,"-3"),this.rangeCount===3),this.cellComp.addOrRemoveCssClass("".concat(ks,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(kV,this.hasChartRange),_a(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(zV,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},i.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.top,r=!e&&t.right,o=!e&&t.bottom,a=!e&&t.left;this.cellComp.addOrRemoveCssClass(HV,n),this.cellComp.addOrRemoveCssClass(jV,r),this.cellComp.addOrRemoveCssClass(BV,o),this.cellComp.addOrRemoveCssClass(UV,a)},i.prototype.isSingleCell=function(){var t=this.beans.rangeService;return this.rangeCount===1&&t&&!t.isMoreThanOneCell()},i.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(n){return gn([ul.DIMENSION,ul.VALUE],n.type)})},i.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},i.prototype.getRangeBorders=function(){var t=this,e=this.beans.gridOptionsService.get("enableRtl"),n=!1,r=!1,o=!1,a=!1,s=this.cellCtrl.getCellPosition().column,l=this.beans,c=l.rangeService,u=l.columnModel,d,p;e?(d=u.getDisplayedColAfter(s),p=u.getDisplayedColBefore(s)):(d=u.getDisplayedColBefore(s),p=u.getDisplayedColAfter(s));var f=c.getCellRanges().filter(function(C){return c.isCellInSpecificRange(t.cellCtrl.getCellPosition(),C)});d||(a=!0),p||(r=!0);for(var h=0;h<f.length&&!(n&&r&&o&&a);h++){var g=f[h],y=c.getRangeStartRow(g),w=c.getRangeEndRow(g);!n&&this.beans.rowPositionUtils.sameRow(y,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(w,this.cellCtrl.getCellPosition())&&(o=!0),!a&&d&&g.columns.indexOf(d)<0&&(a=!0),!r&&p&&g.columns.indexOf(p)<0&&(r=!0)}return{top:n,right:r,bottom:o,left:a}},i.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(GV,!!this.selectionHandle)}},i.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,r=n.getCellRanges(),o=r.length;if(this.rangeCount<1||o<1)return!1;var a=be(r),s=this.cellCtrl.getCellPosition(),l=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),c=e.get("enableRangeHandle"),u=o===1&&!this.cellCtrl.isEditing()&&(l||c);if(this.hasChartRange){var d=r[0].type===ul.DIMENSION,p=d&&n.isCellInSpecificRange(s,r[0]);this.cellComp.addOrRemoveCssClass(VV,p),u=a.type===ul.VALUE}return u&&a.endRow!=null&&n.isContiguousRange(a)&&n.isBottomRightCell(a,s)},i.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,r=be(n.getCellRanges()).type,o=e.get("enableFillHandle")&&K(r),a=o?gv.FILL:gv.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)},i.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},i}(),qV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$V=function(i){qV(t,i);function t(e,n){var r=i.call(this)||this;return r.cellCtrl=e,r.beans=n,r.column=e.getColumn(),r.rowNode=e.getRowNode(),r.setupColSpan(),r.setupRowSpan(),r}return t.prototype.setupRowSpan=function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,v.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onNewColumnsLoaded=function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Tr(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,n){return e+n.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),n=[];if(e===1)n.push(this.column);else for(var r=this.column,o=this.column.getPinned(),a=0;r&&a<e&&(n.push(r),r=this.beans.columnModel.getDisplayedColAfter(r),!(!r||K(r)||o!==r.getPinned()));a++);return n},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){var e;return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?e=be(this.colsSpanning):e=this.column,e.getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){var r=this.beans.columnModel.getBodyContainerWidth();return n+r+(e||0)}return n+(e||0)},t.prototype.applyRowSpan=function(e){if(!(this.rowSpan===1&&!e)){var n=this.beans.gridOptionsService.getRowHeightAsNumber(),r=n*this.rowSpan;this.eGui.style.height="".concat(r,"px"),this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){i.prototype.destroy.call(this)},t}(T),KV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),YV=function(i){KV(t,i);function t(e,n){var r=i.call(this)||this;return r.staticClasses=[],r.cellCtrl=e,r.beans=n,r.column=e.getColumn(),r.rowNode=e.getRowNode(),r}return t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,n=this.column.getColDef(),r=n.cellClassRules,o={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(r===this.cellClassRules?void 0:this.cellClassRules,r,o,function(a){return e.cellComp.addOrRemoveCssClass(a,!0)},function(a){return e.cellComp.addOrRemoveCssClass(a,!1)}),this.cellClassRules=r},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var n;if(typeof e.cellStyle=="function"){var r={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context},o=e.cellStyle;n=o(r)}else n=e.cellStyle;n&&this.cellComp.setUserStyles(n)}},t.prototype.applyClassesFromColDef=function(){var e=this,n=this.column.getColDef(),r={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,r),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){i.prototype.destroy.call(this)},t}(T),QV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ey=function(i){QV(t,i);function t(e,n){var r=i.call(this)||this;return r.ctrl=e,r.beans=n,r}return t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var n="title";e!=null&&e!=""?this.eGui.setAttribute(n,e):this.eGui.removeAttribute(n)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this,n,r,o,a;if(this.genericTooltipFeature==null){var s={getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}};this.genericTooltipFeature=this.createManagedBean(new $v(s,(r=(n=this.ctrl).getTooltipShowDelayOverride)===null||r===void 0?void 0:r.call(n),(a=(o=this.ctrl).getTooltipHideDelayOverride)===null||a===void 0?void 0:a.call(o)),this.beans.context)}},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,n=this.ctrl,r=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,a=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:r,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:a,data:a?a.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){i.prototype.destroy.call(this)},t}(T),X=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Qx=function(){function i(){}return i.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},X([m("resizeObserverService")],i.prototype,"resizeObserverService",void 0),X([m("paginationProxy")],i.prototype,"paginationProxy",void 0),X([m("context")],i.prototype,"context",void 0),X([m("columnApi")],i.prototype,"columnApi",void 0),X([m("gridApi")],i.prototype,"gridApi",void 0),X([m("gridOptionsService")],i.prototype,"gridOptionsService",void 0),X([m("expressionService")],i.prototype,"expressionService",void 0),X([m("environment")],i.prototype,"environment",void 0),X([m("rowRenderer")],i.prototype,"rowRenderer",void 0),X([m("templateService")],i.prototype,"templateService",void 0),X([m("valueService")],i.prototype,"valueService",void 0),X([m("eventService")],i.prototype,"eventService",void 0),X([m("columnModel")],i.prototype,"columnModel",void 0),X([m("headerNavigationService")],i.prototype,"headerNavigationService",void 0),X([m("navigationService")],i.prototype,"navigationService",void 0),X([m("columnAnimationService")],i.prototype,"columnAnimationService",void 0),X([ye("rangeService")],i.prototype,"rangeService",void 0),X([m("focusService")],i.prototype,"focusService",void 0),X([ye("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),X([m("popupService")],i.prototype,"popupService",void 0),X([m("valueFormatterService")],i.prototype,"valueFormatterService",void 0),X([m("stylingService")],i.prototype,"stylingService",void 0),X([m("columnHoverService")],i.prototype,"columnHoverService",void 0),X([m("userComponentFactory")],i.prototype,"userComponentFactory",void 0),X([m("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),X([m("animationFrameService")],i.prototype,"animationFrameService",void 0),X([m("dragService")],i.prototype,"dragService",void 0),X([m("dragAndDropService")],i.prototype,"dragAndDropService",void 0),X([m("sortController")],i.prototype,"sortController",void 0),X([m("filterManager")],i.prototype,"filterManager",void 0),X([m("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),X([m("frameworkOverrides")],i.prototype,"frameworkOverrides",void 0),X([m("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),X([m("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),X([m("selectionService")],i.prototype,"selectionService",void 0),X([ye("selectionHandleFactory")],i.prototype,"selectionHandleFactory",void 0),X([m("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),X([m("rowModel")],i.prototype,"rowModel",void 0),X([m("ctrlsService")],i.prototype,"ctrlsService",void 0),X([m("ctrlsFactory")],i.prototype,"ctrlsFactory",void 0),X([m("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),X([m("valueCache")],i.prototype,"valueCache",void 0),X([m("rowNodeEventThrottle")],i.prototype,"rowNodeEventThrottle",void 0),X([m("localeService")],i.prototype,"localeService",void 0),X([m("valueParserService")],i.prototype,"valueParserService",void 0),X([m("syncService")],i.prototype,"syncService",void 0),X([I],i.prototype,"postConstruct",null),i=X([z("beans")],i),i}(),ZV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),XV=function(i){ZV(t,i);function t(e,n,r){var o=i.call(this)||this;return o.cellCtrl=e,o.beans=n,o.column=r,o}return t.prototype.onMouseEvent=function(e,n){if(!Gn(n))switch(e){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n);break}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}var n=this.beans,r=n.eventService,o=n.rangeService,a=n.gridOptionsService,s=e.ctrlKey||e.metaKey;o&&s&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var l=this.cellCtrl.createEvent(e,v.EVENT_CELL_CLICKED);r.dispatchEvent(l);var c=this.column.getColDef();c.onCellClicked&&window.setTimeout(function(){return c.onCellClicked(l)},0);var u=(a.get("singleClickEdit")||c.singleClickEdit)&&!a.get("suppressClickEdit");u&&!(e.shiftKey&&o?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!hi()||bv("dblclick"))return!1;var e=new Date().getTime(),n=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,n},t.prototype.onCellDoubleClicked=function(e){var n=this.column.getColDef(),r=this.cellCtrl.createEvent(e,v.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),typeof n.onCellDoubleClicked=="function"&&window.setTimeout(function(){return n.onCellDoubleClicked(r)},0);var o=!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit");o&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var n=e.ctrlKey,r=e.metaKey,o=e.shiftKey,a=e.target,s=this,l=s.cellCtrl,c=s.beans,u=c.eventService,d=c.rangeService,p=c.focusService;if(!this.isRightClickInExistingRange(e)){var f=d&&d.getCellRanges().length!=0;if(!o||!f){var h=Hn()&&!l.isEditing()&&!kv(a);l.focusCell(h)}if(o&&f&&!p.isCellFocused(l.getCellPosition())){e.preventDefault();var g=p.getFocusedCell();if(g){var y=g.column,w=g.rowIndex,C=g.rowPinned,b=c.rowRenderer.getRowByPosition({rowIndex:w,rowPinned:C}),_=b?.getCellCtrl(y);_?.isEditing()&&_.stopEditing(),p.setFocusedCell({column:y,rowIndex:w,rowPinned:C,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(a)){if(d){var D=this.cellCtrl.getCellPosition();if(o)d.extendLatestRangeToCell(D);else{var R=n||r;d.setRangeToCell(D,R)}}u.dispatchEvent(this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var n=this.beans.rangeService;if(n){var r=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=e.button===2||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(r&&o)return!0}return!1},t.prototype.containsWidget=function(e){return Xi(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,v.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var n=this.cellCtrl.getGui(),r=n.contains(e.target),o=n.contains(e.relatedTarget);return r&&o},t.prototype.destroy=function(){},t}(Qx),JV=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),eG=function(i){JV(t,i);function t(e,n,r,o,a){var s=i.call(this)||this;return s.cellCtrl=e,s.beans=n,s.rowNode=o,s.rowCtrl=a,s}return t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var n=e.key;switch(n){case S.ENTER:this.onEnterKeyDown(e);break;case S.F2:this.onF2KeyDown(e);break;case S.ESCAPE:this.onEscapeKeyDown(e);break;case S.TAB:this.onTabKeyDown(e);break;case S.BACKSPACE:case S.DELETE:this.onBackspaceOrDeleteKeyDown(n,e);break;case S.DOWN:case S.UP:case S.RIGHT:case S.LEFT:this.onNavigationKeyDown(e,n);break}},t.prototype.onNavigationKeyDown=function(e,n){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,n,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(e);n&&this.beans.navigationService.ensureCellVisible(n)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,n){var r=this,o=r.cellCtrl,a=r.beans,s=r.rowNode,l=a.gridOptionsService,c=a.rangeService,u=a.eventService;o.isEditing()||(u.dispatchEvent({type:v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),bx(e,l.get("enableCellEditingOnBackspace"))?c&&l.get("enableRangeSelection")?c.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&s.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,n),u.dispatchEvent({type:v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gridOptionsService.get("enterNavigatesVertically")){var n=e.shiftKey?S.UP:S.DOWN;this.beans.navigationService.navigateToNextCell(null,n,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(S.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(S.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){var n=e.target,r=n!==this.eGui;if(!(r||this.cellCtrl.isEditing())){var o=e.key;o===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var r=this.rowNode.isSelected(),o=!r;if(o||!n.get("suppressRowDeselection")){var a=this.beans.gridOptionsService.get("groupSelectsFiltered"),s=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"});r===void 0&&s===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:a,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){i.prototype.destroy.call(this)},t}(T),tG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),nG=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},rG=function(i){tG(t,i);function t(e,n,r){var o=i.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=n,o.eCell=r,o}return t.prototype.postConstruct=function(){var e=this.getGui();e.appendChild(je("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var n=this,r=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);var o=function(){try{var s=JSON.stringify(n.rowNode.data);e.dataTransfer.setData("application/json",s),e.dataTransfer.setData("text/plain",s)}catch{}};if(r){var a={rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};r(a)}else o()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},nG([I],t.prototype,"postConstruct",null),t}(te),iG=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},oG=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},aG="ag-column-first",sG="ag-column-last",ip=function(){function i(){}return i.getHeaderClassesFromColDef=function(t,e,n,r){return K(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,r)},i.getToolPanelClassesFromColDef=function(t,e,n,r){return K(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,r)},i.refreshFirstAndLastStyles=function(t,e,n){t.addOrRemoveCssClass(aG,n.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass(sG,n.isColumnAtEdge(e,"last"))},i.getClassParams=function(t,e,n,r){return{colDef:t,column:n,columnGroup:r,api:e.api,columnApi:e.columnApi,context:e.context}},i.getColumnClassesFromCollDef=function(t,e,n,r,o){if(K(t))return[];var a;if(typeof t=="function"){var s=this.getClassParams(e,n,r,o);a=t(s)}else a=t;return typeof a=="string"?[a]:Array.isArray(a)?oG([],iG(a),!1):[]},i}(),lG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zd=function(){return zd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},zd.apply(this,arguments)},cG="ag-cell",uG="ag-cell-auto-height",dG="ag-cell-normal-height",pG="ag-cell-focus",fG="ag-cell-first-right-pinned",hG="ag-cell-last-left-pinned",gG="ag-cell-not-inline-editing",mG="ag-column-hover",vG="ag-cell-wrap-text",yG=0,eo=function(i){lG(t,i);function t(e,n,r,o){var a=i.call(this)||this;a.cellRangeFeature=null,a.cellPositionFeature=null,a.cellCustomStyleFeature=null,a.tooltipFeature=null,a.cellMouseListenerFeature=null,a.cellKeyboardListenerFeature=null,a.suppressRefreshCell=!1,a.onCellCompAttachedFuncs=[],a.column=e,a.rowNode=n,a.beans=r,a.rowCtrl=o,a.instanceId=e.getId()+"-"+yG++;var s=a.column.getColDef();return a.colIdSanitised=$e(a.column.getId()),a.beans.gridOptionsService.get("suppressCellFocus")||(a.tabIndex=-1),a.isCellRenderer=s.cellRenderer!=null||s.cellRendererSelector!=null,a.createCellPosition(),a.addFeatures(),a.updateAndFormatValue(!1),a}return t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new $V(this,this.beans),this.addDestroyFunc(function(){var r;(r=e.cellPositionFeature)===null||r===void 0||r.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new YV(this,this.beans),this.addDestroyFunc(function(){var r;(r=e.cellCustomStyleFeature)===null||r===void 0||r.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new XV(this,this.beans,this.column),this.addDestroyFunc(function(){var r;(r=e.cellMouseListenerFeature)===null||r===void 0||r.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new eG(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var r;(r=e.cellKeyboardListenerFeature)===null||r===void 0||r.destroy(),e.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){e.disableTooltipFeature()}));var n=this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection");n&&(this.cellRangeFeature=new WV(this.beans,this),this.addDestroyFunc(function(){var r;(r=e.cellRangeFeature)===null||r===void 0||r.destroy(),e.cellRangeFeature=null}))},t.prototype.enableTooltipFeature=function(){var e=this,n=function(){var o=e.column.getColDef(),a=e.rowNode.data;if(o.tooltipField&&x(a))return ya(a,o.tooltipField,e.column.isTooltipFieldContainsDots());var s=o.tooltipValueGetter;return s?s({location:"cell",api:e.beans.gridOptionsService.api,columnApi:e.beans.gridOptionsService.columnApi,context:e.beans.gridOptionsService.context,colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},r={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:n,getValueFormatted:function(){return e.valueFormatted}};this.tooltipFeature=new ey(r,this.beans)},t.prototype.disableTooltipFeature=function(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)},t.prototype.setComp=function(e,n,r,o,a){var s,l,c,u;this.cellComp=e,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(s=this.cellPositionFeature)===null||s===void 0||s.setComp(n),(l=this.cellCustomStyleFeature)===null||l===void 0||l.setComp(e),(c=this.tooltipFeature)===null||c===void 0||c.setComp(n),(u=this.cellKeyboardListenerFeature)===null||u===void 0||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),a&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(d){return d()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var n=this;if(this.isAutoHeight=this.column.isAutoHeight(),!(!this.isAutoHeight||!e)){var r=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,a=function(c){if(!n.editing&&n.isAlive()){var u=gi(r),d=u.paddingTop,p=u.paddingBottom,f=u.borderBottomWidth,h=u.borderTopWidth,g=d+p+f+h,y=e.offsetHeight,w=y+g;if(c<5){var C=n.beans.gridOptionsService.getDocument(),b=!C||!C.contains(e),_=w==0;if(b||_){n.beans.frameworkOverrides.setTimeout(function(){return a(c+1)},0);return}}var D=Math.max(w,o);n.rowNode.setRowAutoHeight(D,n.column)}},s=function(){return a(0)};s();var l=this.beans.resizeObserverService.observeResize(e,s);this.addDestroyFunc(function(){l(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},t.prototype.getCellAriaRole=function(){var e;return(e=this.column.getColDef().cellAriaRole)!==null&&e!==void 0?e:"gridcell"},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.getIsCellRenderer=function(){return this.isCellRenderer},t.prototype.getValueToDisplay=function(){return this.valueFormatted!=null?this.valueFormatted:this.value},t.prototype.showValue=function(e){e===void 0&&(e=!1);var n=this.getValueToDisplay(),r;if(this.isCellRenderer){var o=this.createCellRendererParams();r=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(r,n,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){var e=this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight();return e},t.prototype.isIncludeControl=function(e){var n=this.rowNode.rowPinned!=null,r=typeof e=="function",o=n?!1:r||e===!0;return o},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),r=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return n||r||o},t.prototype.startEditing=function(e,n,r){var o=this;if(e===void 0&&(e=null),n===void 0&&(n=!1),r===void 0&&(r=null),!(!this.isCellEditable()||this.editing)){if(!this.cellComp){this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,n,r)});return}var a=this.createCellEditorParams(e,n),s=this.column.getColDef(),l=this.beans.userComponentFactory.getCellEditorDetails(s,a),c=l?.popupFromSelector!=null?l.popupFromSelector:!!s.cellEditorPopup,u=l?.popupPositionFromSelector!=null?l.popupPositionFromSelector:s.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(l,c,u);var d=this.createEvent(r,v.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(d)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){e===void 0&&(e=!1),this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){this.isEditing()&&this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var n={newValueExists:!1};if(e)return n;var r=this.cellComp.getCellEditor();if(!r)return n;var o=r.isCancelAfterEnd&&r.isCancelAfterEnd();if(o)return n;var a=r.getValue();return{newValue:a,newValueExists:!0}},t.prototype.saveNewValue=function(e,n){if(n===e)return!1;this.suppressRefreshCell=!0;var r=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,r},t.prototype.stopEditing=function(e){if(e===void 0&&(e=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(e),r=n.newValue,o=n.newValueExists,a=this.rowNode.getValueFromValueService(this.column),s=!1;return o&&(s=this.saveNewValue(a,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(a,r,!e&&!!s),s},t.prototype.dispatchEditingStoppedEvent=function(e,n,r){var o=zd(zd({},this.createEvent(null,v.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:n,valueChanged:r});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,n){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:n,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this,n={value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(r){return e.beans.valueService.setValue(e.rowNode,e.column,r)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(r,o,a,s){return e.registerRowDragger(r,o,s)}};return n},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){var n=e.column===this.column;n&&this.refreshCell({})},t.prototype.refreshOrDestroyCell=function(e){var n;this.refreshShouldDestroy()?(n=this.rowCtrl)===null||n===void 0||n.refreshCell(this):this.refreshCell(e)},t.prototype.refreshCell=function(e){var n,r,o;if(!(this.suppressRefreshCell||this.editing)){var a=this.column.getColDef(),s=e!=null&&!!e.newData,l=e!=null&&!!e.suppressFlash||!!a.suppressCellFlash,c=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,u=e&&e.forceRefresh||c||s,d=!!this.cellComp,p=this.updateAndFormatValue(d),f=u||p;if(d){if(f){this.showValue(s);var h=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering(),g=!l&&!h&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||a.enableCellChangeFlash);g&&this.flashCell(),(n=this.cellCustomStyleFeature)===null||n===void 0||n.applyUserStyles(),(r=this.cellCustomStyleFeature)===null||r===void 0||r.applyClassesFromColDef()}this.refreshToolTip(),(o=this.cellCustomStyleFeature)===null||o===void 0||o.applyCellClassRules()}}},t.prototype.stopEditingAndFocus=function(e,n){e===void 0&&(e=!1),n===void 0&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(n)},t.prototype.navigateAfterEdit=function(e){var n=this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit");if(n){var r=e?S.UP:S.DOWN;this.beans.navigationService.navigateToNextCell(null,r,this.getCellPosition(),!1)}},t.prototype.flashCell=function(e){var n=e&&e.flashDelay,r=e&&e.fadeDelay;this.animateCell("data-changed",n,r)},t.prototype.animateCell=function(e,n,r){var o=this;if(this.cellComp){var a="ag-cell-".concat(e),s="ag-cell-".concat(e,"-animation"),l=this.beans.gridOptionsService;n||(n=l.get("cellFlashDelay")),x(r)||(r=l.get("cellFadeDelay")),this.cellComp.addOrRemoveCssClass(a,!0),this.cellComp.addOrRemoveCssClass(s,!1),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(a,!1),o.cellComp.addOrRemoveCssClass(s,!0),o.eGui.style.transition="background-color ".concat(r,"ms"),window.setTimeout(function(){o.isAlive()&&(o.cellComp.addOrRemoveCssClass(s,!1),o.eGui.style.transition="")},r))},n)}},t.prototype.onFlashCells=function(e){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition()),r=e.cells[n];r&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var n;return(n=this.callValueFormatter(e))!==null&&n!==void 0?n:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){var n=this.value,r=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(n,this.value)||this.valueFormatted!=r:!0},t.prototype.valuesAreEqual=function(e,n){var r=this.column.getColDef();return r.equals?r.equals(e,n):e===n},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,n){var r={type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex};return r},t.prototype.processCharacter=function(e){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.processCharacter(e)},t.prototype.onKeyDown=function(e){var n;(n=this.cellKeyboardListenerFeature)===null||n===void 0||n.onKeyDown(e)},t.prototype.onMouseEvent=function(e,n){var r;(r=this.cellMouseListenerFeature)===null||r===void 0||r.onMouseEvent(e,n)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;(e=this.tooltipFeature)===null||e===void 0||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;this.cellComp&&((e=this.cellPositionFeature)===null||e===void 0||e.onLeftChanged())},t.prototype.onDisplayedColumnsChanged=function(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,n=e.cellComp,r=e.column,o=e.beans;ip.refreshFirstAndLastStyles(n,r,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);Ov(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return(e=this.cellPositionFeature)===null||e===void 0?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,n){n===void 0&&(n=null),this.cellComp&&(this.beans.gridOptionsService.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,n))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return this.cellRangeFeature!=null},t.prototype.focusCell=function(e){e===void 0&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(fG,e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(hG,e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){n&&e?.forceBrowserFocus&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(pG,n),n&&e&&e.forceBrowserFocus){var r=this.cellComp.getFocusableElement();r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}var o=this.beans.gridOptionsService.get("editType")==="fullRow";!n&&!o&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:ar(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass(cG,!0),this.cellComp.addOrRemoveCssClass(gG,!0);var e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(uG,e),this.cellComp.addOrRemoveCssClass(dG,!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(mG,e)}},t.prototype.onColDefChanged=function(){var e,n;if(this.cellComp){var r=this.column.isAutoHeight();r!==this.isAutoHeight&&((e=this.rowCtrl)===null||e===void 0||e.refreshCell(this));var o=this.column.isTooltipEnabled();o?(this.disableTooltipFeature(),this.enableTooltipFeature(),(n=this.tooltipFeature)===null||n===void 0||n.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),this.editing||this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}},t.prototype.setWrapText=function(){var e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(vG,e)},t.prototype.dispatchCellContextMenuEvent=function(e){var n=this.column.getColDef(),r=this.createEvent(e,v.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(r),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(r)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],i.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new Ux;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new rG(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,n,r){var o=this;if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,n);return}var a=this.createRowDragComp(e,n,r);a&&(this.customRowDragComp=a,this.addDestroyFunc(function(){o.beans.context.destroyBean(a),o.customRowDragComp=null}))},t.prototype.createRowDragComp=function(e,n,r){var o=this,a=this.beans.gridOptionsService.get("pagination"),s=this.beans.gridOptionsService.get("rowDragManaged"),l=this.beans.gridOptionsService.isRowModelType("clientSide");if(s){if(!l){J("managed row dragging is only allowed in the Client Side Row Model");return}if(a){J("managed row dragging is not possible when doing pagination");return}}var c=new Nd(function(){return o.value},this.rowNode,this.column,e,n,r);return this.beans.context.createBean(c),c},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(T),wG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),CG=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ym=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},wm=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},Kt=function(i){return i.Normal="Normal",i.FullWidth="FullWidth",i.FullWidthLoading="FullWidthLoading",i.FullWidthGroup="FullWidthGroup",i.FullWidthDetail="FullWidthDetail",i}(Kt||{}),bG=0,to=function(i){wG(t,i);function t(e,n,r,o,a){var s=i.call(this)||this;return s.allRowGuis=[],s.active=!0,s.centerCellCtrls={list:[],map:{}},s.leftCellCtrls={list:[],map:{}},s.rightCellCtrls={list:[],map:{}},s.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},s.rowDragComps=[],s.lastMouseDownOnDragger=!1,s.emptyStyle={},s.updateColumnListsPending=!1,s.rowId=null,s.businessKeySanitised=null,s.beans=n,s.gridOptionsService=n.gridOptionsService,s.rowNode=e,s.paginationPage=n.paginationProxy.getCurrentPage(),s.useAnimationFrameForCreate=o,s.printLayout=a,s.instanceId=e.id+"-"+bG++,s.rowId=$e(e.id),s.initRowBusinessKey(),s.rowFocused=n.focusService.isRowFocused(s.rowNode.rowIndex,s.rowNode.rowPinned),s.rowLevel=n.rowCssClassCalculator.calculateRowLevel(s.rowNode),s.setRowType(),s.setAnimateFlags(r),s.rowStyles=s.processStylesFromGridOptions(),s.isFullWidth()&&!s.gridOptionsService.get("suppressCellFocus")&&(s.tabIndex=-1),s.addListeners(),s}return t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if(typeof this.businessKeyForNodeFunc=="function"){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=$e(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n,r){var o={rowComp:e,element:n,containerType:r};this.allRowGuis.push(o),r===tt.LEFT?this.leftGui=o:r===tt.RIGHT?this.rightGui=o:r===tt.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==e}),e){case tt.LEFT:this.leftGui=void 0;break;case tt.RIGHT:this.rightGui=void 0;break;case tt.FULL_WIDTH:this.fullWidthGui=void 0;break;case tt.CENTER:this.centerGui=void 0;break}},t.prototype.isCacheable=function(){return this.rowType===Kt.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},t.prototype.setCached=function(e){var n=e?"none":"";this.allRowGuis.forEach(function(r){return r.element.style.display=n})},t.prototype.initialiseRowComp=function(e){var n=this,r=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp,a=this.getInitialRowClasses(e.containerType);a.forEach(function(s){return o.addOrRemoveCssClass(s,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Vn(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),r.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return r.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){n.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=$e(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var n=this,r=e.containerType,o=this.slideInAnimation[r];o&&(Xm(function(){n.onTopChanged()}),this.slideInAnimation[r]=!1);var a=this.fadeInAnimation[r];a&&(Xm(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.get("enableRangeSelection")){J("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}var n=this.beans.localeService.getLocaleTextFunc(),r=new Nd(function(){return"1 ".concat(n("rowDragRow","row"))},this.rowNode,void 0,e.element,void 0,!0),o=this.createBean(r,this.beans.context);this.rowDragComps.push(o)},t.prototype.setupFullWidth=function(e){var n=this.getPinnedForContainer(e.containerType),r=this.createFullWidthParams(e.element,n);if(!(this.rowType==Kt.FullWidthDetail&&!ee.__assertRegistered(B.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))){var o;switch(this.rowType){case Kt.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(r);break;case Kt.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(r);break;case Kt.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(r);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(r);break}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderer=function(){var e,n;return(n=(e=this.fullWidthGui)===null||e===void 0?void 0:e.rowComp)===null||n===void 0?void 0:n.getFullWidthCellRenderer()},t.prototype.getCellElement=function(e){var n=this.getCellCtrl(e);return n?n.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");if(!(!e||!this.areAllContainersReady())){var n={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(n)}},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,r=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&n&&r},t.prototype.setRowType=function(){var e=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),r=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),a=!!this.rowNode.group&&!this.rowNode.footer,s=a&&this.gridOptionsService.isGroupUseEntireRow(o);e?this.rowType=Kt.FullWidthLoading:r?this.rowType=Kt.FullWidthDetail:n?this.rowType=Kt.FullWidth:s?this.rowType=Kt.FullWidthGroup:this.rowType=Kt.Normal},t.prototype.updateColumnLists=function(e,n){var r=this;if(e===void 0&&(e=!1),n===void 0&&(n=!1),!this.isFullWidth()){var o=e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout;if(o){this.updateColumnListsImpl(n);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){r.active&&r.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,n,r){var o=this;r===void 0&&(r=null);var a={list:[],map:{}},s=function(l,c){a.list.push(c),a.map[l]=c};return n.forEach(function(l){var c=l.getInstanceId(),u=e.map[c];u||(u=new eo(l,o.rowNode,o.beans,o)),s(c,u)}),e.list.forEach(function(l){var c=a.map[l.getColumn().getInstanceId()]!=null;if(!c){var u=!o.isCellEligibleToBeRemoved(l,r);if(u){s(l.getColumn().getInstanceId(),l);return}l.destroy()}}),a},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var n=this;this.allRowGuis.forEach(function(r){var o=n.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case tt.LEFT:return this.leftCellCtrls.list;case tt.RIGHT:return this.rightCellCtrls.list;case tt.FULL_WIDTH:return[];case tt.CENTER:return this.centerCellCtrls.list;default:var n=e;throw new Error("Unhandled case: ".concat(n))}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var r=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,n){var r=!0,o=!1,a=e.getColumn();if(a.getPinned()!=n)return r;var s=e.isEditing(),l=this.beans.focusService.isCellFocused(e.getCellPosition()),c=s||l;if(c){var u=e.getColumn(),d=this.beans.columnModel.getAllDisplayedColumns(),p=d.indexOf(u)>=0;return p?o:r}return r},t.prototype.getDomOrder=function(){var e=this.gridOptionsService.get("ensureDomOrder");return e||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var n=this,r=function(){e.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",r),this.addManagedPropertyListener("ensureDomOrder",r)},t.prototype.setAnimateFlags=function(e){if(!(this.isSticky()||!e)){var n=x(this.rowNode.oldRowTop),r=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=r,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=r,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==Kt.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,n=function(c,u){if(!c)return!0;var d=c.rowComp.getFullWidthCellRenderer();if(!d||!d.refresh)return!1;var p=e.createFullWidthParams(c.element,u),f=d.refresh(p);return f},r=n(this.fullWidthGui,null),o=n(this.centerGui,null),a=n(this.leftGui,"left"),s=n(this.rightGui,"right"),l=r&&o&&a&&s;return l},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,ce.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,ce.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,ce.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,ce.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,ce.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,v.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,v.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,v.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(n,v.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(n,v.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,v.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(n,v.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addDestroyFunc(function(){e.destroyBeans(e.rowDragComps,e.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){var r=e.gridOptionsService.get("rowDragEntireRow");if(r){e.allRowGuis.forEach(function(o){e.addRowDraggerToRow(o)});return}e.destroyBeans(e.rowDragComps,e.beans.context),e.rowDragComps=[]}),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,ce.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,ce.EVENT_CELL_CHANGED,function(n){e.getAllCellCtrls().forEach(function(r){return r.onCellChanged(n)})})},t.prototype.onRowNodeDataChanged=function(e){var n=this,r=this.isFullWidth()!==!!this.rowNode.isFullWidthCell();if(r){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){var o=this.refreshFullWidth();o||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(function(a){return a.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(a){n.setRowCompRowId(a.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(a.rowComp)}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var r=e===di.Above,o=e===di.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),n=this.rowNode.expanded==!0;this.allRowGuis.forEach(function(r){r.rowComp.addOrRemoveCssClass("ag-row-group",e),r.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&n),r.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!n),Vn(r.element,e&&n)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:ar(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var n=this.allRowGuis.find(function(c){return c.element.contains(e.target)}),r=n?n.element:null,o=r===e.target;if(o){var a=this.rowNode,s=this.beans.focusService.getFocusedCell(),l={rowIndex:a.rowIndex,rowPinned:a.rowPinned,column:s&&s.column};this.beans.navigationService.navigateToNextCell(e,e.key,l,!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!(e.defaultPrevented||Gn(e))){var n=this.allRowGuis.find(function(s){return s.element.contains(e.target)}),r=n?n.element:null,o=r===e.target,a=null;o||(a=this.beans.focusService.findNextFocusableElement(r,!1,e.shiftKey)),(this.isFullWidth()&&o||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var n,r=this.rowNode,o=e?this.isFullWidth()&&e.rowIndex===r.rowIndex&&e.rowPinned==r.rowPinned:!1,a=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)===null||n===void 0?void 0:n.element;a&&(a.classList.toggle("ag-full-width-focus",o),o&&a.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,n){var r={list:[],map:{}};return e.list.forEach(function(o){o!==n&&(r.list.push(o),r.map[o.getInstanceId()]=o)}),r},t.prototype.onMouseEvent=function(e,n){switch(e){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n);break}},t.prototype.createRowEvent=function(e,n){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:n}},t.prototype.createRowEventWithSource=function(e,n){var r=this.createRowEvent(e,n);return r.source=this,r},t.prototype.onRowDblClick=function(e){if(!Gn(e)){var n=this.createRowEventWithSource(v.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(n)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=Xi(e.target,"ag-row-drag",3),!!this.isFullWidth()){var n=this.rowNode,r=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:r.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){var n=Gn(e)||this.lastMouseDownOnDragger;if(!n){var r=this.createRowEventWithSource(v.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(r);var o=e.ctrlKey||e.metaKey,a=e.shiftKey,s=this.gridOptionsService.get("groupSelectsChildren");if(!(s&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.get("suppressRowClickSelection"))){var l=this.gridOptionsService.get("rowMultiSelectWithClick"),c=!this.gridOptionsService.get("suppressRowDeselection"),u="rowClicked";if(this.rowNode.isSelected())l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):o?c&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:u}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!a,rangeSelect:a,event:e,source:u});else{var d=l?!1:!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:a,event:e,source:u})}}}},t.prototype.setupDetailRowAutoHeight=function(e){var n=this;if(this.rowType===Kt.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var r=function(){var a=e.clientHeight;if(a!=null&&a>0){var s=function(){n.rowNode.setRowHeight(a),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()};n.beans.frameworkOverrides.setTimeout(s,0)}},o=this.beans.resizeObserverService.observeResize(e,r);this.addDestroyFunc(o),r()}},t.prototype.createFullWidthParams=function(e,n){var r=this,o={fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(a,s,l,c){return r.addFullWidthRowDragging(a,s,l,c)}};return o},t.prototype.addFullWidthRowDragging=function(e,n,r,o){if(r===void 0&&(r=""),!!this.isFullWidth()){var a=new Nd(function(){return r},this.rowNode,void 0,e,n,o);this.createManagedBean(a,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var n="ag-row-level-"+e,r="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(r,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},t.prototype.stopEditing=function(e){var n,r;if(e===void 0&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),a=this.editingRow;this.stoppingRowEdit=!0;var s=!1;try{for(var l=CG(o),c=l.next();!c.done;c=l.next()){var u=c.value,d=u.stopEditing(e);a&&!e&&!s&&d&&(s=!0)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(s){var p=this.createRowEvent(v.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(p)}a&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var n=e?this.createRowEvent(v.EVENT_ROW_EDITING_STARTED):this.createRowEvent(v.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},t.prototype.startRowEditing=function(e,n,r){if(e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),!this.editingRow){var o=this.getAllCellCtrls().reduce(function(a,s){var l=s===n;return l?s.startEditing(e,l,r):s.startEditing(null,l,r),a?!0:s.isEditing()},!1);o&&this.setEditingRow(!0)}},t.prototype.getAllCellCtrls=function(){if(this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0)return this.centerCellCtrls.list;var e=wm(wm(wm([],ym(this.centerCellCtrls.list),!1),ym(this.leftCellCtrls.list),!1),ym(this.rightCellCtrls.list),!1);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(r){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(r,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){e.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(n,!0)})},function(n){e.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass(n,!1)})})},t.prototype.setStylesFromGridOptions=function(e,n){var r=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(r.rowStyles)})},t.prototype.getPinnedForContainer=function(e){var n=e===tt.LEFT?"left":e===tt.RIGHT?"right":null;return n},t.prototype.getInitialRowClasses=function(e){var n=this.getPinnedForContainer(e),r={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(r)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(e&&typeof e=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}var n=this.gridOptionsService.getCallback("getRowStyle"),r;if(n){var o={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};r=n(o)}return r||e?Object.assign({},e,r):this.emptyStyle},t.prototype.onRowSelected=function(e){var n=this,r=!!this.rowNode.isSelected();this.forEachGui(e,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",r),_a(o.element,r?!0:void 0);var a=n.createAriaLabel();Or(o.element,a??"")})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!(e&&this.gridOptionsService.get("suppressRowDeselection"))){var n=this.beans.localeService.getLocaleTextFunc(),r=n(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."));return r}},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var n=this;this.active&&(this.addManagedListener(e,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,ce.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,ce.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var n=this.beans.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(r.top,!0)-100,a=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(o,e),a)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,n){e?n(e):this.allRowGuis.forEach(n)},t.prototype.onRowHeightChanged=function(e){if(this.rowNode.rowHeight!=null){var n=this.rowNode.rowHeight,r=this.beans.environment.getDefaultRowHeight(),o=this.gridOptionsService.isGetRowHeightFunction(),a=o?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,s=a?"".concat(Math.min(r,a)-2,"px"):void 0;this.forEachGui(e,function(l){l.element.style.height="".concat(n,"px"),s&&l.element.style.setProperty("--ag-line-height",s)})}},t.prototype.addEventListener=function(e,n){i.prototype.addEventListener.call(this,e,n)},t.prototype.removeEventListener=function(e,n){i.prototype.removeEventListener.call(this,e,n)},t.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent(v.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),i.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky()){var e=this.rowNode.rowTop!=null;if(e){var n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(function(r){return r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})}},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var e=function(n){return n.list.forEach(function(r){return r.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var n=this;this.forEachGui(e,function(r){r.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},t.prototype.onCellFocused=function(){this.onCellFocusChanged()},t.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,n){if(n===void 0&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky)return e;var r=this.beans.paginationProxy.getPixelOffset(),o=n?1:-1;return e+r*o},t.prototype.setRowTop=function(e){if(!this.printLayout&&x(e)){var n=this.applyPaginationOffset(e),r=this.rowNode.isRowPinned()||this.rowNode.sticky,o=r?n:this.beans.rowContainerHeightService.getRealPixelPosition(n),a="".concat(o,"px");this.setRowTopStyle(a)}},t.prototype.getInitialRowTop=function(e){var n=this.gridOptionsService.get("suppressRowTransform");return n?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){var n=this.gridOptionsService.get("suppressRowTransform");return n?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var r=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(r);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},t.prototype.setRowTopStyle=function(e){var n=this.gridOptionsService.get("suppressRowTransform");this.allRowGuis.forEach(function(r){return n?r.rowComp.setTop(e):r.rowComp.setTransform("translateY(".concat(e,")"))})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var n=null;return this.getAllCellCtrls().forEach(function(r){r.getColumn()==e&&(n=r)}),n!=null||this.getAllCellCtrls().forEach(function(r){r.getColSpanningList().indexOf(e)>=0&&(n=r)}),n},t.prototype.onRowIndexChanged=function(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var n=this.rowNode.getRowIndexString(),r=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2===0,a=r+this.rowNode.rowIndex+1;this.forEachGui(e,function(s){s.rowComp.setRowIndex(n),s.rowComp.addOrRemoveCssClass("ag-row-even",o),s.rowComp.addOrRemoveCssClass("ag-row-odd",!o),Rv(s.element,a)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(T),_G=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},SG=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},EG=function(i){_G(t,i);function t(e){var n=i.call(this)||this;return n.element=e,n}return t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",n=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,n)},t.prototype.addMouseListeners=function(){var e=this,n=bv("touchstart")?"touchstart":"mousedown",r=["dblclick","contextmenu","mouseover","mouseout","click",n];r.forEach(function(o){var a=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,a)})},t.prototype.processMouseEvent=function(e,n){if(!(!this.mouseEventService.isEventFromThisGrid(n)||Gn(n))){var r=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);e==="contextmenu"?this.handleContextMenuMouseEvent(n,null,r,o):(o&&o.onMouseEvent(e,n),r&&r.onMouseEvent(e,n))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(hi()){var n=new Xt(this.element),r=function(o){var a=e.getRowForEvent(o.touchEvent),s=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(null,o.touchEvent,a,s)};this.addManagedListener(n,Xt.EVENT_LONG_TAP,r),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.getRowForEvent=function(e){for(var n=e.target;n;){var r=this.gridOptionsService.getDomData(n,to.DOM_DATA_KEY_ROW_CTRL);if(r)return r;n=n.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,n,r,o){var a=r?r.getRowNode():null,s=o?o.getColumn():null,l=null;if(s){var c=e||n;o.dispatchCellContextMenuEvent(c),l=this.valueService.getValue(s,a)}var u=this.ctrlsService.getGridBodyCtrl(),d=o?o.getGui():u.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,n,a,s,l,d)},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:Td(this.gridOptionsService,e,eo.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Td(this.gridOptionsService,e,to.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,n){var r=this.getControlsForEventTarget(n.target),o=r.cellCtrl,a=r.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,n):a&&a.isFullWidth()&&this.processFullWidthRowKeyboardEvent(a,e,n))},t.prototype.processCellKeyboardEvent=function(e,n,r){var o=e.getRowNode(),a=e.getColumn(),s=e.isEditing(),l=!Id(this.gridOptionsService,r,o,a,s);if(l&&n==="keydown"){var c=!s&&this.navigationService.handlePageScrollingKey(r);c||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),Jd(r)&&e.processCharacter(r)}if(n==="keydown"){var u=e.createEvent(r,v.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(u)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,n,r){var o=e.getRowNode(),a=this.focusService.getFocusedCell(),s=a&&a.column,l=!Id(this.gridOptionsService,r,o,s,!1);if(l){var c=r.key;if(n==="keydown")switch(c){case S.PAGE_HOME:case S.PAGE_END:case S.PAGE_UP:case S.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case S.UP:case S.DOWN:e.onKeyboardNavigate(r);break;case S.TAB:e.onTabKeyDown(r);break}}if(n==="keydown"){var u=e.createRowEvent(v.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(u)}},t.prototype.doGridOperations=function(e,n){if(!(!e.ctrlKey&&!e.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(e)){var r=Cx(e);if(r===S.A)return this.onCtrlAndA(e);if(r===S.C)return this.onCtrlAndC(e);if(r===S.D)return this.onCtrlAndD(e);if(r===S.V)return this.onCtrlAndV(e);if(r===S.X)return this.onCtrlAndX(e);if(r===S.Y)return this.onCtrlAndY();if(r===S.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var n=this,r=n.pinnedRowModel,o=n.paginationProxy,a=n.rangeService;if(a&&o.isRowsToRender()){var s=SG([r.isEmpty("top"),r.isEmpty("bottom")],2),l=s[0],c=s[1],u=l?null:"top",d=void 0,p=void 0;c?(d=null,p=this.paginationProxy.getRowCount()-1):(d="bottom",p=r.getPinnedBottomRowData().length-1);var f=this.columnModel.getAllDisplayedColumns();if(Ft(f))return;a.setCellRange({rowStartIndex:0,rowStartPinned:u,rowEndIndex:p,rowEndPinned:d,columnStart:f[0],columnEnd:be(f)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection"))){var n=this.getControlsForEventTarget(e.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(!(!this.clipboardService||this.gridOptionsService.get("enableCellTextSelection")||this.gridOptionsService.get("suppressCutToClipboard"))){var n=this.getControlsForEventTarget(e.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var n=this.getControlsForEventTarget(e.target),r=n.cellCtrl,o=n.rowCtrl;r?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){this.gridOptionsService.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},Wt([m("mouseEventService")],t.prototype,"mouseEventService",void 0),Wt([m("valueService")],t.prototype,"valueService",void 0),Wt([ye("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Wt([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Wt([m("navigationService")],t.prototype,"navigationService",void 0),Wt([m("focusService")],t.prototype,"focusService",void 0),Wt([m("undoRedoService")],t.prototype,"undoRedoService",void 0),Wt([m("columnModel")],t.prototype,"columnModel",void 0),Wt([m("paginationProxy")],t.prototype,"paginationProxy",void 0),Wt([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Wt([ye("rangeService")],t.prototype,"rangeService",void 0),Wt([ye("clipboardService")],t.prototype,"clipboardService",void 0),Wt([I],t.prototype,"postConstruct",null),t}(T),xG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},PE=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},FE=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},DG=function(i){xG(t,i);function t(e){var n=i.call(this)||this;return n.centerContainerCtrl=e,n}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){e.checkViewportAndScrolls()})},t.prototype.listenForResize=function(){var e=this,n=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),n=oo(e);if(!(isNaN(n)||n<=50)){var r=this.getPinnedColumnsOverflowingViewport(n-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");if(r.length){if(o){var a={columns:r,viewportWidth:n};r=o(a)}this.columnModel.setColumnsPinned(r,null,"viewportSizeFeature")}}},t.prototype.getPinnedColumnsOverflowingViewport=function(e){var n=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),o=n+r;if(o<e)return[];for(var a=FE([],PE(this.columnModel.getDisplayedLeftColumns()),!1),s=FE([],PE(this.columnModel.getDisplayedRightColumns()),!1),l=0,c=0,u=0,d=[],p=o-u-e;(c<a.length||l<s.length)&&p>0;){if(l<s.length){var f=s[l++];p-=f.getActualWidth(),d.push(f)}if(c<a.length&&p>0){var f=a[c++];p-=f.getActualWidth(),d.push(f)}}return d},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var e=this.gridBodyCtrl.getBodyViewportElement(),n=xl(e);if(this.bodyHeight!==n){this.bodyHeight=n;var r={type:v.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(r)}},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,n)},zs([m("ctrlsService")],t.prototype,"ctrlsService",void 0),zs([m("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),zs([m("columnModel")],t.prototype,"columnModel",void 0),zs([m("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),zs([I],t.prototype,"postConstruct",null),t}(T),TG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),NE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},RG=function(i){TG(t,i);function t(e){var n=i.call(this)||this;return n.element=e,n}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),n=e>0;we(this.element,n),vn(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},NE([m("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),NE([I],t.prototype,"postConstruct",null),t}(T),OG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),LE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},AG=function(i){OG(t,i);function t(e){var n=i.call(this)||this;return n.element=e,n}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),n=e>0;we(this.element,n),vn(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},LE([m("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),LE([I],t.prototype,"postConstruct",null),t}(T),IG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Zx=function(i){IG(t,i);function t(e,n){var r=i.call(this)||this;return r.eContainer=e,r.eViewport=n,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),n=e!=null?"".concat(e,"px"):"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},kE([m("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),kE([I],t.prototype,"postConstruct",null),t}(T),MG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},PG=function(i){MG(t,i);function t(e){var n=i.call(this)||this;return n.eContainer=e,n}return t.prototype.postConstruct=function(){var e=this;if(!K(this.rangeService)){this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(r){var o=r.currentValue;if(o){e.enableFeature();return}e.disableFeature()}),this.addDestroyFunc(function(){return e.disableFeature()});var n=this.gridOptionsService.get("enableRangeSelection");n&&this.enableFeature()}},t.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},t.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},Cm([ye("rangeService")],t.prototype,"rangeService",void 0),Cm([m("dragService")],t.prototype,"dragService",void 0),Cm([I],t.prototype,"postConstruct",null),t}(T),FG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ty=function(i){FG(t,i);function t(e,n){n===void 0&&(n=!1);var r=i.call(this)||this;return r.callback=e,r.addSpacer=n,r}return t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),r=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),a=e.getDisplayedColumnsRightWidth(),s;if(n)s=r+o+a;else if(s=r,this.addSpacer){var l=this.gridOptionsService.get("enableRtl")?o:a;l===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(s+=this.gridOptionsService.getScrollbarWidth())}this.callback(s)},bm([m("columnModel")],t.prototype,"columnModel",void 0),bm([m("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),bm([I],t.prototype,"postConstruct",null),t}(T),NG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},nd=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},rd=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},E=function(i){return i.LEFT="left",i.RIGHT="right",i.CENTER="center",i.FULL_WIDTH="fullWidth",i.TOP_LEFT="topLeft",i.TOP_RIGHT="topRight",i.TOP_CENTER="topCenter",i.TOP_FULL_WIDTH="topFullWidth",i.STICKY_TOP_LEFT="stickyTopLeft",i.STICKY_TOP_RIGHT="stickyTopRight",i.STICKY_TOP_CENTER="stickyTopCenter",i.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",i.BOTTOM_LEFT="bottomLeft",i.BOTTOM_RIGHT="bottomRight",i.BOTTOM_CENTER="bottomCenter",i.BOTTOM_FULL_WIDTH="bottomFullWidth",i}(E||{}),tt=function(i){return i.LEFT="left",i.RIGHT="right",i.CENTER="center",i.FULL_WIDTH="fullWidth",i}(tt||{});function LG(i){switch(i){case E.CENTER:case E.TOP_CENTER:case E.STICKY_TOP_CENTER:case E.BOTTOM_CENTER:return tt.CENTER;case E.LEFT:case E.TOP_LEFT:case E.STICKY_TOP_LEFT:case E.BOTTOM_LEFT:return tt.LEFT;case E.RIGHT:case E.TOP_RIGHT:case E.STICKY_TOP_RIGHT:case E.BOTTOM_RIGHT:return tt.RIGHT;case E.FULL_WIDTH:case E.TOP_FULL_WIDTH:case E.STICKY_TOP_FULL_WIDTH:case E.BOTTOM_FULL_WIDTH:return tt.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}var kG=li([[E.CENTER,"ag-center-cols-container"],[E.LEFT,"ag-pinned-left-cols-container"],[E.RIGHT,"ag-pinned-right-cols-container"],[E.FULL_WIDTH,"ag-full-width-container"],[E.TOP_CENTER,"ag-floating-top-container"],[E.TOP_LEFT,"ag-pinned-left-floating-top"],[E.TOP_RIGHT,"ag-pinned-right-floating-top"],[E.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[E.STICKY_TOP_CENTER,"ag-sticky-top-container"],[E.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[E.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[E.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[E.BOTTOM_CENTER,"ag-floating-bottom-container"],[E.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[E.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[E.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),zG=li([[E.CENTER,"ag-center-cols-viewport"],[E.TOP_CENTER,"ag-floating-top-viewport"],[E.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[E.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Xx=function(i){NG(t,i);function t(e){var n=i.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=e,n.isFullWithContainer=n.name===E.TOP_FULL_WIDTH||n.name===E.STICKY_TOP_FULL_WIDTH||n.name===E.BOTTOM_FULL_WIDTH||n.name===E.FULL_WIDTH,n}return t.getRowContainerCssClasses=function(e){var n=kG.get(e),r=zG.get(e);return{container:n,viewport:r}},t.getPinned=function(e){switch(e){case E.BOTTOM_LEFT:case E.TOP_LEFT:case E.STICKY_TOP_LEFT:case E.LEFT:return"left";case E.BOTTOM_RIGHT:case E.TOP_RIGHT:case E.STICKY_TOP_RIGHT:case E.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([E.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new DG(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case E.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case E.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case E.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case E.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case E.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case E.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case E.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case E.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case E.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case E.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case E.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case E.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this);break}},t.prototype.forContainers=function(e,n){e.indexOf(this.name)>=0&&n()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,n,r){var o=this;this.comp=e,this.eContainer=n,this.eViewport=r,this.createManagedBean(new EG(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var a=[E.TOP_CENTER,E.TOP_LEFT,E.TOP_RIGHT],s=[E.STICKY_TOP_CENTER,E.STICKY_TOP_LEFT,E.STICKY_TOP_RIGHT],l=[E.BOTTOM_CENTER,E.BOTTOM_LEFT,E.BOTTOM_RIGHT],c=[E.CENTER,E.LEFT,E.RIGHT],u=rd(rd(rd(rd([],nd(a),!1),nd(l),!1),nd(c),!1),nd(s),!1),d=[E.CENTER,E.LEFT,E.RIGHT,E.FULL_WIDTH],p=[E.CENTER,E.TOP_CENTER,E.STICKY_TOP_CENTER,E.BOTTOM_CENTER],f=[E.LEFT,E.BOTTOM_LEFT,E.TOP_LEFT,E.STICKY_TOP_LEFT],h=[E.RIGHT,E.BOTTOM_RIGHT,E.TOP_RIGHT,E.STICKY_TOP_RIGHT];this.forContainers(f,function(){o.pinnedWidthFeature=o.createManagedBean(new RG(o.eContainer)),o.addManagedListener(o.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(h,function(){o.pinnedWidthFeature=o.createManagedBean(new AG(o.eContainer)),o.addManagedListener(o.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(d,function(){return o.createManagedBean(new Zx(o.eContainer,o.name===E.CENTER?r:void 0))}),this.forContainers(u,function(){return o.createManagedBean(new PG(o.eContainer))}),this.forContainers(p,function(){return o.createManagedBean(new ty(function(g){return o.comp.setContainerWidth("".concat(g,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return e.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this,n=[E.STICKY_TOP_CENTER,E.STICKY_TOP_LEFT,E.STICKY_TOP_RIGHT,E.STICKY_TOP_FULL_WIDTH],r=n.indexOf(this.name)>=0;if(r){this.comp.setDomOrder(!0);return}var o=function(){var a=e.gridOptionsService.get("ensureDomOrder"),s=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(a||s)};this.addManagedPropertyListener("domLayout",o),o()},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([E.TOP_CENTER,E.STICKY_TOP_CENTER,E.BOTTOM_CENTER],function(){var n=function(){return e.eViewport.scrollLeft=0};e.addManagedListener(e.eViewport,"scroll",n)})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([E.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([E.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,n=function(r){e.dragService.isDragging()&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",n)})},t.prototype.onHorizontalViewportChanged=function(e){e===void 0&&(e=!1);var n=this.getCenterWidth(),r=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,r,e)},t.prototype.getCenterWidth=function(){return oo(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return wl(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var n=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return n()})},t.prototype.isViewportVisible=function(){return zt(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return wl(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowHorizontalScroll");return e||fx(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")},t.prototype.getHScrollPosition=function(){var e={left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth};return e},t.prototype.setCenterViewportScrollLeft=function(e){Cl(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){var e=t.getPinned(this.name);return!e||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())},t.prototype.onDisplayedRowsChanged=function(e){var n=this;if(e===void 0&&(e=!1),this.visible){var r=this.gridOptionsService.isDomLayout("print"),o=this.gridOptionsService.get("embedFullWidthRows"),a=o||r,s=function(c){var u=c.isFullWidth(),d=n.isFullWithContainer?!a&&u:a||!u;return d},l=this.getRowCtrls().filter(s);this.comp.setRowCtrls(l,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},t.prototype.getRowCtrls=function(){switch(this.name){case E.TOP_CENTER:case E.TOP_LEFT:case E.TOP_RIGHT:case E.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case E.STICKY_TOP_CENTER:case E.STICKY_TOP_LEFT:case E.STICKY_TOP_RIGHT:case E.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case E.BOTTOM_CENTER:case E.BOTTOM_LEFT:case E.BOTTOM_RIGHT:case E.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},Xr([m("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Xr([m("dragService")],t.prototype,"dragService",void 0),Xr([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Xr([m("columnModel")],t.prototype,"columnModel",void 0),Xr([m("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Xr([m("animationFrameService")],t.prototype,"animationFrameService",void 0),Xr([m("rowRenderer")],t.prototype,"rowRenderer",void 0),Xr([I],t.prototype,"postConstruct",null),t}(T),VG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_r=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},GG=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="`.concat(E.TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="`).concat(E.TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="`).concat(E.TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="`).concat(E.TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="`).concat(E.LEFT,`"></ag-row-container>
                <ag-row-container ref="centerContainer" name="`).concat(E.CENTER,`"></ag-row-container>
                <ag-row-container ref="rightContainer" name="`).concat(E.RIGHT,`"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="`).concat(E.FULL_WIDTH,`"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="`).concat(E.STICKY_TOP_LEFT,`"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="`).concat(E.STICKY_TOP_CENTER,`"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="`).concat(E.STICKY_TOP_RIGHT,`"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="`).concat(E.STICKY_TOP_FULL_WIDTH,`"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="`).concat(E.BOTTOM_LEFT,`"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="`).concat(E.BOTTOM_CENTER,`"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="`).concat(E.BOTTOM_RIGHT,`"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="`).concat(E.BOTTOM_FULL_WIDTH,`"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`),HG=function(i){VG(t,i);function t(){return i.call(this,GG)||this}return t.prototype.init=function(){var e=this,n=function(o,a){var s="".concat(o,"px");a.style.minHeight=s,a.style.height=s},r={setRowAnimationCssOnBodyViewport:function(o,a){return e.setRowAnimationCssOnBodyViewport(o,a)},setColumnCount:function(o){return ex(e.getGui(),o)},setRowCount:function(o){return J0(e.getGui(),o)},setTopHeight:function(o){return n(o,e.eTop)},setBottomHeight:function(o){return n(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,a){return e.addOrRemoveCssClass(o,a)},updateLayoutClasses:function(o,a){var s=[e.eBodyViewport.classList,e.eBody.classList];s.forEach(function(l){l.toggle(Xe.AUTO_HEIGHT,a.autoHeight),l.toggle(Xe.NORMAL,a.normal),l.toggle(Xe.PRINT,a.print)}),e.addOrRemoveCssClass(Xe.AUTO_HEIGHT,a.autoHeight),e.addOrRemoveCssClass(Xe.NORMAL,a.normal),e.addOrRemoveCssClass(Xe.PRINT,a.print)},setAlwaysVerticalScrollClass:function(o,a){return e.eBodyViewport.classList.toggle(Yx,a)},registerBodyViewportResizeListener:function(o){var a=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return a()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,a){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(s){return s.classList.toggle(o,a)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new LV),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||this.gridOptionsService.get("rowSelection")==="multiple")&&X0(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,n){var r=this.eBodyViewport.classList;r.toggle(Sl.ANIMATION_ON,n),r.toggle(Sl.ANIMATION_OFF,!n)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},_r([m("resizeObserverService")],t.prototype,"resizeObserverService",void 0),_r([ye("rangeService")],t.prototype,"rangeService",void 0),_r([P("eBodyViewport")],t.prototype,"eBodyViewport",void 0),_r([P("eStickyTop")],t.prototype,"eStickyTop",void 0),_r([P("eTop")],t.prototype,"eTop",void 0),_r([P("eBottom")],t.prototype,"eBottom",void 0),_r([P("gridHeader")],t.prototype,"headerRootComp",void 0),_r([P("eBody")],t.prototype,"eBody",void 0),_r([I],t.prototype,"init",null),t}(te),jG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_m=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},BG=function(i){jG(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var n={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},t.prototype.setScrollsVisible=function(e){var n=this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing;if(n){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var r={type:v.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(r)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},_m([m("ctrlsService")],t.prototype,"ctrlsService",void 0),_m([I],t.prototype,"postConstruct",null),t=_m([z("scrollVisibleService")],t),t}(T),UG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},WG=function(i){UG(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.gridInstanceId=e.gridInstanceSequence.next(),n}e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(n){return Td(this.gridOptionsService,n.target,eo.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(n){var r=this.isElementInThisGrid(n.target);return r},t.prototype.isElementInThisGrid=function(n){for(var r=n;r;){var o=r[e.GRID_DOM_KEY];if(x(o)){var a=o===this.gridInstanceId;return a}r=r.parentElement}return!1},t.prototype.getCellPositionForEvent=function(n){var r=this.getRenderedCellForEvent(n);return r?r.getCellPosition():null},t.prototype.getNormalisedPosition=function(n){var r=this.gridOptionsService.isDomLayout("normal"),o=n,a,s;if(o.clientX!=null||o.clientY!=null?(a=o.clientX,s=o.clientY):(a=o.x,s=o.y),r){var l=this.ctrlsService.getGridBodyCtrl(),c=l.getScrollFeature().getVScrollPosition(),u=l.getScrollFeature().getHScrollPosition();a+=u.left,s+=c.top}return{x:a,y:s}};var e;return t.gridInstanceSequence=new Ea,t.GRID_DOM_KEY="__ag_grid_instance",zE([m("ctrlsService")],t.prototype,"ctrlsService",void 0),t=e=zE([z("mouseEventService")],t),t}(T),qG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vd=function(){return Vd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Vd.apply(this,arguments)},Rt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$G=function(i){qG(t,i);function t(){var e=i.call(this)||this;return e.onPageDown=Jm(e.onPageDown,100),e.onPageUp=Jm(e.onPageUp,100),e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,n){n===void 0&&(n=!1);var r=e.key,o=e.altKey,a=e.ctrlKey||e.metaKey,s=!!this.rangeService&&e.shiftKey,l=this.mouseEventService.getCellPositionForEvent(e),c=!1;switch(r){case S.PAGE_HOME:case S.PAGE_END:!a&&!o&&(this.onHomeOrEndKey(r),c=!0);break;case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:if(!l)return!1;a&&!o&&!s&&(this.onCtrlUpDownLeftRight(r,l),c=!0);break;case S.PAGE_DOWN:case S.PAGE_UP:!a&&!o&&(c=this.handlePageUpDown(r,l,n));break}return c&&e.preventDefault(),c},t.prototype.handlePageUpDown=function(e,n,r){return r&&(n=this.focusService.getFocusedCell()),n?(e===S.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0):!1},t.prototype.navigateTo=function(e){var n=e.scrollIndex,r=e.scrollType,o=e.scrollColumn,a=e.focusIndex,s=e.focusColumn;if(x(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),x(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,r),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(a),this.focusService.setFocusedCell({rowIndex:a,column:s,rowPinned:null,forceBrowserFocus:!0}),this.rangeService){var l={rowIndex:a,rowPinned:null,column:s};this.rangeService.setRangeToCell(l)}},t.prototype.onPageDown=function(e){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),a=this.paginationProxy.getPixelOffset(),s=r.top+o,l=this.paginationProxy.getRowIndexAtPixel(s+a);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l):this.navigateToNextPage(e,l)},t.prototype.onPageUp=function(e){var n=this.ctrlsService.getGridBodyCtrl(),r=n.getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),a=r.top,s=this.paginationProxy.getRowIndexAtPixel(a+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,s,!0):this.navigateToNextPage(e,s,!0)},t.prototype.navigateToNextPage=function(e,n,r){r===void 0&&(r=!1);var o=this.getViewportHeight(),a=this.paginationProxy.getPageFirstRow(),s=this.paginationProxy.getPageLastRow(),l=this.paginationProxy.getPixelOffset(),c=this.paginationProxy.getRow(e.rowIndex),u=r?c?.rowHeight-o-l:o-l,d=c?.rowTop+u,p=this.paginationProxy.getRowIndexAtPixel(d+l);if(p===e.rowIndex){var f=r?-1:1;n=p=e.rowIndex+f}var h;r?(h="bottom",p<a&&(p=a),n<a&&(n=a)):(h="top",p>s&&(p=s),n>s&&(n=s)),this.isRowTallerThanView(p)&&(n=p,h="top"),this.navigateTo({scrollIndex:n,scrollType:h,scrollColumn:null,focusIndex:p,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,n,r){var o=this;r===void 0&&(r=!1),this.navigateTo({scrollIndex:n,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column}),setTimeout(function(){var a=o.getNextFocusIndexForAutoHeight(e,r);o.navigateTo({scrollIndex:n,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:a,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,n){var r;n===void 0&&(n=!1);for(var o=n?-1:1,a=this.getViewportHeight(),s=this.paginationProxy.getPageLastRow(),l=0,c=e.rowIndex;c>=0&&c<=s;){var u=this.paginationProxy.getRow(c);if(u){var d=(r=u.rowHeight)!==null&&r!==void 0?r:0;if(l+d>a)break;l+=d}c+=o}return Math.max(0,Math.min(c,s))},t.prototype.getViewportHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),n=e.getScrollFeature().getVScrollPosition(),r=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=r),o},t.prototype.isRowTallerThanView=function(e){var n=this.paginationProxy.getRow(e);if(!n)return!1;var r=n.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,n){var r=this.cellNavigationService.getNextCellToFocus(e,n,!0),o=r.rowIndex,a=r.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:a,focusIndex:o,focusColumn:a})},t.prototype.onHomeOrEndKey=function(e){var n=e===S.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),o=n?r[0]:be(r),a=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:a,scrollType:null,scrollColumn:o,focusIndex:a,focusColumn:o})},t.prototype.onTabKeyDown=function(e,n){var r=n.shiftKey,o=this.tabToNextCellCommon(e,r,n);if(o){n.preventDefault();return}if(r){var a=e.getRowPosition(),s=a.rowIndex,l=a.rowPinned,c=l?s===0:s===this.paginationProxy.getPageFirstRow();c&&(this.gridOptionsService.get("headerHeight")===0?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else e instanceof eo&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&n.preventDefault()},t.prototype.tabToNextCell=function(e,n){var r=this.focusService.getFocusedCell();if(!r)return!1;var o=this.getCellByPosition(r);return!o&&(o=this.rowRenderer.getRowByPosition(r),!o||!o.isFullWidth())?!1:this.tabToNextCellCommon(o,e,n)},t.prototype.tabToNextCellCommon=function(e,n,r){var o=e.isEditing();if(!o&&e instanceof eo){var a=e,s=a.getRowCtrl();s&&(o=s.isEditing())}var l;return o?this.gridOptionsService.get("editType")==="fullRow"?l=this.moveToNextEditingRow(e,n,r):l=this.moveToNextEditingCell(e,n,r):l=this.moveToNextCellNotEditing(e,n),l||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,n,r){r===void 0&&(r=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var a=this.findNextCellToFocusOn(o,n,!0);return a==null?!1:(a.startEditing(null,!0,r),a.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,n,r){r===void 0&&(r=null);var o=e.getCellPosition(),a=this.findNextCellToFocusOn(o,n,!0);if(a==null)return!1;var s=a.getCellPosition(),l=this.isCellEditable(o),c=this.isCellEditable(s),u=s&&o.rowIndex===s.rowIndex&&o.rowPinned===s.rowPinned;if(l&&e.setFocusOutOnEditor(),!u){var d=e.getRowCtrl();d.stopEditing();var p=a.getRowCtrl();p.startRowEditing(void 0,void 0,r)}return c?(a.setFocusInOnEditor(),a.focusCell()):a.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,n){var r=this.columnModel.getAllDisplayedColumns(),o;e instanceof to?o=Vd(Vd({},e.getRowPosition()),{column:n?r[0]:be(r)}):o=e.getCellPosition();var a=this.findNextCellToFocusOn(o,n,!1);if(a instanceof eo)a.focusCell(!0);else if(a)return this.tryToFocusFullWidthRow(a.getRowPosition(),n);return x(a)},t.prototype.findNextCellToFocusOn=function(e,n,r){for(var o=e;;){e!==o&&(e=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var a=this.gridOptionsService.getCallback("tabToNextCell");if(x(a)){var s={backwards:n,editing:r,previousCellPosition:e,nextCellPosition:o||null},l=a(s);x(l)?(l.floating&&(J("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),o={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var c=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:c+o.rowIndex,column:o.column},fromCell:!0}),null}var u=this.gridOptionsService.get("editType")==="fullRow";if(r&&!u){var d=this.isCellEditable(o);if(!d)continue}this.ensureCellVisible(o);var p=this.getCellByPosition(o);if(!p){var f=this.rowRenderer.getRowByPosition(o);if(!f||!f.isFullWidth()||r)continue;return f}if(!p.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),p}},t.prototype.isCellEditable=function(e){var n=this.lookupRowNodeForCell(e);return n?e.column.isCellEditable(n):!1},t.prototype.getCellByPosition=function(e){var n=this.rowRenderer.getRowByPosition(e);return n?n.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,n,r,o){for(var a=r,s=!1;a&&(a===r||!this.isValidNavigateCell(a));)this.gridOptionsService.get("enableRtl")?n===S.LEFT&&(a=this.getLastCellOfColSpan(a)):n===S.RIGHT&&(a=this.getLastCellOfColSpan(a)),a=this.cellNavigationService.getNextCellToFocus(n,a),s=K(a);if(s&&e&&e.key===S.UP&&(a={rowIndex:-1,rowPinned:null,column:r.column}),o){var l=this.gridOptionsService.getCallback("navigateToNextCell");if(x(l)){var c={key:n,previousCellPosition:r,nextCellPosition:a||null,event:e},u=l(c);x(u)?(u.floating&&(J("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),u.rowPinned=u.floating),a={rowPinned:u.rowPinned,rowIndex:u.rowIndex,column:u.column}):a=null}}if(a){if(a.rowIndex<0){var d=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:d+a.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}var p=this.getNormalisedPosition(a);p?this.focusPosition(p):this.tryToFocusFullWidthRow(a)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var n=this.getCellByPosition(e);return n?(e=n.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,n){n===void 0&&(n=!1);var r=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var a=this.focusService.getFocusedCell(),s={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(n?be(r):r[0])};this.focusPosition(s);var l=a!=null?this.rowPositionUtils.before(s,a):!1,c={type:v.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:s.column,isFullWidthCell:!0,floating:s.rowPinned,fromBelow:l};return this.eventService.dispatchEvent(c),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){var n=this.rowPositionUtils.getRowNode(e);return!!n},t.prototype.getLastCellOfColSpan=function(e){var n=this.getCellByPosition(e);if(!n)return e;var r=n.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:be(r),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var n=this.gridOptionsService.isGroupRowsSticky(),r=this.rowModel.getRow(e.rowIndex),o=n&&r?.sticky;!o&&K(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Rt([m("mouseEventService")],t.prototype,"mouseEventService",void 0),Rt([m("paginationProxy")],t.prototype,"paginationProxy",void 0),Rt([m("focusService")],t.prototype,"focusService",void 0),Rt([ye("rangeService")],t.prototype,"rangeService",void 0),Rt([m("columnModel")],t.prototype,"columnModel",void 0),Rt([m("rowModel")],t.prototype,"rowModel",void 0),Rt([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Rt([m("rowRenderer")],t.prototype,"rowRenderer",void 0),Rt([m("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Rt([m("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Rt([m("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Rt([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Rt([I],t.prototype,"postConstruct",null),t=Rt([z("navigationService")],t),t}(T),KG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),YG=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},QG=function(i){KG(t,i);function t(e){var n=i.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,n=this.getGui(),r=this.params,o=function(a){Id(e.gridOptionsService,a,r.node,r.column,!0)||r.onKeyDown(a)};this.addManagedListener(n,"keydown",o)},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",YG([I],t.prototype,"postConstruct",null),t}(so),ZG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),XG=function(i){ZG(t,i);function t(e,n,r,o,a){var s=i.call(this)||this;s.rendererVersion=0,s.editorVersion=0,s.beans=e,s.column=n.getColumn(),s.rowNode=n.getRowNode(),s.rowCtrl=n.getRowCtrl(),s.eRow=o,s.cellCtrl=n,s.setTemplate('<div comp-id="'.concat(s.getCompId(),'"/>'));var l=s.getGui();s.forceWrapper=n.isForceWrapper(),s.refreshWrapper(!1);var c=function(p,f){f!=null&&f!=""?l.setAttribute(p,f):l.removeAttribute(p)};Je(l,n.getCellAriaRole()),c("col-id",n.getColumnIdSanitised());var u=n.getTabIndex();u!==void 0&&c("tabindex",u.toString());var d={addOrRemoveCssClass:function(p,f){return s.addOrRemoveCssClass(p,f)},setUserStyles:function(p){return jv(l,p)},getFocusableElement:function(){return s.getFocusableElement()},setIncludeSelection:function(p){return s.includeSelection=p},setIncludeRowDrag:function(p){return s.includeRowDrag=p},setIncludeDndSource:function(p){return s.includeDndSource=p},setRenderDetails:function(p,f,h){return s.setRenderDetails(p,f,h)},setEditDetails:function(p,f,h){return s.setEditDetails(p,f,h)},getCellEditor:function(){return s.cellEditor||null},getCellRenderer:function(){return s.cellRenderer||null},getParentOfValue:function(){return s.getParentOfValue()}};return n.setComp(d,s.getGui(),s.eCellWrapper,r,a),s}return t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,n,r){var o=this.cellEditor&&!this.cellEditorPopupWrapper;if(!o){this.firstRender=this.firstRender==null;var a=this.refreshWrapper(!1);if(this.refreshEditStyles(!1),e){var s=r||a,l=s?!1:this.refreshCellRenderer(e);l||(this.destroyRenderer(),this.createCellRendererInstance(e))}else this.destroyRenderer(),this.insertValueWithoutCellRenderer(n)}},t.prototype.setEditDetails=function(e,n,r){e?this.createCellEditorInstance(e,n,r):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,r=n||this.forceWrapper,o=r&&this.eCellWrapper==null;o&&(this.eCellWrapper=ct('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var a=!r&&this.eCellWrapper!=null;a&&(Rr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!r);var s=!e&&r,l=s&&this.eCellValue==null;l&&(this.eCellValue=ct('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var c=!s&&this.eCellValue!=null;c&&(Rr(this.eCellValue),this.eCellValue=void 0);var u=o||a||l||c;return u&&this.removeControls(),e||n&&this.addControls(),u},t.prototype.addControls=function(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,n,r){var o=this,a=this.editorVersion,s=e.newAgStackInstance();if(s){var l=e.params;s.then(function(u){return o.afterCellEditorCreated(a,u,l,n,r)});var c=K(this.cellEditor);c&&l.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var n=this.getParentOfValue();rt(n);var r=e!=null?$e(e):null;r!=null&&(n.innerHTML=r)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){var e=this.beans.context;this.cellRenderer=e.destroyBean(this.cellRenderer),Rr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Rr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;var n=this.cellRenderer.refresh(e.params);return n===!0||n===void 0},t.prototype.createCellRendererInstance=function(e){var n=this,r=this.beans.gridOptionsService.get("suppressAnimationFrame"),o=!r,a=this.rendererVersion,s=e.componentClass,l=function(){var c=n.rendererVersion!==a||!n.isAlive();if(!c){var u=e.newAgStackInstance(),d=n.afterCellRendererCreated.bind(n,a,s);u&&u.then(d)}};o&&this.firstRender?this.beans.animationFrameService.createTask(l,this.rowNode.rowIndex,"createTasksP2"):l()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,n,r){var o=!this.isAlive()||e!==this.rendererVersion;if(o){this.beans.context.destroyBean(r);return}if(this.cellRenderer=r,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){var a=this.getParentOfValue();rt(a),a.appendChild(this.cellRendererGui)}},t.prototype.afterCellEditorCreated=function(e,n,r,o,a){var s=e!==this.editorVersion;if(s){this.beans.context.destroyBean(n);return}var l=n.isCancelBeforeStart&&n.isCancelBeforeStart();if(l){this.beans.context.destroyBean(n),this.cellCtrl.stopEditing(!0);return}if(!n.getGui){console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),this.beans.context.destroyBean(n);return}this.cellEditor=n,this.cellEditorGui=n.getGui();var c=o||n.isPopup!==void 0&&n.isPopup();c?this.addPopupCellEditor(r,a):this.addInCellEditor(),this.refreshEditStyles(!0,c),n.afterGuiAttached&&n.afterGuiAttached()},t.prototype.refreshEditStyles=function(e,n){var r;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!n),(r=this.rowCtrl)===null||r===void 0||r.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),n=this.beans.gridOptionsService.getDocument();if(e.contains(n.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui){var r=this.getParentOfValue();r.appendChild(this.cellEditorGui)}},t.prototype.addPopupCellEditor=function(e,n){var r=this;this.beans.gridOptionsService.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new QG(e));var a=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&a.appendChild(this.cellEditorGui);var s=this.beans.popupService,l=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),c=n??(o.getPopupPosition?o.getPopupPosition():"over"),u=this.beans.gridOptionsService.get("enableRtl"),d={ePopup:a,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:c,alignSide:u?"right":"left",keepWithinBounds:!0},p=s.positionPopupByComponent.bind(s,d),f=this.beans.localeService.getLocaleTextFunc(),h=s.addPopup({modal:l,eChild:a,closeOnEsc:!0,closedCallback:function(){r.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:p,ariaLabel:f("ariaLabelCellEditor","Cell Editor")});h&&(this.hideEditorPopup=h.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),i.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),n=this.beans.gridOptionsService.getDocument();e.contains(n.activeElement)&&Zd()&&e.focus({preventScroll:!0}),rt(this.getParentOfValue())},t}(te),JG=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),eH=function(i){JG(t,i);function t(e,n,r){var o=i.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=e,o.setTemplate('<div comp-id="'.concat(o.getCompId(),'" style="').concat(o.getInitialStyle(r),'"/>'));var a=o.getGui(),s=a.style;o.domOrder=o.rowCtrl.getDomOrder(),Je(a,"row");var l=o.rowCtrl.getTabIndex();l!=null&&a.setAttribute("tabindex",l.toString());var c={setDomOrder:function(u){return o.domOrder=u},setCellCtrls:function(u){return o.setCellCtrls(u)},showFullWidth:function(u){return o.showFullWidth(u)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(u,d){return o.addOrRemoveCssClass(u,d)},setUserStyles:function(u){return jv(a,u)},setTop:function(u){return s.top=u},setTransform:function(u){return s.transform=u},setRowIndex:function(u){return a.setAttribute("row-index",u)},setRowId:function(u){return a.setAttribute("row-id",u)},setRowBusinessKey:function(u){return a.setAttribute("row-business-key",u)}};return e.setComp(c,o.getGui(),r),o.addDestroyFunc(function(){e.unsetComp(r)}),o}return t.prototype.getInitialStyle=function(e){var n=this.rowCtrl.getInitialTransform(e),r=this.rowCtrl.getInitialRowTop(e);return n?"transform: ".concat(n):"top: ".concat(r)},t.prototype.showFullWidth=function(e){var n=this,r=function(a){if(n.isAlive()){var s=a.getGui();n.getGui().appendChild(s),n.rowCtrl.setupDetailRowAutoHeight(s),n.setFullWidthRowComp(a)}else n.beans.context.destroyBean(a)},o=e.newAgStackInstance();o&&o.then(r)},t.prototype.setCellCtrls=function(e){var n=this,r=Object.assign({},this.cellComps);e.forEach(function(a){var s=a.getInstanceId(),l=n.cellComps[s];l==null?n.newCellComp(a):r[s]=null});var o=pi(r).filter(function(a){return a!=null});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var n=this;if(this.domOrder){var r=[];e.forEach(function(o){var a=n.cellComps[o.getInstanceId()];a&&r.push(a.getGui())}),Hv(this.getGui(),r)}},t.prototype.newCellComp=function(e){var n=new XG(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=pi(this.cellComps).filter(function(n){return n!=null});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var n=this;e.forEach(function(r){if(r){var o=r.getCtrl().getInstanceId();n.cellComps[o]===r&&(r.detach(),r.destroy(),n.cellComps[o]=null)}})},t}(te),tH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mv=function(){return mv=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},mv.apply(this,arguments)},Vs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};function nH(){var i=te.elementGettingCreated.getAttribute("name"),t=Xx.getRowContainerCssClasses(i),e,n=i===E.CENTER||i===E.TOP_CENTER||i===E.STICKY_TOP_CENTER||i===E.BOTTOM_CENTER;return n?e='<div class="'.concat(t.viewport,`" ref="eViewport" role="presentation">
                <div class="`).concat(t.container,`" ref="eContainer"></div>
            </div>`):e='<div class="'.concat(t.container,'" ref="eContainer"></div>'),e}var rH=function(i){tH(t,i);function t(){var e=i.call(this,nH())||this;return e.rowComps={},e.name=te.elementGettingCreated.getAttribute("name"),e.type=LG(e.name),e}return t.prototype.postConstruct=function(){var e=this,n={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){return e.setRowCtrls(o)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}},r=this.createManagedBean(new Xx(this.name));r.setComp(n,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var n=this,r=mv({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;var o=function(a){var s=a.getInstanceId(),l=r[s];if(l)n.rowComps[s]=l,delete r[s],n.ensureDomOrder(l.getGui());else{if(!a.getRowNode().displayed)return;var c=new eH(a,n.beans,n.type);n.rowComps[s]=c,n.appendRow(c.getGui())}};e.forEach(o),pi(r).forEach(function(a){n.eContainer.removeChild(a.getGui()),a.destroy()}),Je(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?px(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(Gv(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},Vs([m("beans")],t.prototype,"beans",void 0),Vs([P("eViewport")],t.prototype,"eViewport",void 0),Vs([P("eContainer")],t.prototype,"eContainer",void 0),Vs([I],t.prototype,"postConstruct",null),Vs([_t],t.prototype,"preDestroy",null),t}(te),VE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},iH=function(){function i(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return i.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var n=t.dragItem.columns;n&&n.forEach(function(r){r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?e.columnsToAggregate.push(r):r.isAllowRowGroup()?e.columnsToGroup.push(r):r.isAllowPivot()&&e.columnsToPivot.push(r)))})}},i.prototype.getIconName=function(){var t=this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length;return t>0?this.pinned?nt.ICON_PINNED:nt.ICON_MOVE:null},i.prototype.onDragLeave=function(t){this.clearColumnsList()},i.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},i.prototype.onDragging=function(t){},i.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},VE([m("columnModel")],i.prototype,"columnModel",void 0),VE([m("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i}(),oH=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},no=function(){function i(){}return i.attemptMoveColumns=function(t){var e=t.isFromHeader,n=t.hDirection,r=t.xPosition,o=t.fromEnter,a=t.fakeEvent,s=t.pinned,l=t.gridOptionsService,c=t.columnModel,u=n===kt.Left,d=n===kt.Right,p=t.allMovingColumns;if(e){var f=[];p.forEach(function(U){for(var ne,Se=null,Ne=U.getParent();Ne!=null&&Ne.getDisplayedLeafColumns().length===1;)Se=Ne,Ne=Ne.getParent();if(Se!=null){var Ee=!!(!((ne=Se.getColGroupDef())===null||ne===void 0)&&ne.marryChildren),H=Ee?Se.getProvidedColumnGroup().getLeafColumns():Se.getLeafColumns();H.forEach(function(L){f.includes(L)||f.push(L)})}else f.includes(U)||f.push(U)}),p=f}var h=p.slice();c.sortColumnsLikeGridColumns(h);var g=this.calculateValidMoves({movingCols:h,draggingRight:d,xPosition:r,pinned:s,gridOptionsService:l,columnModel:c}),y=this.calculateOldIndex(h,c);if(g.length!==0){var w=g[0],C=y!==null&&!o;if(e&&(C=y!==null),!(C&&!a&&(u&&w>=y||d&&w<=y))){for(var b=c.getAllDisplayedColumns(),_=[],D=null,R=0;R<g.length;R++){var M=g[R],O=c.getProposedColumnOrder(h,M);if(c.doesOrderPassRules(O)){var k=O.filter(function(U){return b.includes(U)});if(D===null)D=k;else if(!Tr(k,D))break;var V=this.groupFragCount(O);_.push({move:M,fragCount:V})}}if(_.length!==0)return _.sort(function(U,ne){return U.fragCount-ne.fragCount}),this.moveColumns(p,_[0].move,"uiColumnMoved",!1,c)}}},i.moveColumns=function(t,e,n,r,o){return o.moveColumns(t,e,n,r),r?null:{columns:t,toIndex:e}},i.calculateOldIndex=function(t,e){var n=e.getAllGridColumns(),r=P0(t.map(function(c){return n.indexOf(c)})),o=r[0],a=be(r),s=a-o,l=s!==r.length-1;return l?null:o},i.groupFragCount=function(t){function e(a){for(var s=[],l=a.getOriginalParent();l!=null;)s.push(l),l=l.getOriginalParent();return s}for(var n=0,r=function(a){var s,l=e(t[a]),c=e(t[a+1]);s=oH(l.length>c.length?[l,c]:[c,l],2),l=s[0],c=s[1],l.forEach(function(u){c.indexOf(u)===-1&&n++})},o=0;o<t.length-1;o++)r(o);return n},i.calculateValidMoves=function(t){var e=t.movingCols,n=t.draggingRight,r=t.xPosition,o=t.pinned,a=t.gridOptionsService,s=t.columnModel,l=a.get("suppressMovableColumns")||e.some(function(U){return U.getColDef().suppressMovable});if(l)return[];var c=s.getDisplayedColumns(o),u=s.getAllGridColumns(),d=c.filter(function(U){return gn(e,U)}),p=c.filter(function(U){return!gn(e,U)}),f=u.filter(function(U){return!gn(e,U)}),h=0,g=r;if(n){var y=0;d.forEach(function(U){return y+=U.getActualWidth()}),g-=y}if(g>0){for(var w=0;w<p.length;w++){var C=p[w];if(g-=C.getActualWidth(),g<0)break;h++}n&&h++}var b;if(h>0){var _=p[h-1];b=f.indexOf(_)+1}else b=f.indexOf(p[0]),b===-1&&(b=0);var D=[b],R=function(U,ne){return U-ne};if(n){for(var M=b+1,O=u.length-1;M<=O;)D.push(M),M++;D.sort(R)}else{for(var M=b,O=u.length-1,k=u[M];M<=O&&c.indexOf(k)<0;)M++,D.push(M),k=u[M];M=b-1;for(var V=0;M>=V;)D.push(M),M--;D.sort(R).reverse()}return D},i.normaliseX=function(t,e,n,r,o){var a=o.getHeaderRowContainerCtrl(e).getViewport();if(n&&(t-=a.getBoundingClientRect().left),r.get("enableRtl")){var s=a.clientWidth;t=s-t}return e==null&&(t+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},i}(),Gs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},aH=function(){function i(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!x(t)}return i.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},i.prototype.getIconName=function(){return this.pinned?nt.ICON_PINNED:nt.ICON_MOVE},i.prototype.onDragEnter=function(t){var e=t.dragItem.columns,n=t.dragSource.type===Jt.ToolPanel;if(n)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var r=t.dragItem.visibleState,o=(e||[]).filter(function(a){return r[a.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},i.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},i.prototype.setColumnsVisible=function(t,e,n){if(n===void 0&&(n="api"),t){var r=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(r,e,n)}},i.prototype.setColumnsPinned=function(t,e,n){if(n===void 0&&(n="api"),t){var r=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(r,e,n)}},i.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},i.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},i.prototype.onDragging=function(t,e,n,r){var o=this,a;if(t===void 0&&(t=this.lastDraggingEvent),e===void 0&&(e=!1),n===void 0&&(n=!1),r===void 0&&(r=!1),r){if(this.lastMovedInfo){var s=this.lastMovedInfo,l=s.columns,c=s.toIndex;no.moveColumns(l,c,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=t,!K(t.hDirection)){var u=no.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(u);var d=this.normaliseDirection(t.hDirection),p=t.dragSource.type,f=((a=t.dragSource.getDragItem().columns)===null||a===void 0?void 0:a.filter(function(g){return g.getColDef().lockPinned?g.getPinned()==o.pinned:!0}))||[],h=no.attemptMoveColumns({allMovingColumns:f,isFromHeader:p===Jt.HeaderCell,hDirection:d,xPosition:u,pinned:this.pinned,fromEnter:e,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});h&&(this.lastMovedInfo=h)}},i.prototype.normaliseDirection=function(t){if(this.gridOptionsService.get("enableRtl"))switch(t){case kt.Left:return kt.Right;case kt.Right:return kt.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}else return t},i.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(nt.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(nt.ICON_RIGHT,!0))},i.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(nt.ICON_MOVE))},i.prototype.moveInterval=function(){var t;this.intervalCount++,t=10+this.intervalCount*5,t>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var r=this.lastDraggingEvent.dragItem.columns,o=r.filter(function(s){return!s.getColDef().lockPinned});if(o.length>0&&(this.dragAndDropService.setGhostIcon(nt.ICON_PINNED),this.failedMoveAttempts>7)){var a=this.needToMoveLeft?"left":"right";this.setColumnsPinned(o,a,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Gs([m("columnModel")],i.prototype,"columnModel",void 0),Gs([m("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Gs([m("gridOptionsService")],i.prototype,"gridOptionsService",void 0),Gs([m("ctrlsService")],i.prototype,"ctrlsService",void 0),Gs([I],i.prototype,"init",null),i}(),sH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},lH=function(i){sH(t,i);function t(e,n){var r=i.call(this)||this;return r.pinned=e,r.eContainer=n,r}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){switch(e.pinned){case"left":e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]];break}})},t.prototype.isInterestedIn=function(e){return e===Jt.HeaderCell||e===Jt.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new aH(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new iH(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===Jt.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Hs([m("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Hs([m("columnModel")],t.prototype,"columnModel",void 0),Hs([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Hs([I],t.prototype,"postConstruct",null),Hs([I],t.prototype,"init",null),t}(T),cH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),id=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},uH=function(i){cH(t,i);function t(e){var n=i.call(this,t.TEMPLATE,e)||this;return n.headerCompVersion=0,n.column=e.getColumnGroupChild(),n.pinned=e.getPinned(),n}return t.prototype.postConstruct=function(){var e=this,n=this.getGui(),r=function(s,l){l!=null&&l!=""?n.setAttribute(s,l):n.removeAttribute(s)};r("col-id",this.column.getColId());var o={setWidth:function(s){return n.style.width=s},addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setAriaDescription:function(s){return Y0(n,s)},setAriaSort:function(s){return s?nx(n,s):rx(n)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var a=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",a)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var n=this;this.headerCompVersion++;var r=this.headerCompVersion;e.newAgStackInstance().then(function(o){return n.afterCompCreated(r,o)})},t.prototype.afterCompCreated=function(e,n){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(n);return}this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())},t.TEMPLATE=`<div class="ag-header-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,id([P("eResize")],t.prototype,"eResize",void 0),id([P("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),id([I],t.prototype,"postConstruct",null),id([_t],t.prototype,"destroyHeaderComp",null),t}(Xv),dH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},pH=function(i){dH(t,i);function t(e){return i.call(this,t.TEMPLATE,e)||this}return t.prototype.postConstruct=function(){var e=this,n=this.getGui(),r=function(a,s){return s!=null?n.setAttribute(a,s):n.removeAttribute(a)};n.setAttribute("col-id",this.ctrl.getColId());var o={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setResizableDisplayed:function(a){return we(e.eResize,a)},setWidth:function(a){return n.style.width=a},setAriaExpanded:function(a){return r("aria-expanded",a)},setUserCompDetails:function(a){return e.setUserCompDetails(a)},getUserCompInstance:function(){return e.headerGroupComp}};this.ctrl.setComp(o,n,this.eResize)},t.prototype.setUserCompDetails=function(e){var n=this;e.newAgStackInstance().then(function(r){return n.afterHeaderCompCreated(r)})},t.prototype.afterHeaderCompCreated=function(e){var n=this,r=function(){return n.destroyBean(e)};if(!this.isAlive()){r();return}var o=this.getGui(),a=e.getGui();o.appendChild(a),this.addDestroyFunc(r),this.headerGroupComp=e,this.ctrl.setDragSource(o)},t.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader" tabindex="-1">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,Sm([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Sm([P("eResize")],t.prototype,"eResize",void 0),Sm([I],t.prototype,"postConstruct",null),t}(Xv),fH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),GE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ht=function(i){return i.COLUMN_GROUP="group",i.COLUMN="column",i.FLOATING_FILTER="filter",i}(ht||{}),hH=function(i){fH(t,i);function t(e){var n=i.call(this)||this;return n.headerComps={},n.ctrl=e,n.setTemplate('<div class="'.concat(n.ctrl.getHeaderRowClass(),'" role="row"></div>')),n}return t.prototype.init=function(){var e=this;this.getGui().style.transform=this.ctrl.getTransform(),Rv(this.getGui(),this.ctrl.getAriaRowIndex());var n={setHeight:function(r){return e.getGui().style.height=r},setTop:function(r){return e.getGui().style.top=r},setHeaderCtrls:function(r,o){return e.setHeaderCtrls(r,o)},setWidth:function(r){return e.getGui().style.width=r}};this.ctrl.setComp(n)},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,n){var r=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(l){var c=l.getInstanceId(),u=o[c];delete o[c],u==null&&(u=r.createHeaderComp(l),r.getGui().appendChild(u.getGui())),r.headerComps[c]=u}),ft(o,function(l,c){r.getGui().removeChild(c.getGui()),r.destroyBean(c)}),n){var a=pi(this.headerComps);a.sort(function(l,c){var u=l.getCtrl().getColumnGroupChild().getLeft(),d=c.getCtrl().getColumnGroupChild().getLeft();return u-d});var s=a.map(function(l){return l.getGui()});Hv(this.getGui(),s)}}},t.prototype.createHeaderComp=function(e){var n;switch(this.ctrl.getType()){case ht.COLUMN_GROUP:n=new pH(e);break;case ht.FLOATING_FILTER:n=new EV(e);break;default:n=new uH(e);break}return this.createBean(n),n.setParentComponent(this),n},GE([I],t.prototype,"init",null),GE([_t],t.prototype,"destroyHeaderCtrls",null),t}(te),gH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),js=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},mH=0,op=function(i){gH(t,i);function t(e,n){var r=i.call(this)||this;return r.resizeToggleTimeout=0,r.resizeMultiplier=1,r.resizeFeature=null,r.lastFocusEvent=null,r.dragSource=null,r.columnGroupChild=e,r.parentRowCtrl=n,r.instanceId=e.getUniqueId()+"-"+mH++,r}return t.prototype.shouldStopEventPropagation=function(e){var n=this.focusService.getFocusedHeader(),r=n.headerRowIndex,o=n.column;return wx(this.gridOptionsService,e,r,o)},t.prototype.getWrapperHasFocus=function(){var e=this.gridOptionsService.getDocument(),n=e.activeElement;return n===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged()},t.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},t.prototype.refreshFirstAndLastStyles=function(){var e=this,n=e.comp,r=e.column,o=e.beans;ip.refreshFirstAndLastStyles(n,r,o.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this,n=e.beans,r=e.column,o=n.columnModel.getAriaColumnIndex(r);Ov(this.eGui,o)},t.prototype.addResizeAndMoveKeyboardListeners=function(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},t.prototype.onGuiKeyDown=function(e){var n,r=this.gridOptionsService.getDocument(),o=r.activeElement,a=e.key===S.LEFT||e.key===S.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),!(o!==this.eGui||!e.shiftKey&&!e.altKey)&&((this.isResizing||a)&&(e.preventDefault(),e.stopImmediatePropagation()),!!a)){var s=e.key===S.LEFT!==this.gridOptionsService.get("enableRtl"),l=kt[s?"Left":"Right"];e.altKey?(this.isResizing=!0,this.resizeMultiplier+=1,this.resizeHeader(l,e.shiftKey),(n=this.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!0)):this.moveHeader(l)}},t.prototype.onGuiKeyUp=function(){var e=this;this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var n;(n=e.resizeFeature)===null||n===void 0||n.toggleColumnResizing(!1)},150))},t.prototype.handleKeyDown=function(e){var n=this.getWrapperHasFocus();switch(e.key){case S.PAGE_DOWN:case S.PAGE_UP:case S.PAGE_HOME:case S.PAGE_END:n&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,n=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,n,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",js([m("focusService")],t.prototype,"focusService",void 0),js([m("beans")],t.prototype,"beans",void 0),js([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),js([m("ctrlsService")],t.prototype,"ctrlsService",void 0),js([m("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(T),vH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yH=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ny=function(i){vH(t,i);function t(e,n,r,o){var a=i.call(this)||this;return a.columnOrGroup=e,a.eCell=n,a.ariaEl=a.eCell.querySelector("[role=columnheader]")||a.eCell,a.colsSpanning=o,a.beans=r,a}return t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?be(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Re.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),n=x(this.columnOrGroup.getOldLeft()),r=this.beans.columnAnimationService.isActive()&&n&&!e;r?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,n=this.getColumnOrGroup(),r=n.getLeft(),o=n.getOldLeft(),a=this.modifyLeftForPrintLayout(n,o),s=this.modifyLeftForPrintLayout(n,r);this.setLeft(a),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===s&&e.setLeft(s)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),n=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,n),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,n){var r=this.beans.gridOptionsService.isDomLayout("print");if(!r||e.getPinned()==="left")return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){var a=this.beans.columnModel.getBodyContainerWidth();return o+a+n}return o+n},t.prototype.setLeft=function(e){if(x(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof Re)this.columnOrGroup;else{var n=this.columnOrGroup,r=n.getLeafColumns();if(!r.length)return;r.length>1&&tx(this.ariaEl,r.length),r[0]}},yH([I],t.prototype,"postConstruct",null),t}(T),wH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),HE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ry=function(i){wH(t,i);function t(e,n){var r=i.call(this)||this;return r.columns=e,r.element=n,r}return t.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},HE([m("columnHoverService")],t.prototype,"columnHoverService",void 0),HE([I],t.prototype,"postConstruct",null),t}(T),CH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Em=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},bH=function(i){CH(t,i);function t(e,n){var r=i.call(this,e,n)||this;return r.iconCreated=!1,r.column=e,r}return t.prototype.setComp=function(e,n,r,o){this.comp=e,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=o,this.setGui(n),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Re.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.resizeHeader=function(){},t.prototype.moveHeader=function(){},t.prototype.setupActive=function(){var e=this.column.getColDef(),n=!!e.filter,r=!!e.floatingFilter;this.active=n&&r},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!(!this.active||this.iconCreated)){var e=je("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new mi(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();Or(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){var n=this.gridOptionsService.getDocument(),r=n.activeElement,o=r===this.eGui;if(!o){var a=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(a){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),a.focus();return}var s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var n=this.beans.columnModel,r=this.column;do if(r=e?n.getDisplayedColBefore(r):n.getDisplayedColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r},t.prototype.handleKeyDown=function(e){i.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();switch(e.key){case S.UP:case S.DOWN:n||e.preventDefault();case S.LEFT:case S.RIGHT:if(n)return;e.stopPropagation();case S.ENTER:n&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case S.ESCAPE:n||this.eGui.focus()}},t.prototype.onFocusIn=function(e){var n=this.eGui.contains(e.relatedTarget);if(!n){var r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Xi(e.relatedTarget,"ag-floating-filter");if(r&&o&&e.target===this.eGui){var a=this.lastFocusEvent,s=!!(a&&a.key===S.TAB);if(a&&s){var l=a.shiftKey;this.focusService.focusInto(this.eGui,l)}}var c=this.getRowIndex();this.beans.focusService.setFocusedHeader(c,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new ry([this.column],this.eGui));var n=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var r=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.setupLeft=function(){var e=new ny(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){var e=this.column.getColDef();this.suppressFilterButton=e.floatingFilterComponentParams?!!e.floatingFilterComponentParams.suppressFilterButton:!1},t.prototype.setupUserComp=function(){var e=this;if(this.active){var n=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});n&&this.setCompDetails(n)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){var e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuFactory.showMenuAfterButtonClick(this.column,e,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var n=function(r){var o=e.comp.getFloatingFilterComp();o&&o.then(function(a){if(a){var s=e.filterManager.getCurrentFloatingFilterParentModel(e.column);a.onParentModelChanged(s,r)}})};this.destroySyncListener=this.addManagedListener(this.column,Re.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},t.prototype.setupWidth=function(){var e=this,n=function(){var r="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(r)};this.addManagedListener(this.column,Re.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Re.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},t.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},t.prototype.onColDefChanged=function(){var e=this,n,r,o=this.active;this.setupActive();var a=!o&&this.active;o&&!this.active&&((n=this.destroySyncListener)===null||n===void 0||n.call(this),(r=this.destroyFilterChangedListener)===null||r===void 0||r.call(this));var s=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,l=this.comp.getFloatingFilterComp();!l||!s?this.updateCompDetails(s,a):l.then(function(c){var u;!c||e.filterManager.areFilterCompsDifferent((u=e.userCompDetails)!==null&&u!==void 0?u:null,s)?e.updateCompDetails(s,a):e.updateFloatingFilterParams(s)})},t.prototype.updateCompDetails=function(e,n){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},t.prototype.updateFloatingFilterParams=function(e){var n;if(e){var r=e.params;(n=this.comp.getFloatingFilterComp())===null||n===void 0||n.then(function(o){o?.onParamsUpdated&&typeof o.onParamsUpdated=="function"&&o.onParamsUpdated(r)})}},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},Em([m("filterManager")],t.prototype,"filterManager",void 0),Em([m("columnHoverService")],t.prototype,"columnHoverService",void 0),Em([m("menuFactory")],t.prototype,"menuFactory",void 0),t}(op),_H=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},SH=function(i){_H(t,i);function t(e,n,r,o,a){var s=i.call(this)||this;return s.pinned=e,s.column=n,s.eResize=r,s.comp=o,s.ctrl=a,s}return t.prototype.postConstruct=function(){var e=this,n=[],r,o,a=function(){if(we(e.eResize,r),!!r){var c=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(n.push(c),o){var u=e.gridOptionsService.get("skipHeaderOnAutoSize"),d=function(){e.columnModel.autoSizeColumn(e.column,u,"uiColumnResized")};e.eResize.addEventListener("dblclick",d);var p=new Xt(e.eResize);p.addEventListener(Xt.EVENT_DOUBLE_TAP,d),n.push(function(){e.eResize.removeEventListener("dblclick",d),p.removeEventListener(Xt.EVENT_DOUBLE_TAP,d),p.destroy()})}}},s=function(){n.forEach(function(c){return c()}),n.length=0},l=function(){var c=e.column.isResizable(),u=!e.gridOptionsService.get("suppressAutoSize")&&!e.column.getColDef().suppressAutoSize,d=c!==r||u!==o;d&&(r=c,o=u,s(),a())};l(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(l)},t.prototype.onResizing=function(e,n){var r=this,o=r.column,a=r.lastResizeAmount,s=r.resizeStartWidth,l=this.normaliseResizeAmount(n),c=s+l,u=[{key:o,newWidth:c}];if(this.column.getPinned()){var d=this.pinnedWidthService.getPinnedLeftWidth(),p=this.pinnedWidthService.getPinnedRightWidth(),f=oo(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+p+(l-a)>f)return}this.lastResizeAmount=l,this.columnModel.setColumnWidths(u,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.normaliseResizeAmount=function(e){var n=e,r=this.pinned!=="left",o=this.pinned==="right";return this.gridOptionsService.get("enableRtl")?r&&(n*=-1):o&&(n*=-1),n},Bs([m("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Bs([m("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Bs([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Bs([m("columnModel")],t.prototype,"columnModel",void 0),Bs([I],t.prototype,"postConstruct",null),t}(T),EH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},xH=function(i){EH(t,i);function t(e){var n=i.call(this)||this;return n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e,n}return t.prototype.onSpaceKeyDown=function(e){var n=this.cbSelectAll,r=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(r.activeElement)&&(e.preventDefault(),n.setValue(!n.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new tp),this.cbSelectAll.addCssClass("ag-header-select-all"),Je(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,v.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),Kd(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},t.prototype.onDisplayedColumnsChanged=function(){this.isAlive()&&this.showOrHideSelectAll()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),n=this.cbSelectAll.getValue(),r=n?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll","".concat(o," (").concat(r,")")):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(r,")")),this.headerCellCtrl.refreshAriaDescription()},t.prototype.checkSelectionType=function(e){var n=this.gridOptionsService.get("rowSelection")==="multiple";return n?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),!1)},t.prototype.checkRightRowModelType=function(e){var n=this.rowModel.getType(),r=n==="clientSide"||n==="serverSide";return r?!0:(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(n,".")),!1)},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),n=this.isFilteredOnly(),r=this.isCurrentPageOnly(),o="uiSelectAll";r?o="uiSelectAllCurrentPage":n&&(o="uiSelectAllFiltered");var a={source:o,justFiltered:n,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(a):this.selectionService.deselectAllRowNodes(a)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){var n=e,r={column:this.column,colDef:this.column.getColDef(),columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api,context:this.gridOptionsService.context};e=n(r)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1},t.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},t.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},jE([m("rowModel")],t.prototype,"rowModel",void 0),jE([m("selectionService")],t.prototype,"selectionService",void 0),t}(T),DH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ui=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},TH=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RH=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},OH=function(i){DH(t,i);function t(e,n){var r=i.call(this,e,n)||this;return r.refreshFunctions=[],r.userHeaderClasses=new Set,r.ariaDescriptionProperties=new Map,r.column=e,r}return t.prototype.setComp=function(e,n,r,o){var a=this;this.comp=e,this.setGui(n),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new SH(this.getPinned(),this.column,r,e,this)),this.createManagedBean(new ry([this.column],n)),this.createManagedBean(new ny(this.column,n,this.beans)),this.createManagedBean(new mi(n,{shouldStopEventPropagation:function(s){return a.shouldStopEventPropagation(s)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Re.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.resizeHeader=function(e,n){var r,o;if(this.column.isResizable()){var a=this.column.getPinned(),s=this.gridOptionsService.get("enableRtl"),l=this.column.getActualWidth(),c=(r=this.column.getMinWidth())!==null&&r!==void 0?r:0,u=(o=this.column.getMaxWidth())!==null&&o!==void 0?o:Number.MAX_SAFE_INTEGER,d=e===kt.Left;a&&s!==(a==="right")&&(d=!d);var p=(d?-1:1)*this.resizeMultiplier,f=Math.min(Math.max(l+p,c),u);if(a){var h=this.pinnedWidthService.getPinnedLeftWidth(),g=this.pinnedWidthService.getPinnedRightWidth(),y=oo(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(h+g+p>y)return}this.columnModel.setColumnWidths([{key:this.column,newWidth:f}],n,!0)}},t.prototype.moveHeader=function(e){var n=this,r=n.eGui,o=n.column,a=n.columnModel,s=n.gridOptionsService,l=n.ctrlsService,c=this.getPinned(),u=r.getBoundingClientRect().left,d=o.getActualWidth(),p=s.get("enableRtl"),f=e===kt.Left!==p,h=no.normaliseX(f?u-20:u+d+20,c,!0,s,l);no.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:e,xPosition:h,pinned:c,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:a}),l.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,e)},t.prototype.createParams=function(){var e=this,n={column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,showColumnMenu:function(r){e.gridApi.showColumnMenuAfterButtonClick(e.column,r)},progressSort:function(r){e.sortController.progressSort(e.column,!!r,"uiColumnSorted")},setSort:function(r,o){e.sortController.setSortForColumn(e.column,r,!!o,"uiColumnSorted")},api:this.gridApi,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()};return n},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new xH(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){i.prototype.handleKeyDown.call(this,e),e.key===S.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===S.ENTER&&this.onEnterKeyDown(e)},t.prototype.onEnterKeyDown=function(e){var n=this.comp.getUserCompInstance();if(n){if(e.ctrlKey||e.metaKey)this.menuEnabled&&n.showMenu&&(e.preventDefault(),n.showMenu());else if(this.sortable){var r=e.shiftKey;this.sortController.progressSort(this.column,r,"uiColumnSorted")}}},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,n={getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){var o=e.column.getColDef().headerTooltip;return o}},r=this.createManagedBean(new ey(n,this.beans));r.setComp(this.eGui),this.refreshFunctions.push(function(){return r.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,n=function(){var r=e.column.getColDef(),o=ip.getHeaderClassesFromColDef(r,e.gridOptionsService,e.column,null),a=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(s){a.has(s)?a.delete(s):e.comp.addOrRemoveCssClass(s,!0)}),a.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!1)})};this.refreshFunctions.push(n),n()},t.prototype.setDragSource=function(e){var n=this;if(this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)){var r=this,o=r.column,a=r.columnModel,s=r.displayName,l=r.dragAndDropService,c=r.gridOptionsService,u=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),d=this.dragSource={type:Jt.HeaderCell,eElement:e,getDefaultIconName:function(){return u?nt.ICON_HIDE:nt.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem(o)},dragItemName:s,onDragStarted:function(){u=!c.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(p){var f;if(u){var h=((f=p?.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];a.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:function(p){var f;if(u){var h=((f=p?.columns)===null||f===void 0?void 0:f.filter(function(g){return!g.getColDef().lockVisible}))||[];a.setColumnsVisible(h,!1,"uiColumnMoved")}}};l.addDragSource(d,!0)}},t.prototype.createDragItem=function(e){var n={};return n[e.getId()]=e.isVisible(),{columns:[e],visibleState:n}},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails(),n=this.comp.getUserCompInstance(),r=n!=null&&this.userCompDetails.componentClass==e.componentClass,o=r?this.attemptHeaderCompRefresh(e.params):!1;o?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var n=this.comp.getUserCompInstance();if(!n||!n.refresh)return!1;var r=n.refresh(e);return r},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef(),n=this.gridOptionsService.get("suppressMovableColumns"),r=!n&&!e.suppressMovable&&!e.lockPosition;return!!r||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,n=function(){var r=e.column.getActualWidth();e.comp.setWidth("".concat(r,"px"))};this.addManagedListener(this.column,Re.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupMovingCss=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Re.EVENT_MOVING_CHANGED,n),n()},t.prototype.setupMenuClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Re.EVENT_MENU_VISIBLE_CHANGED,n),n()},t.prototype.setupSortableClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,Re.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupFilterClass=function(){var e=this,n=function(){var r=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",r),e.refreshAria()};this.addManagedListener(this.column,Re.EVENT_FILTER_ACTIVE_CHANGED,n),n()},t.prototype.setupWrapTextClass=function(){var e=this,n=function(){var r=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",r)};n(),this.addRefreshFunction(n)},t.prototype.onDisplayedColumnsChanged=function(){i.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,n=e.eGui,r=e.column,o=e.comp,a=e.columnModel;if(e.gridOptionsService,!r.isSpanHeaderHeight()){n.style.removeProperty("top"),n.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),o.addOrRemoveCssClass("ag-header-span-total",!1);return}var s=this.getColumnGroupPaddingInfo(),l=s.numberOfParents,c=s.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",l>0);var u=a.getColumnHeaderRowHeight();if(l===0){o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),n.style.setProperty("height","".concat(u,"px"));return}o.addOrRemoveCssClass("ag-header-span-total",c);var d=a.isPivotMode(),p=d?a.getPivotGroupHeaderHeight():a.getGroupHeaderHeight(),f=l*p;n.style.setProperty("top","".concat(-f,"px")),n.style.setProperty("height","".concat(u+f,"px"))},t.prototype.getColumnGroupPaddingInfo=function(){var e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var n=e.getPaddingLevel()+1,r=!0;e;){if(!e.isPadding()){r=!1;break}e=e.getParent()}return{numberOfParents:n,isSpanningTotal:r}},t.prototype.setupAutoHeight=function(e){var n=this,r=function(u){if(n.isAlive()){var d=gi(n.getGui()),p=d.paddingTop,f=d.paddingBottom,h=d.borderBottomWidth,g=d.borderTopWidth,y=p+f+h+g,w=e.offsetHeight,C=w+y;if(u<5){var b=n.beans.gridOptionsService.getDocument(),_=!b||!b.contains(e),D=C==0;if(_||D){n.beans.frameworkOverrides.setTimeout(function(){return r(u+1)},0);return}}n.columnModel.setColumnHeaderHeight(n.column,C)}},o=!1,a,s=function(){var u=n.column.isAutoHeaderHeight();u&&!o&&l(),!u&&o&&c()},l=function(){o=!0,r(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=n.resizeObserverService.observeResize(e,function(){return r(0)})},c=function(){o=!1,a&&a(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};s(),this.addDestroyFunc(function(){return c()}),this.addManagedListener(this.column,Re.EVENT_WIDTH_CHANGED,function(){return o&&r(0)}),this.addManagedListener(this.eventService,Re.EVENT_SORT_CHANGED,function(){o&&n.beans.frameworkOverrides.setTimeout(function(){return r(0)})}),this.addRefreshFunction(s)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),n=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(W0(n)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.refreshAriaFiltered=function(){var e=this.localeService.getLocaleTextFunc(),n=this.column.isFilterActive();n?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)},t.prototype.setAriaDescriptionProperty=function(e,n){n!=null?this.ariaDescriptionProperties.set(e,n):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e,n,r=null;try{for(var o=TH(this.ariaDescriptionProperties),a=o.next();!a.done;a=o.next()){var s=RH(a.value,2),l=s[0],c=s[1];l==="filter"?r="".concat(c," ").concat(r||""):r="".concat(r||""," ").concat(c)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.comp.setAriaDescription(r??void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFiltered(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,n=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var r=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",r)}};this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,n=function(r){return e.setActiveHeader(r.type==="mouseenter")};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},Ui([m("columnModel")],t.prototype,"columnModel",void 0),Ui([m("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Ui([m("columnHoverService")],t.prototype,"columnHoverService",void 0),Ui([m("sortController")],t.prototype,"sortController",void 0),Ui([m("menuFactory")],t.prototype,"menuFactory",void 0),Ui([m("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Ui([m("gridApi")],t.prototype,"gridApi",void 0),t}(op),AH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),od=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},IH=function(i){AH(t,i);function t(e,n,r,o){var a=i.call(this)||this;return a.eResize=n,a.comp=e,a.pinned=r,a.columnGroup=o,a}return t.prototype.postConstruct=function(){var e=this;if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.get("suppressAutoSize")){var r=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[],a=e.columnGroup.getDisplayedLeafColumns();a.forEach(function(s){s.getColDef().suppressAutoSize||o.push(s.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:r,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}},t.prototype.onResizeStart=function(e){var n=this.getInitialValues(e);this.storeLocalValues(n),this.toggleColumnResizing(!0)},t.prototype.onResizing=function(e,n,r){r===void 0&&(r="uiColumnResized");var o=this.normaliseDragChange(n),a=this.resizeStartWidth+o;this.resizeColumnsFromLocalValues(a,r,e)},t.prototype.getInitialValues=function(e){var n=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(n),o=this.getSizeRatiosOfColumns(n,r),a={columnsToResize:n,resizeStartWidth:r,resizeRatios:o},s=null;if(e&&(s=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),s){var l=s.getDisplayedLeafColumns(),c=a.groupAfterColumns=l.filter(function(d){return d.isResizable()}),u=a.groupAfterStartWidth=this.getInitialSizeOfColumns(c);a.groupAfterRatios=this.getSizeRatiosOfColumns(c,u)}else a.groupAfterColumns=void 0,a.groupAfterStartWidth=void 0,a.groupAfterRatios=void 0;return a},t.prototype.storeLocalValues=function(e){var n=e.columnsToResize,r=e.resizeStartWidth,o=e.resizeRatios,a=e.groupAfterColumns,s=e.groupAfterStartWidth,l=e.groupAfterRatios;this.resizeCols=n,this.resizeStartWidth=r,this.resizeRatios=o,this.resizeTakeFromCols=a,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=l},t.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},t.prototype.resizeLeafColumnsToFit=function(e){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();n>r.resizeStartWidth&&this.resizeColumns(r,n,e,!0)},t.prototype.resizeColumnsFromLocalValues=function(e,n,r){var o,a,s;if(r===void 0&&(r=!0),!(!this.resizeCols||!this.resizeRatios)){var l={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(o=this.resizeTakeFromCols)!==null&&o!==void 0?o:void 0,groupAfterStartWidth:(a=this.resizeTakeFromStartWidth)!==null&&a!==void 0?a:void 0,groupAfterRatios:(s=this.resizeTakeFromRatios)!==null&&s!==void 0?s:void 0};this.resizeColumns(l,e,n,r)}},t.prototype.resizeColumns=function(e,n,r,o){o===void 0&&(o=!0);var a=e.columnsToResize,s=e.resizeStartWidth,l=e.resizeRatios,c=e.groupAfterColumns,u=e.groupAfterStartWidth,d=e.groupAfterRatios,p=[];if(p.push({columns:a,ratios:l,width:n}),c){var f=n-s;p.push({columns:c,ratios:d,width:u-f})}this.columnModel.resizeColumnSets({resizeSets:p,finished:o,source:r}),o&&this.toggleColumnResizing(!1)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.getColumnsToResize=function(){var e=this.columnGroup.getDisplayedLeafColumns();return e.filter(function(n){return n.isResizable()})},t.prototype.getInitialSizeOfColumns=function(e){return e.reduce(function(n,r){return n+r.getActualWidth()},0)},t.prototype.getSizeRatiosOfColumns=function(e,n){return e.map(function(r){return r.getActualWidth()/n})},t.prototype.normaliseDragChange=function(e){var n=e;return this.gridOptionsService.get("enableRtl")?this.pinned!=="left"&&(n*=-1):this.pinned==="right"&&(n*=-1),n},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.clearLocalValues()},od([m("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),od([m("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),od([m("columnModel")],t.prototype,"columnModel",void 0),od([I],t.prototype,"postConstruct",null),t}(T),MH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),PH=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},FH=function(i){MH(t,i);function t(e,n){var r=i.call(this)||this;return r.removeChildListenersFuncs=[],r.columnGroup=n,r.comp=e,r}return t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Ze.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(r){r.addEventListener("widthChanged",n),r.addEventListener("visibleChanged",n),e.removeChildListenersFuncs.push(function(){r.removeEventListener("widthChanged",n),r.removeEventListener("visibleChanged",n)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",e===0)},PH([I],t.prototype,"postConstruct",null),t}(T),NH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gd=function(){return Gd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Gd.apply(this,arguments)},LH=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},kH=function(i){NH(t,i);function t(e,n){var r=i.call(this,e,n)||this;return r.onSuppressColMoveChange=function(){if(r.isSuppressMoving())r.removeDragSource();else if(!r.dragSource){var o=r.getGui();r.setDragSource(o)}},r.column=e,r}return t.prototype.setComp=function(e,n,r){this.comp=e,this.setGui(n),this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),a=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new ry(a,n)),this.createManagedBean(new ny(this.column,n,this.beans)),this.createManagedBean(new FH(e,this.column)),this.resizeFeature=this.createManagedBean(new IH(e,r,o,this.column)),this.createManagedBean(new mi(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(v.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},t.prototype.resizeHeader=function(e,n){if(this.resizeFeature){var r=e===kt.Left,o=(r?-1:1)*this.resizeMultiplier,a=this.resizeFeature.getInitialValues(n);this.resizeFeature.resizeColumns(a,a.resizeStartWidth+o,"uiColumnResized",!0)}},t.prototype.moveHeader=function(e){var n=this,r=n.eGui,o=n.column,a=n.columnModel,s=n.gridOptionsService,l=n.ctrlsService,c=s.get("enableRtl"),u=e===kt.Left,d=this.getPinned(),p=r.getBoundingClientRect(),f=p.left,h=p.width,g=no.normaliseX(u!==c?f-20:f+h+20,d,!0,s,l),y=o.getGroupId(),w=this.focusService.getFocusedHeader();no.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:g,pinned:d,fromEnter:!1,fakeEvent:!1,gridOptionsService:s,columnModel:a});var C=o.getDisplayedLeafColumns(),b=u?C[0]:be(C);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(b,"auto"),!this.isAlive()&&w&&this.restoreFocus(y,o,w)},t.prototype.restoreFocus=function(e,n,r){var o=n.getLeafColumns();if(o.length){var a=o[0].getParent();if(a){var s=this.findGroupWidthId(a,e);s&&this.focusService.focusHeaderPosition({headerPosition:Gd(Gd({},r),{column:s})})}}},t.prototype.findGroupWidthId=function(e,n){for(;e;){if(e.getGroupId()===n)return e;e=e.getParent()}return null},t.prototype.resizeLeafColumnsToFit=function(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,n={displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){e.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),o,"gridInitializing")},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},r=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(r)},t.prototype.setupTooltip=function(){var e=this,n=this.column.getColGroupDef(),r={getColumn:function(){return e.column},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(r.getColDef=function(){return n});var o=this.createManagedBean(new ey(r,this.beans));o.setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Ge.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Ge.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.column;this.expandable=e.isExpandable();var n=e.isExpanded();this.expandable?this.comp.setAriaExpanded(n?"true":"false"):this.comp.setAriaExpanded(void 0)},t.prototype.getColId=function(){return this.column.getUniqueId()},t.prototype.addClasses=function(){var e=this,n=this.column.getColGroupDef(),r=ip.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.column);if(this.column.isPadding()){r.push("ag-header-group-cell-no-group");var o=this.column.getLeafColumns();o.every(function(a){return a.isSpanHeaderHeight()})&&r.push("ag-header-span-height")}else r.push("ag-header-group-cell-with-group");r.forEach(function(a){return e.comp.addOrRemoveCssClass(a,!0)})},t.prototype.setupMovingCss=function(){var e=this,n=this.column.getProvidedColumnGroup(),r=n.getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};r.forEach(function(a){e.addManagedListener(a,Re.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}},t.prototype.handleKeyDown=function(e){i.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();if(!(!this.expandable||!n)&&e.key===S.ENTER){var r=this.column,o=!r.isExpanded();this.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var n=this;if(!this.isSuppressMoving()&&(this.removeDragSource(),!!e)){var r=this,o=r.column,a=r.columnModel,s=r.displayName,l=r.gridOptionsService,c=r.dragAndDropService,u=o.getProvidedColumnGroup().getLeafColumns(),d=!l.get("suppressDragLeaveHidesColumns"),p=this.dragSource={type:Jt.HeaderCell,eElement:e,getDefaultIconName:function(){return d?nt.ICON_HIDE:nt.ICON_NOT_ALLOWED},dragItemName:s,getDragItem:function(){return n.getDragItemForGroup(o)},onDragStarted:function(){d=!l.get("suppressDragLeaveHidesColumns"),u.forEach(function(f){return f.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return u.forEach(function(f){return f.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(f){var h;if(d){var g=((h=f?.columns)===null||h===void 0?void 0:h.filter(function(y){return!y.getColDef().lockVisible}))||[];a.setColumnsVisible(g,!0,"uiColumnMoved")}},onGridExit:function(f){var h;if(d){var g=((h=f?.columns)===null||h===void 0?void 0:h.filter(function(y){return!y.getColDef().lockVisible}))||[];a.setColumnsVisible(g,!1,"uiColumnMoved")}}};c.addDragSource(p,!0)}},t.prototype.getDragItemForGroup=function(e){var n=e.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(function(a){return r[a.getId()]=a.isVisible()});var o=[];return this.columnModel.getAllDisplayedColumns().forEach(function(a){n.indexOf(a)>=0&&(o.push(a),Yt(n,a))}),n.forEach(function(a){return o.push(a)}),{columns:o,visibleState:r}},t.prototype.isSuppressMoving=function(){var e=!1;this.column.getLeafColumns().forEach(function(r){(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)});var n=e||this.gridOptionsService.get("suppressMovableColumns");return n},LH([m("columnModel")],t.prototype,"columnModel",void 0),t}(op),zH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ad=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},BE=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},VH=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},GH=0,xm=function(i){zH(t,i);function t(e,n,r){var o=i.call(this)||this;o.instanceId=GH++,o.rowIndex=e,o.pinned=n,o.type=r;var a=r==ht.COLUMN_GROUP?"ag-header-row-column-group":r==ht.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.headerRowClass="ag-header-row ".concat(a),o}return t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n){n===void 0&&(n=!0),this.comp=e,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.getTransform=function(){if(Hn())return"translateZ(0)"},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return e.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return e.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){if(this.headerCellCtrls)return Zi(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))},t.prototype.getWidthForRow=function(){if(this.isPrintLayout){var e=this.pinned!=null;return e?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null)}return this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),n=e.topOffset,r=e.rowHeight;this.comp.setTop(n+"px"),this.comp.setHeight(r+"px")},t.prototype.getTopAndHeight=function(){var e=this.columnModel.getHeaderRowCount(),n=[],r=0;this.filterManager.hasFloatingFilters()&&(e++,r=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),a=this.columnModel.getColumnHeaderRowHeight(),s=1+r,l=e-s,c=0;c<l;c++)n.push(o);n.push(a);for(var c=0;c<r;c++)n.push(this.columnModel.getFloatingFiltersHeight());for(var u=0,c=0;c<this.rowIndex;c++)u+=n[c];var d=n[this.rowIndex];return{topOffset:u,rowHeight:d}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){e===void 0&&(e=!1);var n=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(n,r,e)},t.prototype.getHeaderCtrls=function(){var e,n,r,o,a=this,s=this.headerCellCtrls;this.headerCellCtrls=new Map;var l=this.getColumnsInViewport();try{for(var c=BE(l),u=c.next();!u.done;u=c.next()){var d=u.value;this.recycleAndCreateHeaderCtrls(d,s)}}catch(_){e={error:_}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}var p=function(_){var D=a.focusService.isHeaderWrapperFocused(_);if(!D)return!1;var R=a.columnModel.isDisplayed(_.getColumnGroupChild());return R};if(s)try{for(var f=BE(s),h=f.next();!h.done;h=f.next()){var g=VH(h.value,2),y=g[0],w=g[1],C=p(w);C?this.headerCellCtrls.set(y,w):this.destroyBean(w)}}catch(_){r={error:_}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}var b=Array.from(this.headerCellCtrls.values());return b},t.prototype.recycleAndCreateHeaderCtrls=function(e,n){if(this.headerCellCtrls&&!e.isEmptyGroup()){var r=e.getUniqueId(),o;n&&(o=n.get(r),n.delete(r));var a=o&&o.getColumnGroupChild()!=e;if(a&&(this.destroyBean(o),o=void 0),o==null)switch(this.type){case ht.FLOATING_FILTER:o=this.createBean(new bH(e,this));break;case ht.COLUMN_GROUP:o=this.createBean(new kH(e,this));break;default:o=this.createBean(new OH(e,this));break}this.headerCellCtrls.set(r,o)}},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(this.pinned!=null)return[];var n=[],r=this.getActualDepth();return["left",null,"right"].forEach(function(o){var a=e.columnModel.getVirtualHeaderGroupRow(o,r);n=n.concat(a)}),n},t.prototype.getActualDepth=function(){return this.type==ht.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,n){if(!this.headerCellCtrls)return!1;var r=Array.from(this.headerCellCtrls.values()),o=r.find(function(a){return a.getColumnGroupChild()==e});return o?o.focus(n):!1},t.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(n){e.destroyBean(n)}),this.headerCellCtrls=void 0,i.prototype.destroy.call(this)},ad([m("columnModel")],t.prototype,"columnModel",void 0),ad([m("focusService")],t.prototype,"focusService",void 0),ad([m("filterManager")],t.prototype,"filterManager",void 0),ad([I],t.prototype,"postConstruct",null),t}(T),HH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),da=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},jH=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},BH=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},UH=function(i){HH(t,i);function t(e){var n=i.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=e,n}return t.prototype.setComp=function(e,n){this.comp=e,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var n=new lH(this.pinned,e);this.createManagedBean(n)},t.prototype.refresh=function(e){var n=this;e===void 0&&(e=!1);var r=new Ea,o=this.focusService.getFocusHeaderToUseAfterRefresh(),a=function(){var u=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var d=0;d<u;d++){var p=n.createBean(new xm(r.next(),n.pinned,ht.COLUMN_GROUP));n.groupsRowCtrls.push(p)}},s=function(){var u=r.next(),d=!n.hidden&&(n.columnsRowCtrl==null||!e||n.columnsRowCtrl.getRowIndex()!==u),p=d||n.hidden;p&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),d&&(n.columnsRowCtrl=n.createBean(new xm(u,n.pinned,ht.COLUMN)))},l=function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var u=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(!n.includeFloatingFilter){u();return}var d=r.next();if(n.filtersRowCtrl){var p=n.filtersRowCtrl.getRowIndex()!==d;(!e||p)&&u()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new xm(d,n.pinned,ht.FLOATING_FILTER)))};a(),s(),l();var c=this.getAllCtrls();this.comp.setCtrls(c),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=BH([],jH(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;this.pinned==null&&this.createManagedBean(new ty(function(n){return e.comp.setCenterWidth("".concat(n,"px"))},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(this.pinned!=null){var n=this.pinned==="left",r=this.pinned==="right";this.hidden=!0;var o=function(){var a=n?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(a!=null){var s=a==0,l=e.hidden!==s,c=e.gridOptionsService.get("enableRtl"),u=e.gridOptionsService.getScrollbarWidth(),d=e.scrollVisibleService.isVerticalScrollShowing()&&(c&&n||!c&&r),p=d?a+u:a;e.comp.setPinnedContainerWidth("".concat(p,"px")),e.comp.setDisplayed(!s),l&&(e.hidden=s,e.refresh())}};this.addManagedListener(this.eventService,v.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,v.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,v.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Re)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(var n=0;n<this.groupsRowCtrls.length;n++){var r=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(r)return r}},t.prototype.getHtmlElementForColumnHeader=function(e){var n=this.getHeaderCtrlForColumn(e);return n?n.getGui():null},t.prototype.getRowType=function(e){var n=this.getAllCtrls(),r=n[e];return r?r.getType():void 0},t.prototype.focusHeader=function(e,n,r){var o=this.getAllCtrls(),a=o[e];return a?a.focusHeader(n,r):!1},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),i.prototype.destroy.call(this)},da([m("ctrlsService")],t.prototype,"ctrlsService",void 0),da([m("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),da([m("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),da([m("columnModel")],t.prototype,"columnModel",void 0),da([m("focusService")],t.prototype,"focusService",void 0),da([m("filterManager")],t.prototype,"filterManager",void 0),t}(T),WH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Tm=function(i){WH(t,i);function t(e){var n=i.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var a=e.getGui();a.style.width=o,a.style.maxWidth=o,a.style.minWidth=o}},r=this.createManagedBean(new UH(this.pinned));r.setComp(n,this.getGui())},t.prototype.selectAndSetTemplate=function(){var e=this.pinned=="left",n=this.pinned=="right",r=e?t.PINNED_LEFT_TEMPLATE:n?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE;this.setTemplate(r),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var n=this,r=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];var o,a=function(s){var l=s.getGui(),c=l.parentElement!=n.eRowContainer;c&&n.eRowContainer.appendChild(l),o&&Gv(n.eRowContainer,l,o),o=l};e.forEach(function(s){var l=s.getInstanceId(),c=r[l];delete r[l];var u=c||n.createBean(new hH(s));n.headerRowComps[l]=u,n.rowCompsList.push(u),a(u)}),pi(r).forEach(function(s){return n.destroyRowComp(s)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',t.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`,Dm([P("eCenterContainer")],t.prototype,"eCenterContainer",void 0),Dm([I],t.prototype,"init",null),Dm([_t],t.prototype,"destroyRowComps",null),t}(te),qH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Us=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Dr=function(i){return i[i.UP=0]="UP",i[i.DOWN=1]="DOWN",i[i.LEFT=2]="LEFT",i[i.RIGHT=3]="RIGHT",i}(Dr||{}),$H=function(i){qH(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,n,r){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,a=n.column,s=this.getHeaderRowCount(),l=e===Dr.UP,c=l?this.headerPositionUtils.getColumnVisibleParent(a,o):this.headerPositionUtils.getColumnVisibleChild(a,o),u=c.nextRow,d=c.nextFocusColumn,p=!1;return u<0&&(u=0,d=a,p=!0),u>=s&&(u=-1),!p&&!d?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},allowUserOverride:!0,event:r})},t.prototype.navigateHorizontally=function(e,n,r){n===void 0&&(n=!1);var o=this.focusService.getFocusedHeader(),a=e===Dr.LEFT,s=this.gridOptionsService.get("enableRtl"),l,c;return a!==s?(c="Before",l=this.headerPositionUtils.findHeader(o,c)):(c="After",l=this.headerPositionUtils.findHeader(o,c)),l||!n?this.focusService.focusHeaderPosition({headerPosition:l,direction:c,fromTab:n,allowUserOverride:!0,event:r}):this.focusNextHeaderRow(o,c,r)},t.prototype.focusNextHeaderRow=function(e,n,r){var o=e.headerRowIndex,a=null,s;return n==="Before"?o>0&&(s=o-1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"end")):(s=o+1,a=this.headerPositionUtils.findColAtEdgeForHeaderRow(s,"start")),this.focusService.focusHeaderPosition({headerPosition:a,direction:n,fromTab:!0,allowUserOverride:!0,event:r})},t.prototype.scrollToColumn=function(e,n){if(n===void 0&&(n="After"),!e.getPinned()){var r;if(e instanceof Ze){var o=e.getDisplayedLeafColumns();r=n==="Before"?be(o):o[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}},Us([m("focusService")],t.prototype,"focusService",void 0),Us([m("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),Us([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Us([I],t.prototype,"postConstruct",null),t=Us([z("headerNavigationService")],t),t}(T),KH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ws=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},YH=function(i){KH(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setComp=function(e,n,r){this.comp=e,this.eGui=n,this.createManagedBean(new mi(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var e=this.columnModel,n=0,r=e.getHeaderRowCount(),o,a=this.filterManager.hasFloatingFilters();a&&(r++,n=1);var s=this.columnModel.getColumnGroupHeaderRowHeight(),l=this.columnModel.getColumnHeaderRowHeight(),c=1+n,u=r-c;if(o=n*e.getFloatingFiltersHeight(),o+=u*s,o+=l,this.headerHeight!==o){this.headerHeight=o;var d="".concat(o+1,"px");this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:v.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.getAllDisplayedColumns(),n=e.some(function(r){return r.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},t.prototype.onTabKeyDown=function(e){var n=this.gridOptionsService.get("enableRtl"),r=e.shiftKey!==n?Dr.LEFT:Dr.RIGHT;(this.headerNavigationService.navigateHorizontally(r,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var n=null;switch(e.key){case S.LEFT:n=Dr.LEFT;case S.RIGHT:x(n)||(n=Dr.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,e);break;case S.UP:n=Dr.UP;case S.DOWN:x(n)||(n=Dr.DOWN),this.headerNavigationService.navigateVertically(n,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var n=this.gridOptionsService.getDocument(),r=e.relatedTarget;!r&&this.eGui.contains(n.activeElement)||this.eGui.contains(r)||this.focusService.clearFocusedHeader()},Ws([m("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ws([m("focusService")],t.prototype,"focusService",void 0),Ws([m("columnModel")],t.prototype,"columnModel",void 0),Ws([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Ws([m("filterManager")],t.prototype,"filterManager",void 0),t}(T),QH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZH=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},XH=function(i){QH(t,i);function t(){return i.call(this,t.TEMPLATE)||this}return t.prototype.postConstruct=function(){var e=this,n={addOrRemoveCssClass:function(a,s){return e.addOrRemoveCssClass(a,s)},setHeightAndMinHeight:function(a){e.getGui().style.height=a,e.getGui().style.minHeight=a}},r=this.createManagedBean(new YH);r.setComp(n,this.getGui(),this.getFocusableElement());var o=function(a){e.createManagedBean(a),e.appendChild(a)};o(new Tm("left")),o(new Tm(null)),o(new Tm("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',ZH([I],t.prototype,"postConstruct",null),t}(te),JH=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ej=function(i){JH(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.addResizeBar=function(e){var n=this,r={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(r);var o=function(){return n.dragService.removeDragSource(r)};return o},t.prototype.onDragStart=function(e,n){this.dragStartX=n.clientX,this.setResizeIcons();var r=n instanceof MouseEvent&&n.shiftKey===!0;e.onResizeStart(r)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,n){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,n){this.resizeAmount=n.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},Rm([m("dragService")],t.prototype,"dragService",void 0),Rm([m("ctrlsService")],t.prototype,"ctrlsService",void 0),t=Rm([z("horizontalResizeService")],t),t}(T),tj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},nj=function(i){tj(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,n){var r=this;this.showPopup(e,function(o){r.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:n,ePopup:o})},"columnMenu",n.target)},t.prototype.showMenuAfterButtonClick=function(e,n,r){var o=this;this.showPopup(e,function(a){o.popupService.positionPopupByComponent({type:r,eventSource:n,ePopup:a,keepWithinBounds:!0,position:"under",column:e})},r,n)},t.prototype.showPopup=function(e,n,r,o){var a=this,s=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!s)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var l=document.createElement("div");Je(l,"presentation"),l.classList.add("ag-menu"),this.tabListener=this.addManagedListener(l,"keydown",function(g){return a.trapFocusWithin(g,l)}),s.guiPromise.then(function(g){return l.appendChild(g)});var c,u=function(){var g;return(g=s.filterPromise)===null||g===void 0?void 0:g.then(function(y){var w;return(w=y?.afterGuiDetached)===null||w===void 0?void 0:w.call(y)})},d=o||this.ctrlsService.getGridBodyCtrl().getGui(),p=function(g){e.setMenuVisible(!1,"contextMenu");var y=g instanceof KeyboardEvent;if(a.tabListener&&(a.tabListener=a.tabListener()),y&&o&&zt(o)){var w=a.focusService.findTabbableParent(o);w&&w.focus()}u()},f=this.localeService.getLocaleTextFunc(),h=this.popupService.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:p,positionCallback:function(){return n(l)},anchorToElement:d,ariaLabel:f("ariaLabelColumnMenu","Column Menu")});h&&(this.hidePopup=c=h.hideFunc),s.filterPromise.then(function(g){n(l),g.afterGuiAttached&&g.afterGuiAttached({container:r,hidePopup:c})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,n){e.key!==S.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(n,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},qs([m("filterManager")],t.prototype,"filterManager",void 0),qs([m("popupService")],t.prototype,"popupService",void 0),qs([m("focusService")],t.prototype,"focusService",void 0),qs([m("ctrlsService")],t.prototype,"ctrlsService",void 0),t=qs([z("menuFactory")],t),t}(T),rj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},hY=function(i){rj(t,i);function t(e){var n=i.call(this,t.getTemplate(e.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=e,e.items&&e.items.forEach(function(r){return n.addItem(r)}),n}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new mi(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var n,r,o;return(o=(r=(n=e.activeItem)===null||n===void 0?void 0:n.tabbedItem)===null||r===void 0?void 0:r.afterDetachedCallback)===null||o===void 0?void 0:o.call(r)})},t.getTemplate=function(e){return'<div class="ag-tabs '.concat(e,`">
            <div ref="eHeader" role="tablist" class="ag-tabs-header `).concat(e?"".concat(e,"-header"):"",`"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body `).concat(e?"".concat(e,"-body"):"",`"></div>
        </div>`)},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsService.getDocument();switch(e.key){case S.RIGHT:case S.LEFT:if(!this.eHeader.contains(n.activeElement))return;var r=e.key===S.RIGHT,o=this.gridOptionsService.get("enableRtl"),a=this.items.indexOf(this.activeItem),s=r!==o?Math.min(a+1,this.items.length-1):Math.max(a-1,0);if(a===s)return;e.preventDefault();var l=this.items[s];this.showItemWrapper(l),l.eHeaderButton.focus();break;case S.UP:case S.DOWN:e.stopPropagation();break}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var n=this,r=n.focusService,o=n.eHeader,a=n.eBody,s=n.activeItem,l=this.gridOptionsService.getDocument(),c=l.activeElement,u=e.target;if(e.preventDefault(),o.contains(c)){r.focusInto(a,e.shiftKey);return}var d=null;r.isTargetUnderManagedComponent(a,u)&&(e.shiftKey&&(d=this.focusService.findFocusableElementBeforeTabGuard(a,u)),d||(d=s.eHeaderButton)),!d&&a.contains(c)&&(d=r.findNextFocusableElement(a,!1,e.shiftKey),d||(d=s.eHeaderButton)),d&&d.focus()}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var n=document.createElement("span");Je(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(e.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),Or(n,e.titleLabel);var r={tabbedItem:e,eHeaderButton:n};this.items.push(r),n.addEventListener("click",this.showItemWrapper.bind(this,r))},t.prototype.showItem=function(e){var n=this.items.find(function(r){return r.tabbedItem===e});n&&this.showItemWrapper(n)},t.prototype.showItemWrapper=function(e){var n=this,r,o,a=e.tabbedItem,s=e.eHeaderButton;if(this.params.onItemClicked&&this.params.onItemClicked({item:a}),this.activeItem===e){O0(this.params.onActiveItemClicked);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),rt(this.eBody),a.bodyPromise.then(function(l){n.eBody.appendChild(l);var c=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,c),a.afterAttachedCallback&&a.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var u=a.getScrollableContainer&&a.getScrollableContainer()||l;n.lastScrollListener=n.addManagedListener(u,"scroll",function(){n.tabbedItemScrollMap.set(a.name,u.scrollTop)});var d=n.tabbedItemScrollMap.get(a.name);d!==void 0&&setTimeout(function(){u.scrollTop=d},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(o=(r=this.activeItem.tabbedItem).afterDetachedCallback)===null||o===void 0||o.call(r)),s.classList.add("ag-tab-selected"),this.activeItem=e},sd([m("focusService")],t.prototype,"focusService",void 0),sd([P("eHeader")],t.prototype,"eHeader",void 0),sd([P("eBody")],t.prototype,"eBody",void 0),sd([I],t.prototype,"postConstruct",null),t}(te),ij=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),oj=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},aj=50,sj=function(i){ij(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return t.prototype.observeResize=function(e,n){var r=this,o=this.gridOptionsService.getWindow(),a=function(){var u=new o.ResizeObserver(n);return u.observe(e),function(){return u.disconnect()}},s=function(){var u=sv(e),d=av(e),p=!0,f=function(){if(p){var h=sv(e),g=av(e),y=h!==u||g!==d;y&&(u=h,d=g,n()),r.doNextPolyfillTurn(f)}};return f(),function(){return p=!1}},l=this.gridOptionsService.get("suppressBrowserResizeObserver"),c=!!o.ResizeObserver;return c&&!l?a():s()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;if(!this.polyfillScheduled){var n=function(){var r=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],r.forEach(function(o){return o()})};this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(n,aj)}},t=oj([z("resizeObserverService")],t),t}(T),lj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ld=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},cj=function(i){lj(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return t.prototype.setScrollTop=function(e){var n=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,n&&e===0){var r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){this.useAnimationFrame===!1&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))},t.prototype.createTask=function(e,n,r){this.verifyAnimationFrameOn(r);var o={task:e,index:n,createOrder:++this.taskCount};this.addTaskToList(this[r],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,n){e.list.push(n),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var n=this.scrollGoingDown?1:-1;e.list.sort(function(r,o){return r.index!==o.index?n*(o.index-r.index):o.createOrder-r.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,r=n.list,o=this.createTasksP2,a=o.list,s=this.destroyTasks,l=new Date().getTime(),c=new Date().getTime()-l,u=e<=0,d=this.ctrlsService.getGridBodyCtrl();u||c<e;){var p=d.getScrollFeature().scrollGridIfNeeded();if(!p){var f=void 0;if(r.length)this.sortTaskList(n),f=r.pop().task;else if(a.length)this.sortTaskList(o),f=a.pop().task;else if(s.length)f=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(f)||f()}c=new Date().getTime()-l}r.length||a.length||s.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(e):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(e):n.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var n=this,r=!1;return function(){if(!n.isOn()){n.getFrameworkOverrides().setTimeout(e,0);return}r||(r=!0,n.addDestroyTask(function(){r=!1,e()}))}},ld([m("ctrlsService")],t.prototype,"ctrlsService",void 0),ld([m("paginationProxy")],t.prototype,"paginationProxy",void 0),ld([I],t.prototype,"init",null),t=ld([z("animationFrameService")],t),t}(T),ve=function(i){return i.EVERYTHING="group",i.FILTER="filter",i.SORT="sort",i.MAP="map",i.AGGREGATE="aggregate",i.FILTER_AGGREGATES="filter_aggregates",i.PIVOT="pivot",i.NOTHING="nothing",i}(ve||{}),uj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Om=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},dj=function(i){uj(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"},t.prototype.expandRows=function(e){if(this.isClientSideRowModel){var n=new Set(e);this.rowModel.forEachNode(function(r){r.id&&n.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},t.prototype.getExpandedRows=function(){var e=[];return this.rowModel.forEachNode(function(n){var r=n.expanded,o=n.id;r&&o&&e.push(o)}),e},t.prototype.expandAll=function(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)},t.prototype.setRowNodeExpanded=function(e,n,r){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,n,r),e.setExpanded(n))},t.prototype.onGroupExpandedOrCollapsed=function(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:ve.MAP})},Om([m("rowModel")],t.prototype,"rowModel",void 0),Om([I],t.prototype,"postConstruct",null),t=Om([z("expansionService")],t),t}(T),pj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$s=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fj=function(i){pj(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,n){var r=this.getHeaderCellForColumn(e);if(!r)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return n||o.push(r),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var n=this.getHeaderCellForColumn(e);return n?this.addElementsToContainerAndGetWidth([n]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var n=this,r=document.createElement("form");r.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(l){return n.cloneItemIntoDummy(l,r)}),o.appendChild(r);var a=r.offsetWidth;o.removeChild(r);var s=this.getAutoSizePadding();return a+s},t.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},t.prototype.getHeaderCellForColumn=function(e){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(r){var o=r.getHtmlElementForColumnHeader(e);o!=null&&(n=o)}),n},t.prototype.cloneItemIntoDummy=function(e,n){var r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";var o=document.createElement("div"),a=o.classList,s=["ag-header-cell","ag-header-group-cell"].some(function(p){return r.classList.contains(p)});s?(a.add("ag-header","ag-header-row"),o.style.position="static"):a.add("ag-row");for(var l=e.parentElement;l;){var c=["ag-header-row","ag-row"].some(function(p){return l.classList.contains(p)});if(c){for(var u=0;u<l.classList.length;u++){var d=l.classList[u];d!="ag-row-position-absolute"&&a.add(d)}break}l=l.parentElement}o.appendChild(r),n.appendChild(o)},$s([m("rowRenderer")],t.prototype,"rowRenderer",void 0),$s([m("ctrlsService")],t.prototype,"ctrlsService",void 0),$s([m("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),$s([I],t.prototype,"postConstruct",null),t=$s([z("autoWidthCalculator")],t),t}(T),hj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},gj=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mj=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},vj=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},yj=function(i){hj(t,i);function t(e,n){var r=i.call(this)||this;return r.createRowCon=e,r.destroyRowCtrls=n,r.stickyRowCtrls=[],r.containerHeight=0,r}return t.prototype.postConstruct=function(){var e=this;this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(function(n){e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var r=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),a=function(f){var h,g,y;r.push(f);var w;if(e.isClientSide){for(var C=f;C.isExpandable()&&C.expanded;)if(C.master)C=C.detailNode;else if(C.childrenAfterSort){if(C.childrenAfterSort.length===0)break;C=be(C.childrenAfterSort)}w=C.rowTop+C.rowHeight}else if(f.master)w=f.detailNode.rowTop+f.detailNode.rowHeight;else{var b=(h=f.childStore)===null||h===void 0?void 0:h.getStoreBounds();w=((g=b?.heightPx)!==null&&g!==void 0?g:0)+((y=b?.topPx)!==null&&y!==void 0?y:0)}var _=o+n+f.rowHeight;w<_?f.stickyRowTop=n+(w-_):f.stickyRowTop=n,n=0,r.forEach(function(D){var R=D.stickyRowTop+D.rowHeight;n<R&&(n=R)})};;){var s=o+n,l=this.rowModel.getRowIndexAtPixel(s),c=this.rowModel.getRow(l);if(c==null||c.level<0)break;for(var u=[],d=c.parent;d.level>=0;)u.push(d),d=d.parent;var p=u.reverse().find(function(f){return r.indexOf(f)<0&&f.displayed});if(p){a(p);continue}if(c.isExpandable()&&c.expanded&&c.rowTop<s){a(c);continue}break}return this.refreshNodesAndContainerHeight(r,n)},t.prototype.refreshStickyNode=function(e){for(var n=[],r=0;r<this.stickyRowCtrls.length;r++){var o=this.stickyRowCtrls[r].getRowNode();o!==e&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,n){var r,o,a,s=this,l=!1,c=this.stickyRowCtrls.filter(function(y){return e.indexOf(y.getRowNode())===-1}),u=e.filter(function(y){return s.stickyRowCtrls.findIndex(function(w){return w.getRowNode()===y})===-1});(c.length||u.length)&&(l=!0);var d={};c.forEach(function(y){d[y.getRowNode().id]=y,s.stickyRowCtrls=s.stickyRowCtrls.filter(function(w){return w!==y})});try{for(var p=gj(Object.values(d)),f=p.next();!f.done;f=p.next()){var h=f.value;h.getRowNode().sticky=!1}}catch(y){r={error:y}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}this.destroyRowCtrls(d,!1);var g=u.map(function(y){return y.sticky=!0,s.createRowCon(y,!1,!1)});return(a=this.stickyRowCtrls).push.apply(a,vj([],mj(g),!1)),this.stickyRowCtrls.forEach(function(y){return y.setRowTop(y.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(y,w){return w.getRowNode().rowIndex-y.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),l=!0),l},cd([m("rowModel")],t.prototype,"rowModel",void 0),cd([m("rowRenderer")],t.prototype,"rowRenderer",void 0),cd([m("ctrlsService")],t.prototype,"ctrlsService",void 0),cd([I],t.prototype,"postConstruct",null),t}(T),wj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),kn=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Jr=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},ei=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},Cj=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bj=function(i){wj(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var n=function(){e.getAllCellCtrls().forEach(function(l){return l.onRangeSelectionChanged()})},r=function(){e.getAllCellCtrls().forEach(function(l){return l.updateRangeBordersIfRangeCount()})},o=function(){e.eventService.addEventListener(v.EVENT_RANGE_SELECTION_CHANGED,n),e.eventService.addEventListener(v.EVENT_COLUMN_MOVED,r),e.eventService.addEventListener(v.EVENT_COLUMN_PINNED,r),e.eventService.addEventListener(v.EVENT_COLUMN_VISIBLE,r)},a=function(){e.eventService.removeEventListener(v.EVENT_RANGE_SELECTION_CHANGED,n),e.eventService.removeEventListener(v.EVENT_COLUMN_MOVED,r),e.eventService.removeEventListener(v.EVENT_COLUMN_PINNED,r),e.eventService.removeEventListener(v.EVENT_COLUMN_VISIBLE,r)};e.addDestroyFunc(function(){return a()}),e.addManagedPropertyListener("enableRangeSelection",function(l){var c=l.currentValue;c?o():a()});var s=e.gridOptionsService.get("enableRangeSelection");s&&o()},e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){var e=this;if(this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return e.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return e.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return e.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var n=this.rowModel.getType();(n==="clientSide"||n==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new yj(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var e=this.getKeepDetailRowsCount(),n=e??3;this.cachedRowCtrls=new _j(n)}},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=pi(this.rowCtrlsByRowIndex),n=this.gridOptionsService.get("ensureDomOrder"),r=this.gridOptionsService.isDomLayout("print");(n||r)&&e.sort(function(s,l){return s.getRowNode().rowIndex-l.getRowNode.rowIndex});var o=pi(this.zombieRowCtrls),a=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||a.length>0?this.allRowCtrls=ei(ei(ei([],Jr(e),!1),Jr(o),!1),Jr(a),!1):this.allRowCtrls=e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_CELL_FOCUSED,function(n){e.onCellFocusChanged(n)}),this.addManagedListener(this.eventService,v.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,v.EVENT_FLASH_CELLS,function(n){e.getAllCellCtrls().forEach(function(r){return r.onFlashCells(n)})}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,v.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var n=this.columnModel.getAllGridColumns();n.forEach(function(r){var o=function(d){e.getAllCellCtrls().forEach(function(p){p.getColumn()===r&&d(p)})},a=function(){o(function(d){return d.onLeftChanged()})},s=function(){o(function(d){return d.onWidthChanged()})},l=function(){o(function(d){return d.onFirstRightPinnedChanged()})},c=function(){o(function(d){return d.onLastLeftPinnedChanged()})},u=function(){o(function(d){return d.onColDefChanged()})};r.addEventListener("leftChanged",a),r.addEventListener("widthChanged",s),r.addEventListener("firstRightPinnedChanged",l),r.addEventListener("lastLeftPinnedChanged",c),r.addEventListener("colDefChanged",u),e.destroyFuncsForColumnListeners.push(function(){r.removeEventListener("leftChanged",a),r.removeEventListener("widthChanged",s),r.removeEventListener("firstRightPinnedChanged",l),r.removeEventListener("lastLeftPinnedChanged",c),r.removeEventListener("colDefChanged",u)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),n=e||this.gridOptionsService.get("embedFullWidthRows"),r=n!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=n,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){var n={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(n)},t.prototype.getAllCellsForColumn=function(e){var n=[];return this.getAllRowCtrls().forEach(function(r){var o=r.getCellElement(e);o&&n.push(o)}),n},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,n){var r=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,n&&n.forEach(function(o){var a=new to(o,r.beans,!1,!1,r.printLayout);e.push(a)})},t.prototype.onPinnedRowDataChanged=function(){var e={recycleRows:!0};this.redrawAfterModelUpdate(e)},t.prototype.redrawRow=function(e,n){var r=this;if(n===void 0&&(n=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{var o=function(a){var s=a[e.rowIndex];s&&s.getRowNode()===e&&(s.destroyFirstPass(),s.destroySecondPass(),a[e.rowIndex]=r.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var n=this,r=e!=null;if(r){e?.forEach(function(o){return n.redrawRow(o,!0)}),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var n=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(n==null)return null;var r=this.gridOptionsService.getDocument(),o=r.activeElement,a=this.gridOptionsService.getDomData(o,eo.DOM_DATA_KEY_CELL_CTRL),s=this.gridOptionsService.getDomData(o,to.DOM_DATA_KEY_ROW_CTRL),l=a||s;return l?n:null},t.prototype.redrawAfterModelUpdate=function(e){e===void 0&&(e={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var r=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),a=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(a,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),n!=null&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var n=e.newData||e.newPage,r=this.gridOptionsService.get("suppressScrollOnNewData");n&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}var e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},t.prototype.stopEditing=function(e){e===void 0&&(e=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],n=this.getAllRowCtrls(),r=n.length,o=0;o<r;o++)for(var a=n[o].getAllCellCtrls(),s=a.length,l=0;l<s;l++)e.push(a[l]);return e},t.prototype.getAllRowCtrls=function(){var e,n,r=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=ei(ei(ei([],Jr(this.topRowCtrls),!1),Jr(this.bottomRowCtrls),!1),Jr(r),!1);try{for(var a=Cj(Object.keys(this.rowCtrlsByRowIndex)),s=a.next();!s.done;s=a.next()){var l=s.value;o.push(this.rowCtrlsByRowIndex[l])}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,n,r){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(e,r)},t.prototype.flashCells=function(e){e===void 0&&(e={});var n=e.flashDelay,r=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.flashCell({flashDelay:n,fadeDelay:r})})},t.prototype.refreshCells=function(e){var n=this;e===void 0&&(e={});var r={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.refreshOrDestroyCell(r)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){if(o.isFullWidth()){var a=o.refreshFullWidth();a||n.redrawRow(o.getRowNode(),!0)}}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var n=this,r,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(l){return l.getCellRenderer()}).filter(function(l){return l!=null});if(!((r=e.columns)===null||r===void 0)&&r.length)return o;var a=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(l){if(!(s&&!n.isRowInMap(l.getRowNode(),s))&&l.isFullWidth()){var c=l.getFullWidthCellRenderer();c&&a.push(c)}}),ei(ei([],Jr(a),!1),Jr(o),!1)},t.prototype.getCellEditorInstances=function(e){var n=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(r){var o=r.getCellEditor();o&&n.push(o)}),n},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var r=n.getCellPosition();e.push(r)}}),e},t.prototype.mapRowNodes=function(e){if(e){var n={top:{},bottom:{},normal:{}};return e.forEach(function(r){var o=r.id;r.rowPinned==="top"?n.top[o]=r:r.rowPinned==="bottom"?n.bottom[o]=r:n.normal[o]=r}),n}},t.prototype.isRowInMap=function(e,n){var r=e.id,o=e.rowPinned;return o==="bottom"?n.bottom[r]!=null:o==="top"?n.top[r]!=null:n.normal[r]!=null},t.prototype.getRowCtrls=function(e){var n=this,r=this.mapRowNodes(e),o=this.getAllRowCtrls();return!e||!r?o:o.filter(function(a){var s=a.getRowNode();return n.isRowInMap(s,r)})},t.prototype.getCellCtrls=function(e,n){var r=this,o;x(n)&&(o={},n.forEach(function(s){var l=r.columnModel.getGridColumn(s);x(l)&&(o[l.getId()]=!0)}));var a=[];return this.getRowCtrls(e).forEach(function(s){s.getAllCellCtrls().forEach(function(l){var c=l.getColumn().getId(),u=o&&!o[c];u||a.push(l)})}),a},t.prototype.destroy=function(){this.removeAllRowComps(),i.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];ft(this.rowCtrlsByRowIndex,function(r,o){var a=o.getRowNode().id==null;a&&e.push(r)}),this.removeRowCtrls(e);var n={};return ft(this.rowCtrlsByRowIndex,function(r,o){var a=o.getRowNode();n[a.id]=o}),this.rowCtrlsByRowIndex={},n},t.prototype.removeRowCtrls=function(e){var n=this;e.forEach(function(r){var o=n.rowCtrlsByRowIndex[r];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete n.rowCtrlsByRowIndex[r]})},t.prototype.onBodyScroll=function(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){e===void 0&&(e={});var n=e.afterScroll,r;this.stickyRowFeature&&Zd()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var s=!1;this.stickyRowFeature&&(s=this.stickyRowFeature.checkStickyRows());var l=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(n&&!s&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n),r!=null)){var c=this.getCellToRestoreFocusToAfterRefresh();r!=null&&c==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}},t.prototype.removeRowCompsNotToDraw=function(e){var n={};e.forEach(function(a){return n[a]=!0});var r=Object.keys(this.rowCtrlsByRowIndex),o=r.filter(function(a){return!n[a]});this.removeRowCtrls(o)},t.prototype.calculateIndexesToDraw=function(e){var n=this,r=cx(this.firstRenderedRow,this.lastRenderedRow),o=function(u,d){var p=d.getRowNode().rowIndex;p!=null&&(p<n.firstRenderedRow||p>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(d)&&r.push(p)};ft(this.rowCtrlsByRowIndex,o),ft(e,o),r.sort(function(u,d){return u-d});for(var a=[],s=0;s<r.length;s++){var l=r[s],c=this.paginationProxy.getRow(l);c&&!c.sticky&&a.push(l)}return a},t.prototype.recycleRows=function(e,n,r){var o=this;n===void 0&&(n=!1),r===void 0&&(r=!1);var a=this.calculateIndexesToDraw(e);if(this.removeRowCompsNotToDraw(a),this.printLayout&&(n=!1),a.forEach(function(l){var c=o.createOrUpdateRowCtrl(l,e,n,r);x(c)}),e){var s=r&&!this.gridOptionsService.get("suppressAnimationFrame")&&!this.printLayout;s?this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,n)}this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){e===void 0&&(e=!1);var n={type:v.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(n)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight(),r=this.pinningLeft!==e||n!==this.pinningRight;r&&(this.pinningLeft=e,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(n){var r=n.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var n=this,r=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var a=o.getRowNode();return!(r!=null&&!n.isRowInMap(a,r))})},t.prototype.createOrUpdateRowCtrl=function(e,n,r,o){var a,s=this.rowCtrlsByRowIndex[e];s||(a=this.paginationProxy.getRow(e),x(a)&&x(n)&&n[a.id]&&a.alreadyRendered&&(s=n[a.id],n[a.id]=null));var l=!s;if(l)if(a||(a=this.paginationProxy.getRow(e)),x(a))s=this.createRowCon(a,r,o);else return;return a&&(a.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s},t.prototype.destroyRowCtrls=function(e,n){var r=this,o=[];ft(e,function(a,s){if(s){if(r.cachedRowCtrls&&s.isCacheable()){r.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(),n?(r.zombieRowCtrls[s.getInstanceId()]=s,o.push(function(){s.destroySecondPass(),delete r.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),n&&(o.push(function(){r.updateAllRowCtrls(),r.dispatchDisplayedRowsChanged()}),T0(o))},t.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},t.prototype.getRowBufferInPixels=function(){var e=this.getRowBuffer(),n=this.gridOptionsService.getRowHeightAsNumber();return e*n},t.prototype.workOutFirstAndLastRowsToRender=function(){this.rowContainerHeightService.updateOffset();var e,n;if(!this.paginationProxy.isRowsToRender())e=0,n=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var r=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),a=this.gridOptionsService.get("suppressRowVirtualisation"),s=!1,l=void 0,c=void 0;do{var u=this.paginationProxy.getPixelOffset(),d=this.paginationProxy.getCurrentPagePixelRange(),p=d.pageFirstPixel,f=d.pageLastPixel,h=this.rowContainerHeightService.getDivStretchOffset(),g=o.getScrollFeature().getVScrollPosition(),y=g.top,w=g.bottom;a?(l=p+h,c=f+h):(l=Math.max(y+u-r,p)+h,c=Math.min(w+u+r,f)+h),this.firstVisibleVPixel=Math.max(y+u,p)+h,s=this.ensureAllRowsInRangeHaveHeightsCalculated(l,c)}while(s);var C=this.paginationProxy.getRowIndexAtPixel(l),b=this.paginationProxy.getRowIndexAtPixel(c),_=this.paginationProxy.getPageFirstRow(),D=this.paginationProxy.getPageLastRow();C<_&&(C=_),b>D&&(b=D),e=C,n=b}var R=this.gridOptionsService.isDomLayout("normal"),M=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),O=Math.max(this.getRowBuffer(),500);R&&!M&&n-e>O&&(n=e+O);var k=e!==this.firstRenderedRow,V=n!==this.lastRenderedRow;if(k||V){this.firstRenderedRow=e,this.lastRenderedRow=n;var U={type:v.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:n};this.eventService.dispatchEvent(U)}},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:v.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(n)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,n){var r=this.paginationProxy.ensureRowHeightsValid(e,n,-1,-1);return r&&this.updateContainerHeights(),r},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var n=!1,r=!0,o=e.getRowNode(),a=this.focusService.isRowNodeFocused(o),s=e.isEditing(),l=o.detail,c=a||s||l;if(!c)return n;var u=this.paginationProxy.isRowPresent(o);return u?r:n},t.prototype.createRowCon=function(e,n,r){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var a=this.gridOptionsService.get("suppressAnimationFrame"),s=r&&!a&&!this.printLayout,l=new to(e,this.beans,n,s,this.printLayout);return l},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(n){return e[n].getRowNode()})},t.prototype.getRowByPosition=function(e){var n,r=e.rowIndex;switch(e.rowPinned){case"top":n=this.topRowCtrls[r];break;case"bottom":n=this.bottomRowCtrls[r];break;default:n=this.rowCtrlsByRowIndex[r],n||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===r})||null);break}return n},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,n){var r=e==null||n==null;if(r)return!1;var o=e>this.lastRenderedRow,a=n<this.firstRenderedRow,s=!a&&!o;return s},kn([m("animationFrameService")],t.prototype,"animationFrameService",void 0),kn([m("paginationProxy")],t.prototype,"paginationProxy",void 0),kn([m("columnModel")],t.prototype,"columnModel",void 0),kn([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),kn([m("rowModel")],t.prototype,"rowModel",void 0),kn([m("focusService")],t.prototype,"focusService",void 0),kn([m("beans")],t.prototype,"beans",void 0),kn([m("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),kn([m("ctrlsService")],t.prototype,"ctrlsService",void 0),kn([I],t.prototype,"postConstruct",null),t=kn([z("rowRenderer")],t),t}(T),_j=function(){function i(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return i.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},i.prototype.getRow=function(t){if(t==null||t.id==null)return null;var e=this.entriesMap[t.id];if(!e)return null;this.removeFromCache(e),e.setCached(!1);var n=e.getRowNode()!=t;return n?null:e},i.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],Yt(this.entriesList,t)},i.prototype.getEntries=function(){return this.entriesList},i}(),Sj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),UE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ej=function(i){Sj(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.formatValue=function(e,n,r,o,a){a===void 0&&(a=!0);var s=null,l,c=e.getColDef();if(o?l=o:a&&(l=c.valueFormatter),l){var u={value:r,node:n,data:n?n.data:null,colDef:c,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};typeof l=="function"?s=l(u):s=this.expressionService.evaluate(l,u)}else if(c.refData)return c.refData[r]||"";return s==null&&Array.isArray(r)&&(s=r.join(", ")),s},UE([m("expressionService")],t.prototype,"expressionService",void 0),t=UE([z("valueFormatterService")],t),t}(T),xj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Am=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Dj=function(i){xj(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return e.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return e.setPinnedBottomRowData()})},t.prototype.isEmpty=function(e){var n=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Ft(n)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,n){var r=n==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Ft(r))return 0;for(var o=0;o<r.length;o++){var a=r[o],s=a.rowTop+a.rowHeight-1;if(s>=e)return o}return r.length-1},t.prototype.setPinnedTopRowData=function(){var e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);var n={type:v.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},t.prototype.setPinnedBottomRowData=function(){var e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);var n={type:v.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(n)},t.prototype.createNodesFromData=function(e,n){var r=this,o=[];if(e){var a=0;e.forEach(function(s,l){var c=new ce(r.beans);c.data=s;var u=n?ce.ID_PREFIX_TOP_PINNED:ce.ID_PREFIX_BOTTOM_PINNED;c.id=u+l,c.rowPinned=n?"top":"bottom",c.setRowTop(a),c.setRowHeight(r.gridOptionsService.getRowHeightForNode(c).height),c.setRowIndex(l),a+=c.rowHeight,o.push(c)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){Ft(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){Ft(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||e.length===0)return 0;var n=be(e);return n.rowTop+n.rowHeight},Am([m("beans")],t.prototype,"beans",void 0),Am([I],t.prototype,"init",null),t=Am([z("pinnedRowModel")],t),t}(T);var ap=function(){function i(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return i.prototype.setInactive=function(){this.active=!1},i.prototype.isActive=function(){return this.active},i.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},i.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var r=0;r<t.childrenAfterGroup.length;r++){var o=t.childrenAfterGroup[r];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[r],e,n):n&&e(o)}e(t)},i.prototype.forEachChangedNodeDepthFirst=function(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},i.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},i.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];){var r={rowNode:e,children:null};this.mapToItems[e.id]=r,n++,e=e.parent}return n},i.prototype.populateColumnsMap=function(t,e){var n=this;if(!(!this.keepingColumns||!e))for(var r=t;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),e.forEach(function(o){return n.nodeIdsToColumns[r.id][o.getId()]=!0}),r=r.parent},i.prototype.linkPathItems=function(t,e){for(var n=t,r=0;r<e;r++){var o=this.mapToItems[n.id],a=this.mapToItems[n.parent.id];a.children||(a.children=[]),a.children.push(o),n=n.parent}},i.prototype.addParentNode=function(t,e){if(!(!t||t.isRowPinned())){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},i.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},i.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id],r=e.filter(function(o){return n[o.getId()]});return r},i.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id],r=e.filter(function(o){return!n[o.getId()]});return r},i}(),Tj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vv=function(i){Tj(t,i);function t(e){var n=i.call(this)||this;return n.state=t.STATE_WAITING_TO_LOAD,n.version=0,n.id=e,n}return t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){var n=this.isRequestMostRecentAndLive(e);n&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,n){this.successCommon(e,n)},t.prototype.pageLoaded=function(e,n,r){this.successCommon(e,{rowData:n,rowCount:r})},t.prototype.isRequestMostRecentAndLive=function(e){var n=e===this.version,r=this.isAlive();return n&&r},t.prototype.successCommon=function(e,n){this.dispatchLoadCompleted();var r=this.isRequestMostRecentAndLive(e);r&&(this.state=t.STATE_LOADED,this.processServerResult(n))},t.prototype.dispatchLoadCompleted=function(e){e===void 0&&(e=!0);var n={type:t.EVENT_LOAD_COMPLETE,success:e,block:this};this.dispatchEvent(n)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(T),Rj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ud=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Oj=function(i,t){return function(e,n){t(e,n,i)}},Aj=function(i){Rj(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.get("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=ie.debounce(this.performCheckBlocksToLoad.bind(this),n))},t.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.get("maxConcurrentDatasourceRequests");if(n==null)return 2;if(!(n<=0))return n},t.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(vv.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(n){ie.removeFromArray(this.blocks,n)},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}var n=this.getAvailableLoadingCount(),r=this.blocks.filter(function(o){return o.getState()===vv.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(r.length),r.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide")){var n=this.rowModel;return n.getBlockStates()}var r={};return this.blocks.forEach(function(o){var a=o.getBlockStateJson(),s=a.id,l=a.state;r[s]=l}),r},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},t.prototype.getAvailableLoadingCount=function(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0};var e;return t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",ud([m("rowModel")],t.prototype,"rowModel",void 0),ud([I],t.prototype,"postConstruct",null),ud([Oj(0,Nt("loggerFactory"))],t.prototype,"setBeans",null),t=e=ud([z("rowNodeBlockLoader")],t),t}(T),Ij=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Im=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Mj=function(i){Ij(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return t.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,n,r,o){var a=this.rowModel.ensureRowHeightsValid(e,n,this.getPageFirstRow(),this.getPageLastRow());return a&&this.calculatePages(),a},t.prototype.isPaginateChildRows=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren")||this.gridOptionsService.get("groupRemoveLowestSingleChildren");return e?!0:this.gridOptionsService.get("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages();var n={type:v.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(n)},t.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages();var e={type:v.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},t.prototype.goToPage=function(e){if(!(!this.active||this.currentPage===e||typeof this.currentPage!="number")){this.currentPage=e;var n={type:v.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1};this.onModelUpdated(n)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return K(this.topRowBounds)||K(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){var e=this.topRowBounds?this.topRowBounds.rowTop:0,n=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:n}},t.prototype.isRowPresent=function(e){if(!this.rowModel.isRowPresent(e))return!1;var n=e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex;return n},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var n=this.getPageFirstRow(),r=this.getPageLastRow(),o=n;o<=r;o++){var a=this.getRow(o);a&&e(a)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var n=this.rowModel.getRowBounds(e);return n.rowIndex=e,n},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var n=this.getPageForIndex(e);this.goToPage(n)}},t.prototype.isRowInPage=function(e){if(!this.active)return!0;var n=this.getPageForIndex(e.rowIndex);return n===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),n=Math.floor(e/this.pageSize);this.goToPage(n)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPage=function(e){this.currentPage=e},Object.defineProperty(t.prototype,"pageSize",{get:function(){return x(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:x(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:x(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:x(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),t.prototype.unsetAutoCalculatedPageSize=function(){if(this.pageSizeAutoCalculated!==void 0){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:v.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},t.prototype.setPageSize=function(e,n){var r=this.pageSize;switch(n){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(r!==this.pageSize){var o={type:v.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0};this.onModelUpdated(o)}},t.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(x(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:v.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var n=this.pageSize*this.currentPage,r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(n),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=o-1}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)},t.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Im([m("rowModel")],t.prototype,"rowModel",void 0),Im([I],t.prototype,"postConstruct",null),t=Im([z("paginationProxy")],t),t}(T),Pj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),WE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Fj=function(i){Pj(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.processAllCellClasses=function(e,n,r,o){this.processClassRules(void 0,e.cellClassRules,n,r,o),this.processStaticCellClasses(e,n,r)},t.prototype.processClassRules=function(e,n,r,o,a){if(!(n==null&&e==null)){var s={},l={},c=function(h,g){h.split(" ").forEach(function(y){y.trim()!=""&&g(y)})};if(n)for(var u=Object.keys(n),d=function(h){var g=u[h],y=n[g],w;typeof y=="string"?w=p.expressionService.evaluate(y,r):typeof y=="function"&&(w=y(r)),c(g,function(C){w?s[C]=!0:l[C]=!0})},p=this,f=0;f<u.length;f++)d(f);e&&a&&Object.keys(e).forEach(function(h){return c(h,function(g){s[g]||(l[g]=!0)})}),a&&Object.keys(l).forEach(a),Object.keys(s).forEach(o)}},t.prototype.getStaticCellClasses=function(e,n){var r=e.cellClass;if(!r)return[];var o;if(typeof r=="function"){var a=r;o=a(n)}else o=r;return typeof o=="string"&&(o=[o]),o||[]},t.prototype.processStaticCellClasses=function(e,n,r){var o=this.getStaticCellClasses(e,n);o.forEach(function(a){r(a)})},WE([m("expressionService")],t.prototype,"expressionService",void 0),t=WE([z("stylingService")],t),t}(T),Nj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lj=function(i){Nj(t,i);function t(e){return i.call(this,e,"ag-toggle-button")||this}return t.prototype.setValue=function(e,n){return i.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(tp),kj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),zj=function(i){kj(t,i);function t(e){return i.call(this,e,"ag-text-area",null,"textarea")||this}return t.prototype.setValue=function(e,n){var r=i.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(ci),Vj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gj=function(i){Vj(t,i);function t(e){return i.call(this,e,"ag-date-field","date")||this}return t.prototype.postConstruct=function(){var e=this;i.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=Hn();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||n||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var n,r=e instanceof Date?(n=mn(e??null,!1))!==null&&n!==void 0?n:void 0:e;return this.min===r?this:(this.min=r,sr(this.eInput,"min",r),this)},t.prototype.setMax=function(e){var n,r=e instanceof Date?(n=mn(e??null,!1))!==null&&n!==void 0?n:void 0:e;return this.max===r?this:(this.max=r,sr(this.eInput,"max",r),this)},t.prototype.setStep=function(e){return this.step===e?this:(this.step=e,sr(this.eInput,"step",e),this)},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return(e=Lt(this.getValue()))!==null&&e!==void 0?e:void 0},t.prototype.setDate=function(e,n){this.setValue(mn(e??null,!1),n)},t}(ao),Hj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jj=function(i){Hj(t,i);function t(e){return i.call(this,e,"ag-range-field","range")||this}return t.prototype.postConstruct=function(){i.prototype.postConstruct.call(this);var e=this.config,n=e.min,r=e.max,o=e.step;n!=null&&this.setMinValue(n),r!=null&&this.setMaxValue(r),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){var r=n.target.value;e.setValue(r)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,n){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());var r=i.prototype.setValue.call(this,e,n);return this.eInput.value=e,r},t}(ci),Bj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Uj=function(i){Bj(t,i);function t(e,n){var r=i.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return r.params=e,r.wrapperEl=n,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},t.prototype.setState=function(e){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(e));var r=this.populateWithRenderer(e,n);r||this.populateWithoutRenderer(e,n),this.value=e},t.prototype.highlightString=function(e){var n=this.parsedValue;if(!(this.params.cellRenderer||!x(n))){var r=x(e);if(r){var o=n?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){var a=o+e.length,s=$e(n.slice(0,o),!0),l=$e(n.slice(o,a),!0),c=$e(n.slice(a));this.renderValueWithoutRenderer("".concat(s,'<span class="ag-rich-select-row-text-highlight">').concat(l,"</span>").concat(c))}else r=!1}r||this.renderValueWithoutRenderer(n)}},t.prototype.updateHighlighted=function(e){var n,r=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());if((n=r.parentElement)===null||n===void 0||n.setAttribute("id",o),e){var a=this.getParentComponent().getAriaElement();xv(a,o),this.wrapperEl.setAttribute("data-active-option",o)}_a(r.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,n){var r=this.gridOptionsService.getDocument(),o=this.getGui(),a=r.createElement("span");a.style.overflow="hidden",a.style.textOverflow="ellipsis";var s=$e(x(n)?n:e,!0);this.parsedValue=x(s)?s:null,o.appendChild(a),this.renderValueWithoutRenderer(s)},t.prototype.renderValueWithoutRenderer=function(e){var n=this.getGui().querySelector("span");n&&(n.innerHTML=x(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,n){var r=this,o,a;return this.params.cellRenderer&&(a=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:n,api:this.gridOptionsService.api})),a&&(o=a.newAgStackInstance()),o&&Uv(o,this.getGui()),o?(o.then(function(s){r.addDestroyFunc(function(){r.getContext().destroyBean(s)})}),!0):!1},t.prototype.onMouseUp=function(){var e=this.getParentComponent(),n={type:v.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e?.dispatchEvent(n)},qE([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),qE([I],t.prototype,"postConstruct",null),t}(te),Wj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$E=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fl=function(i){return i.TAB_GUARD="ag-tab-guard",i.TAB_GUARD_TOP="ag-tab-guard-top",i.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",i}(fl||{}),qj=function(i){Wj(t,i);function t(e){var n=i.call(this)||this;n.skipTabGuardFocus=!1;var r=e.comp,o=e.eTopGuard,a=e.eBottomGuard,s=e.focusInnerElement,l=e.onFocusIn,c=e.onFocusOut,u=e.shouldStopEventPropagation,d=e.onTabKeyDown,p=e.handleKeyDown,f=e.eFocusableElement;return n.comp=r,n.eTopGuard=o,n.eBottomGuard=a,n.providedFocusInnerElement=s,n.eFocusableElement=f,n.providedFocusIn=l,n.providedFocusOut=c,n.providedShouldStopEventPropagation=u,n.providedOnTabKeyDown=d,n.providedHandleKeyDown=p,n}return t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new mi(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)},onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return e.addManagedListener(n,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1},t.prototype.activateTabGuards=function(){var e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}var n=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var n=this;if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(!e.defaultPrevented){var r=this.tabGuardsAreActive();r&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);r&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){e===void 0&&(e=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[e?n.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1);var n=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,n.focus()},$E([m("focusService")],t.prototype,"focusService",void 0),$E([I],t.prototype,"postConstruct",null),t}(T),$j=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kj=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Yj=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},sp=function(i){$j(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],r={setTabIndex:function(o){n.forEach(function(a){return o!=null?a.setAttribute("tabindex",o):a.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new qj({comp:r,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var n=document.createElement("div"),r=e==="top"?fl.TAB_GUARD_TOP:fl.TAB_GUARD_BOTTOM;return n.classList.add(fl.TAB_GUARD,r),Je(n,"presentation"),n},t.prototype.addTabGuards=function(e,n){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",n)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];rt(this.getFocusableElement()),this.addTabGuards.apply(this,Yj([],Kj(e),!1))},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,n){Dl(e)||(e=e.getGui());var r=this.eBottomGuard;r?r.insertAdjacentElement("beforebegin",e):i.prototype.appendChild.call(this,e,n)},t}(te),Qj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),dd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Jx=function(i){Qj(t,i);function t(e){var n=i.call(this,t.getTemplate(e?.cssIdentifier||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var r=e||{},o=r.cssIdentifier,a=o===void 0?"default":o,s=r.ariaRole,l=s===void 0?"listbox":s,c=r.listName;return n.cssIdentifier=a,n.ariaRole=l,n.listName=c,n}return t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)},focusInnerElement:function(n){return e.focusInnerElement(n)},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var e=this.localeService.getLocaleTextFunc(),n=e("ariaDefaultListName",this.listName||"List"),r=this.eContainer;Je(r,this.ariaRole),Or(r,n)},t.prototype.addResizeObserver=function(){var e=this,n=function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})},r=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(r)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var n=e.target;return n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=$0(n)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case S.UP:case S.DOWN:this.navigate(e.key===S.UP)&&e.preventDefault();break}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(lr(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(this.lastFocusedRowIndex==null)return!1;var n=this.lastFocusedRowIndex+(e?-1:1);return n<0||n>=this.model.getRowCount()?!1:(this.focusRow(n),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var n=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(n.isAlive()){var r=n.renderedRows.get(e);r&&r.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var n=this.renderedRows.get(e);return n&&n.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(n,r){return e(n.rowComponent,r)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,`-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-`).concat(e,`-virtual-list-container" ref="eContainer"></div>
            </div>`)},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,n){n===void 0&&(n=!0);var r=this.model.getRowCount();if(typeof e!="number"||e<0||e>=r)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,a=o+this.rowHeight,s=this.getGui(),l=s.scrollTop,c=s.offsetHeight,u=l+c,d=n?0:this.rowHeight,p=l>o+d,f=u<a-d;if(p)return s.scrollTop=o,!0;if(f){var h=a-c;return s.scrollTop=h,!0}return!1},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var n=this;if(!(this.model==null||!this.isAlive())){var r=this.model.getRowCount();this.eContainer.style.height="".concat(r*this.rowHeight,"px"),wv(function(){return n.eContainer.clientHeight>=r*n.rowHeight},function(){n.isAlive()&&(n.canSoftRefresh(e)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(n,r){return e.removeRow(r)})},t.prototype.drawVirtualRows=function(e){if(!(!this.isAlive()||!this.model)){var n=this.getGui(),r=n.scrollTop,o=r+n.offsetHeight,a=Math.floor(r/this.rowHeight),s=Math.floor(o/this.rowHeight);this.ensureRowsRendered(a,s,e)}},t.prototype.ensureRowsRendered=function(e,n,r){var o=this;this.renderedRows.forEach(function(s,l){(l<e||l>n)&&l!==o.lastFocusedRowIndex&&o.removeRow(l)}),r&&this.refreshRows();for(var a=e;a<=n;a++)this.renderedRows.has(a)||a<this.model.getRowCount()&&this.insertRow(a)},t.prototype.insertRow=function(e){var n=this,r=this.model.getRow(e),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),Je(o,this.ariaRole==="tree"?"treeitem":"option"),Dv(o,this.model.getRowCount()),Tv(o,e+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*e,"px");var a=this.componentCreator(r,o);a.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=e}),o.appendChild(a.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:a,eDiv:o,value:r})},t.prototype.removeRow=function(e){var n=this.renderedRows.get(e);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,n=this.model.getRowCount();this.renderedRows.forEach(function(r,o){var a,s;if(o>=n)e.removeRow(o);else{var l=e.model.getRow(o);!((s=(a=e.model).areRowsEqual)===null||s===void 0)&&s.call(a,r.value,l)?e.componentUpdater(l,r.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){this.isAlive()&&(this.clearVirtualRows(),i.prototype.destroy.call(this))},dd([m("resizeObserverService")],t.prototype,"resizeObserverService",void 0),dd([m("animationFrameService")],t.prototype,"animationFrameService",void 0),dd([P("eContainer")],t.prototype,"eContainer",void 0),dd([I],t.prototype,"postConstruct",null),t}(sp),Zj=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hd=function(){return Hd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Hd.apply(this,arguments)},KE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Xj=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Jj=function(i){Zj(t,i);function t(e){var n=this,r,o;n=i.call(this,Hd(Hd({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(r=e?.template)!==null&&r!==void 0?r:Xj,modalPicker:!1},e),{maxPickerHeight:(o=e?.maxPickerHeight)!==null&&o!==void 0?o:"calc(var(--ag-row-height) * 6.5)"}))||this,n.searchString="",n.highlightedItem=-1,n.lastRowHovered=-1,n.searchStringCreator=null;var a=e||{},s=a.cellRowHeight,l=a.value,c=a.valueList,u=a.searchStringCreator;return s!=null&&(n.cellRowHeight=s),l!==void 0&&(n.value=l),c!=null&&(n.values=c),u&&(n.searchStringCreator=u),n}return t.prototype.postConstruct=function(){var e=this;i.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var n=this.config,r=n.allowTyping,o=n.placeholder;r?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var a=this.config.searchDebounceDelay,s=a===void 0?300:a;this.clearSearchString=hn(this.clearSearchString,s),this.renderSelectedValue(),r&&(this.eInput.onValueChange(function(l){return e.searchTextFromString(l)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),r=e.createElement("div");r.classList.add("ag-loading-text"),r.innerText=n("loadingOoo","Loading..."),this.eLoading=r},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new Jx({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,v.EVENT_FIELD_PICKER_VALUE_SELECTED,function(c){e.onListValueSelected(c.value,c.fromEnterKey)});var n=this.cellRowHeight;n&&this.listComponent.setRowHeight(n);var r=this.listComponent.getGui(),o=this.listComponent.getAriaElement();this.addManagedListener(r,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(r,"mousedown",function(c){return c.preventDefault()}),r.classList.add("ag-rich-select-list");var a="ag-rich-select-list-".concat(this.listComponent.getCompId());o.setAttribute("id",a);var s=this.localeService.getLocaleTextFunc(),l=s(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Or(o,l),Av(this.eWrapper,o)},t.prototype.renderSelectedValue=function(){var e=this,n=this,r=n.value,o=n.eDisplayField,a=n.config,s=this.config,l=s.allowTyping,c=s.initialInputValue,u=this.config.valueFormatter?this.config.valueFormatter(r):r;if(l){this.eInput.setValue(c??u);return}var d;a.cellRenderer&&(d=this.userComponentFactory.getCellRendererDetails(this.config,{value:r,valueFormatted:u,api:this.gridOptionsService.api}));var p;if(d&&(p=d.newAgStackInstance()),p)rt(o),Uv(p,o),p.then(function(h){e.addDestroyFunc(function(){return e.getContext().destroyBean(h)})});else if(x(this.value))o.innerText=u,o.classList.remove("ag-display-as-placeholder");else{var f=a.placeholder;x(f)?(o.innerHTML="".concat($e(f)),o.classList.add("ag-display-as-placeholder")):rt(o)}},t.prototype.getCurrentValueIndex=function(){var e=this,n=e.currentList,r=e.value;if(r==null||!n)return-1;for(var o=0;o<n.length;o++)if(n[o]===r)return o;return-1},t.prototype.highlightFilterMatch=function(){var e=this,n;(n=this.listComponent)===null||n===void 0||n.forEachRenderedRow(function(r,o){r.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var n=this,r;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(r=this.listComponent)===null||r===void 0||r.forEachRenderedRow(function(o,a){var s=e===-1?!1:n.highlightedItem===a;o.updateHighlighted(s)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var n=e.valueList,r=e.refresh;this.listComponent&&this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]}}),r&&(this.values?this.listComponent.refresh():(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){i.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},t.prototype.showCurrentValueInPicker=function(){var e,n;if(this.listComponent){if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}!((e=this.eLoading)===null||e===void 0)&&e.offsetParent&&((n=this.eLoading.parentElement)===null||n===void 0||n.removeChild(this.eLoading));var r=this.getCurrentValueIndex();r!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(r),this.listComponent.refresh(!0),this.highlightSelectedValue(r)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,i.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(){if(this.eInput){var e=this.eInput.getFocusableElement();e.focus(),e.select()}},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var n=e.key;if(n===S.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!Jd(e))return;e.preventDefault(),this.searchTextFromCharacter(n)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){e==null&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var n=this.config.valueFormatter,r=n===void 0?function(a){return a}:n,o;return typeof e[0]=="number"||typeof e[0]=="string"?o=e.map(function(a){return r(a)}):typeof e[0]=="object"&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,n){var r=this,o=[],a=[];if(!e.length)return{suggestions:o,filteredValues:a};var s=this.config,l=s.searchType,c=l===void 0?"fuzzy":l,u=s.filterList;if(c==="fuzzy"){var d=Tl(this.searchString,n,!0);o=d.values;var p=d.indices;if(u&&p.length)for(var f=0;f<p.length;f++)a.push(this.values[p[f]])}else o=n.filter(function(h,g){var y=h.toLocaleLowerCase(),w=r.searchString.toLocaleLowerCase(),C=c==="match"?y.startsWith(w):y.indexOf(w)!==-1;return u&&C&&a.push(r.values[g]),C});return{suggestions:o,filteredValues:a}},t.prototype.filterListModel=function(e){var n=this.config.filterList;n&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())},t.prototype.runSearch=function(){var e,n,r=this.values,o=this.buildSearchStrings(r);if(!o){this.highlightSelectedValue(-1);return}var a=this.getSuggestionsAndFilteredValues(this.searchString,o),s=a.suggestions,l=a.filteredValues,c=this.config,u=c.filterList,d=c.highlightMatch,p=c.searchType,f=p===void 0?"fuzzy":p,h=l.length,g=!!(u&&this.searchString!=="");if(this.filterListModel(g?l:r),s.length){var y=g?0:o.indexOf(s[0]);this.selectListItem(y)}else if(this.highlightSelectedValue(-1),!g||h)(e=this.listComponent)===null||e===void 0||e.ensureIndexVisible(0);else if(g){this.getAriaElement().removeAttribute("data-active-option");var w=(n=this.listComponent)===null||n===void 0?void 0:n.getAriaElement();w&&xv(w,null)}d&&f!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()},t.prototype.displayOrHidePicker=function(){var e,n=(e=this.listComponent)===null||e===void 0?void 0:e.getGui(),r=this.currentList?this.currentList.length===0:!1;n?.classList.toggle("ag-hidden",r)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,n){if(!(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)){var r=this.listComponent.ensureIndexVisible(e,!n);r&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}},t.prototype.setValue=function(e,n,r){var o=this.currentList?this.currentList.indexOf(e):-1;return o===-1?this:(this.value=e,r||this.selectListItem(o),this.renderSelectedValue(),i.prototype.setValue.call(this,e,n))},t.prototype.createRowComponent=function(e){var n=new Uj(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(e);var r=this.config,o=r.highlightMatch,a=r.searchType,s=a===void 0?"fuzzy":a;return o&&s!=="fuzzy"&&n.highlightString(this.searchString),n},t.prototype.getRowForMouseEvent=function(e){var n=this.listComponent;if(!n)return-1;var r=n?.getGui(),o=r.getBoundingClientRect(),a=n.getScrollTop(),s=e.clientY-o.top+a;return Math.floor(s/n.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var n=this.getRowForMouseEvent(e);n!==-1&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0))}},t.prototype.onNavigationKeyDown=function(e,n){e.preventDefault();var r=n===S.DOWN;if(!this.isPickerDisplayed&&r){this.showPicker();return}var o=this.highlightedItem,a=r?1:-1,s=o===-1?0:o+a;this.selectListItem(s)},t.prototype.onEnterKeyDown=function(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,n){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,n),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,n){var r={type:v.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:e};this.dispatchEvent(r)},t.prototype.getFocusableElement=function(){var e=this.config.allowTyping;return e?this.eInput.getFocusableElement():i.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var n=e.key,r=this.config.allowTyping;switch(n){case S.LEFT:case S.RIGHT:case S.PAGE_HOME:case S.PAGE_END:r||e.preventDefault();break;case S.PAGE_UP:case S.PAGE_DOWN:e.preventDefault();break;case S.DOWN:case S.UP:this.onNavigationKeyDown(e,n);break;case S.ESCAPE:this.isPickerDisplayed&&(zt(this.listComponent.getGui())&&(e.preventDefault(),lr(e)),this.hidePicker());break;case S.ENTER:this.onEnterKeyDown(e);break;case S.TAB:this.onTabKeyDown();break;default:r||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,i.prototype.destroy.call(this)},KE([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),KE([P("eInput")],t.prototype,"eInput",void 0),t}(Ox),eB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},tB=function(i){eB(t,i);function t(e){var n=i.call(this,e,t.TEMPLATE)||this;return n.labelAlignment="top",n}return t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var n=this,r=v.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,r,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,r,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e?this:(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:v.EVENT_FIELD_VALUE_CHANGED}),this)},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`,pd([P("eLabel")],t.prototype,"eLabel",void 0),pd([P("eSlider")],t.prototype,"eSlider",void 0),pd([P("eText")],t.prototype,"eText",void 0),pd([I],t.prototype,"init",null),t}(Tx),nB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ti=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},rB=function(i){nB(t,i);function t(e){e===void 0&&(e={});var n=i.call(this,t.getTemplate(e))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var r=e.title,o=e.enabled,a=e.items,s=e.suppressEnabledCheckbox,l=e.suppressOpenCloseIcons;return n.title=r,n.cssIdentifier=e.cssIdentifier||"default",n.enabled=o??!0,n.items=a||[],n.alignItems=e.alignItems||"center",s!=null&&(n.suppressEnabledCheckbox=s),l!=null&&(n.suppressOpenCloseIcons=l),n}return t.getTemplate=function(e){var n=e.cssIdentifier||"default",r=e.direction||"vertical";return'<div class="ag-group ag-'.concat(n,`-group" role="presentation">
            <div class="ag-group-title-bar ag-`).concat(n,`-group-title-bar ag-unselectable" ref="eTitleBar" role="button">
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-`).concat(n,`-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-`).concat(n,`-group-title"></span>
            </div>
            <div ref="eToolbar" class="ag-group-toolbar ag-`).concat(n,`-group-toolbar">
                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
            </div>
            <div ref="eContainer" class="ag-group-container ag-group-container-`).concat(r," ag-").concat(n,`-group-container"></div>
        </div>`)},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(fn("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(fn("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case S.ENTER:case S.SPACE:n.preventDefault(),e.toggleGroupExpand();break;case S.RIGHT:case S.LEFT:n.preventDefault(),e.toggleGroupExpand(n.key===S.RIGHT);break}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Vn(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;we(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),we(this.eGroupOpenedIcon,e&&this.expanded),we(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;var n="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(n),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),we(this.eContainer,!0),this):(e=e??!this.expanded,this.expanded===e?this:(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),we(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED}),this))},t.prototype.addItems=function(e){var n=this;e.forEach(function(r){return n.addItem(r)})},t.prototype.addItem=function(e){var n=this.eContainer,r=e instanceof te?e.getGui():e;r.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),n.appendChild(r),this.items.push(r)},t.prototype.hideItem=function(e,n){var r=this.items[n];we(r,!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,n){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),n||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var n=this;return this.cbGroupEnabled.onValueChange(function(r){n.setEnabled(r,!0),e(r)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",ti([P("eTitleBar")],t.prototype,"eTitleBar",void 0),ti([P("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),ti([P("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),ti([P("eToolbar")],t.prototype,"eToolbar",void 0),ti([P("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),ti([P("eTitle")],t.prototype,"eTitle",void 0),ti([P("eContainer")],t.prototype,"eContainer",void 0),ti([I],t.prototype,"postConstruct",null),t}(te),iB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jd=function(){return jd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},jd.apply(this,arguments)},YE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},oB=function(i){iB(t,i);function t(e){e===void 0&&(e=1);var n=i.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.onTabKeyDown=function(e){var n=this.getParentComponent(),r=n&&n.getGui(),o=r&&r.classList.contains("ag-focus-managed");o||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case S.UP:case S.RIGHT:case S.DOWN:case S.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case S.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui());break}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var n=this;e?.forEach(function(r){r==="separator"?n.addSeparator():typeof r=="string"?console.warn("AG Grid: unrecognised menu item ".concat(r)):n.addItem(r)})},t.prototype.addItem=function(e){var n=this,r=this.createManagedBean(new Ks(jd(jd({},e),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})}})));r.setParentComponent(this),Q0(r.getGui(),this.level),this.menuItems.push(r),this.appendChild(r.getGui()),this.addManagedListener(r,Ks.EVENT_MENU_ITEM_SELECTED,function(o){n.dispatchEvent(o)}),this.addManagedListener(r,Ks.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(n){return!n.isDisabled()})[0];e&&e.activate()},t.prototype.addSeparator=function(){var e=`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`;this.appendChild(ct(e))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var n=e&&e.getParentComponent&&e.getParentComponent();if(!n||!(n instanceof t||n instanceof Ks))break;e=n}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case S.UP:case S.DOWN:var n=this.findNextItem(e===S.UP);n&&n!==this.activeMenuItem&&n.activate();return}var r=this.gridOptionsService.get("enableRtl")?S.RIGHT:S.LEFT;e===r?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var n=this.getParentComponent();n&&n instanceof Ks&&(e&&e.preventDefault(),n.closeSubMenu(),n.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var n=this.menuItems.filter(function(l){return!l.isDisabled()});if(n.length){if(!this.activeMenuItem)return e?be(n):n[0];e&&n.reverse();for(var r,o=!1,a=0;a<n.length;a++){var s=n[a];if(!o){s===this.activeMenuItem&&(o=!0);continue}r=s;break}return r||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),i.prototype.destroy.call(this)},YE([m("focusService")],t.prototype,"focusService",void 0),YE([I],t.prototype,"postConstruct",null),t}(sp),aB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),sB=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},lB=function(i){aB(t,i);function t(e){var n=i.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.handleKeyDown=function(e){e.key===S.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},sB([I],t.prototype,"postConstruct",null),t}(sp),cB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),QE=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Ks=function(i){cB(t,i);function t(e){var n=i.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'.concat(n.getClassName(),'" tabindex="-1" role="treeitem"></div>')),n}return t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Ev(n,!0)):(this.addGuiEventListener("click",function(r){return e.onItemSelected(r)}),this.addGuiEventListener("keydown",function(r){(r.key===S.ENTER||r.key===S.SPACE)&&(r.preventDefault(),e.onItemSelected(r))}),this.addGuiEventListener("mousedown",function(r){r.stopPropagation(),r.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(r){return e.addCssClass(r)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n=this;if(e===void 0&&(e=!1),this.closeSubMenu(),!!this.params.subMenu){var r=ct('<div class="ag-menu" role="presentation"></div>'),o;if(this.params.subMenu instanceof Array){var a=q0(this.getGui()),s=isNaN(a)?1:a+1,l=this.createBean(new oB(s));l.setParentComponent(this),l.addMenuItems(this.params.subMenu),r.appendChild(l.getGui()),this.addManagedListener(l,t.EVENT_MENU_ITEM_SELECTED,function(C){return n.dispatchEvent(C)}),l.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(l)},e&&setTimeout(function(){return l.activateFirstItem()},0)}else{var c=this.params.subMenu,u=this.createBean(new lB(c));u.setParentComponent(this);var d=u.getGui(),p="mouseenter",f=function(){return n.cancelDeactivate()};d.addEventListener(p,f),o=function(){return d.removeEventListener(p,f)},r.appendChild(d),c.afterGuiAttached&&setTimeout(function(){return c.afterGuiAttached()},0)}var h=this.getGui(),g=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:h,ePopup:r}),y=this.localeService.getLocaleTextFunc(),w=this.popupService.addPopup({modal:!0,eChild:r,positionCallback:g,anchorToElement:h,ariaLabel:y("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Vn(h,!0),this.hideSubMenu=function(){w&&w.hideFunc(),n.subMenuIsOpen=!1,Vn(h,!1),o()}}},t.prototype.closeSubMenu=function(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,Vn(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(!(!this.params.checked&&!this.params.icon&&this.params.isCompact)){var e=ct('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(je("check",this.gridOptionsService)):this.params.icon&&(Dl(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(!(!this.params.name&&this.params.isCompact)){var e=ct('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsService.get("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new $v(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(!(!this.params.shortcut&&this.params.isCompact)){var e=ct('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(!(!this.params.subMenu&&this.params.isCompact)){var e=ct('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),n=this.getGui();if(this.params.subMenu){var r=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Vn(n,!1),e.appendChild(je(r,this.gridOptionsService))}n.appendChild(e)}},t.prototype.onItemSelected=function(e){if(this.params.action?this.params.action():this.openSubMenu(e&&e.type==="keydown"),!(this.params.subMenu&&!this.params.action)){var n={type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(n)}},t.prototype.onItemActivated=function(){var e={type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(e)},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?"".concat(n,"-").concat(e):n},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,QE([m("popupService")],t.prototype,"popupService",void 0),QE([I],t.prototype,"init",null),t}(te),uB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ys=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},eD=function(i){uB(t,i);function t(e){var n=i.call(this,t.getTemplate(e))||this;return n.closable=!0,n.config=e,n}return t.getTemplate=function(e){var n=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(n,`-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-`).concat(n,`-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-`).concat(n,`-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-`).concat(n,`-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-`).concat(n,`-panel-content-wrapper"></div>
        </div>`)},t.prototype.postConstruct=function(){var e=this,n=this.config,r=n.component,o=n.closable,a=n.hideTitleBar,s=n.title,l=n.minWidth,c=l===void 0?250:l,u=n.width,d=n.minHeight,p=d===void 0?250:d,f=n.height,h=n.centered,g=n.popup,y=n.x,w=n.y;this.positionableFeature=new Dx(this.getGui(),{minWidth:c,width:u,minHeight:p,height:f,centered:h,x:y,y:w,popup:g,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var C=this.getGui();r&&this.setBodyComponent(r),a?we(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(b){var _=e.gridOptionsService.getDocument();if(C.contains(b.relatedTarget)||C.contains(_.activeElement)||e.eTitleBarButtons.contains(b.target)){b.preventDefault();return}var D=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");D&&D.focus()}),!(g&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var n=this.closeButtonComp=new te(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var r=n.getGui(),o=je("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),r.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(r,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var r=this.closeButtonComp.getGui();r.parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,n){var r=this.eTitleBarButtons,o=r.children,a=o.length;n==null&&(n=a),n=Math.max(0,Math.min(n,a)),e.addCssClass("ag-panel-title-bar-button");var s=e.getGui();n===0?r.insertAdjacentElement("afterbegin",s):n===a?r.insertAdjacentElement("beforeend",s):o[n-1].insertAdjacentElement("afterend",s),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return xl(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return oo(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&zt(e)&&this.close(),i.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Ys([P("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Ys([P("eTitleBar")],t.prototype,"eTitleBar",void 0),Ys([P("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Ys([P("eTitle")],t.prototype,"eTitle",void 0),Ys([I],t.prototype,"postConstruct",null),t}(te),dB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bd=function(){return Bd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Bd.apply(this,arguments)},pB=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},fB=function(i){dB(t,i);function t(e){var n=i.call(this,Bd(Bd({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return t.prototype.postConstruct=function(){var e=this,n=this.getGui(),r=this.config,o=r.movable,a=r.resizable,s=r.maximizable;this.addCssClass("ag-dialog"),i.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(l){n.contains(l.relatedTarget)||e.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),s&&this.setMaximizable(s),a&&this.setResizable(a)},t.prototype.renderComponent=function(){var e=this.getGui(),n=this.config,r=n.alwaysOnTop,o=n.modal,a=n.title,s=n.afterGuiAttached,l=this.localeService.getLocaleTextFunc(),c=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:r,ariaLabel:a||l("ariaLabelDialog","Dialog"),afterGuiAttached:s});c&&(this.close=c.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,r=n.x,o=n.y,a=n.width,s=n.height;this.setWidth(a),this.setHeight(s),this.positionableFeature.offsetElement(r,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){we(this.maximizeIcon,!this.isMaximized),we(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),i.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var n=this;if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}var r=this.eTitleBar;if(!(!r||e===this.isMaximizable)){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(r,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new te('<div class="ag-dialog-button"></span>')),n=e.getGui();return this.maximizeIcon=je("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=je("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},pB([m("popupService")],t.prototype,"popupService",void 0),t}(eD),hB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ud=function(){return Ud=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Ud.apply(this,arguments)},Qs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ZE=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},XE=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},JE=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},$i=function(i){return i[i.vertical=0]="vertical",i[i.horizontal=1]="horizontal",i}($i||{}),gB=0,mB=function(i){hB(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.popupList=[],n}e=t,t.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(r){n.gridCtrl=r.gridCtrl}),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},t.prototype.getPopupParent=function(){var n=this.gridOptionsService.get("popupParent");return n||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(n){var r=n.eventSource,o=n.ePopup,a=this.getPopupIndex(o);if(a!==-1){var s=this.popupList[a];s.alignedToElement=r}var l=r.getBoundingClientRect(),c=this.getParentRect(),u=this.keepXYWithinBounds(o,l.top-c.top,$i.vertical),d=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(d,"px");var p=c.right-c.left,f=p-d,h;this.gridOptionsService.get("enableRtl")?(h=y(),h<0&&(h=g(),this.setAlignedStyles(o,"left")),h>f&&(h=0,this.setAlignedStyles(o,"right"))):(h=g(),h>f&&(h=y(),this.setAlignedStyles(o,"right")),h<0&&(h=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(h,"px"),o.style.top="".concat(u,"px");function g(){return l.right-c.left-2}function y(){return l.left-c.left-d}},t.prototype.positionPopupUnderMouseEvent=function(n){var r=this,o=n.ePopup,a=n.nudgeX,s=n.nudgeY,l=n.skipObserver;this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:!0,skipObserver:l,updatePosition:function(){return r.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return r.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},t.prototype.calculatePointerAlign=function(n){var r=this.getParentRect();return{x:n.clientX-r.left,y:n.clientY-r.top}},t.prototype.positionPopupByComponent=function(n){var r=this,o=n.ePopup,a=n.nudgeX,s=n.nudgeY,l=n.keepWithinBounds,c=n.eventSource,u=n.alignSide,d=u===void 0?"left":u,p=n.position,f=p===void 0?"over":p,h=n.column,g=n.rowNode,y=n.type,w=c.getBoundingClientRect(),C=this.getParentRect(),b=this.getPopupIndex(o);if(b!==-1){var _=this.popupList[b];_.alignedToElement=c}var D=function(){var R=w.left-C.left;d==="right"&&(R-=o.offsetWidth-w.width);var M;if(f==="over")M=w.top-C.top,r.setAlignedStyles(o,"over");else{r.setAlignedStyles(o,"under");var O=r.shouldRenderUnderOrAbove(o,w,C,n.nudgeY||0);O==="under"?M=w.top-C.top+w.height:M=w.top-o.offsetHeight-(s||0)*2-C.top}return{x:R,y:M}};this.positionPopup({ePopup:o,nudgeX:a,nudgeY:s,keepWithinBounds:l,updatePosition:D,postProcessCallback:function(){return r.callPostProcessPopup(y,o,c,null,h,g)}})},t.prototype.shouldRenderUnderOrAbove=function(n,r,o,a){var s=o.bottom-r.bottom,l=r.top-o.top,c=n.offsetHeight+a;return s>c?"under":l>c||l>s?"above":"under"},t.prototype.setAlignedStyles=function(n,r){var o=this.getPopupIndex(n);if(o!==-1){var a=this.popupList[o],s=a.alignedToElement;if(s){var l=["right","left","over","above","under"];l.forEach(function(c){s.classList.remove("ag-has-popup-positioned-".concat(c)),n.classList.remove("ag-popup-positioned-".concat(c))}),r&&(s.classList.add("ag-has-popup-positioned-".concat(r)),n.classList.add("ag-popup-positioned-".concat(r)))}}},t.prototype.callPostProcessPopup=function(n,r,o,a,s,l){var c=this.gridOptionsService.getCallback("postProcessPopup");if(c){var u={column:s,rowNode:l,ePopup:r,type:n,eventSource:o,mouseEvent:a};c(u)}},t.prototype.positionPopup=function(n){var r=this,o=n.ePopup,a=n.keepWithinBounds,s=n.nudgeX,l=n.nudgeY,c=n.skipObserver,u=n.updatePosition,d={width:0,height:0},p=function(h){h===void 0&&(h=!1);var g=u(),y=g.x,w=g.y;h&&o.clientWidth===d.width&&o.clientHeight===d.height||(d.width=o.clientWidth,d.height=o.clientHeight,s&&(y+=s),l&&(w+=l),a&&(y=r.keepXYWithinBounds(o,y,$i.horizontal),w=r.keepXYWithinBounds(o,w,$i.vertical)),o.style.left="".concat(y,"px"),o.style.top="".concat(w,"px"),n.postProcessCallback&&n.postProcessCallback())};if(p(),!c){var f=this.resizeObserverService.observeResize(o,function(){return p(!0)});setTimeout(function(){return f()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),r=this.getPopupParent();return r===n.body?r=n.documentElement:getComputedStyle(r).position==="static"&&(r=r.offsetParent),Vv(r)},t.prototype.keepXYWithinBounds=function(n,r,o){var a=o===$i.vertical,s=a?"clientHeight":"clientWidth",l=a?"top":"left",c=a?"offsetHeight":"offsetWidth",u=a?"scrollTop":"scrollLeft",d=this.gridOptionsService.getDocument(),p=d.documentElement,f=this.getPopupParent(),h=f.getBoundingClientRect(),g=d.documentElement.getBoundingClientRect(),y=f===d.body,w=n[c],C=a?zv:vl,b=y?C(p)+p[u]:f[s];y&&(b-=Math.abs(g[l]-h[l]));var _=b-w;return Math.min(Math.max(r,0),Math.abs(_))},t.prototype.addPopup=function(n){var r=this.gridOptionsService.getDocument(),o=n.eChild,a=n.ariaLabel,s=n.alwaysOnTop,l=n.positionCallback,c=n.anchorToElement;if(!r)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var u=this.getPopupIndex(o);if(u!==-1){var d=this.popupList[u];return{hideFunc:d.hideFunc}}this.initialisePopupPosition(o);var p=this.createPopupWrapper(o,a,!!s),f=this.addEventListenersToPopup(Ud(Ud({},n),{wrapperEl:p}));return l&&l(),this.addPopupToPopupList(o,p,f,c),{hideFunc:f}},t.prototype.initialisePopupPosition=function(n){var r=this.getPopupParent(),o=r.getBoundingClientRect();x(n.style.top)||(n.style.top="".concat(o.top*-1,"px")),x(n.style.left)||(n.style.left="".concat(o.left*-1,"px"))},t.prototype.createPopupWrapper=function(n,r,o){var a,s=this.getPopupParent(),l=document.createElement("div"),c=this.environment.getTheme().allThemes;return c.length&&(a=l.classList).add.apply(a,XE([],ZE(c),!1)),l.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||Je(n,"dialog"),Or(n,r),l.appendChild(n),s.appendChild(l),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),l},t.prototype.handleThemeChange=function(){var n,r,o,a,s,l=this.environment.getTheme().allThemes;try{for(var c=JE(this.popupList),u=c.next();!u.done;u=c.next()){var d=u.value;try{for(var p=(o=void 0,JE(Array.from(d.wrapper.classList))),f=p.next();!f.done;f=p.next()){var h=f.value;h.startsWith("ag-theme-")&&d.wrapper.classList.remove(h)}}catch(g){o={error:g}}finally{try{f&&!f.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}l.length&&(s=d.wrapper.classList).add.apply(s,XE([],ZE(l),!1))}}catch(g){n={error:g}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}},t.prototype.addEventListenersToPopup=function(n){var r=this,o=this.gridOptionsService.getDocument(),a=this.getPopupParent(),s=n.wrapperEl,l=n.eChild;n.click;var c=n.closedCallback,u=n.afterGuiAttached,d=n.closeOnEsc,p=n.modal,f=!1,h=function(C){if(s.contains(o.activeElement)){var b=C.key;b===S.ESCAPE&&!Gn(C)&&w({keyboardEvent:C})}},g=function(C){return w({mouseEvent:C})},y=function(C){return w({touchEvent:C})},w=function(C){C===void 0&&(C={});var b=C.mouseEvent,_=C.touchEvent,D=C.keyboardEvent;r.isEventFromCurrentPopup({mouseEvent:b,touchEvent:_},l)||f||(f=!0,a.removeChild(s),o.removeEventListener("keydown",h),o.removeEventListener("mousedown",g),o.removeEventListener("touchstart",y),o.removeEventListener("contextmenu",g),r.eventService.removeEventListener(v.EVENT_DRAG_STARTED,g),c&&c(b||_||D),r.removePopupFromPopupList(l))};return u&&u({hidePopup:w}),window.setTimeout(function(){d&&o.addEventListener("keydown",h),p&&(o.addEventListener("mousedown",g),r.eventService.addEventListener(v.EVENT_DRAG_STARTED,g),o.addEventListener("touchstart",y),o.addEventListener("contextmenu",g))},0),w},t.prototype.addPopupToPopupList=function(n,r,o,a){this.popupList.push({element:n,wrapper:r,hideFunc:o,instanceId:gB++,isAnchored:!!a}),a&&this.setPopupPositionRelatedToElement(n,a)},t.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(r){return r.element===n})},t.prototype.setPopupPositionRelatedToElement=function(n,r){var o=this.getPopupIndex(n);if(o!==-1){var a=this.popupList[o];if(a.stopAnchoringPromise&&a.stopAnchoringPromise.then(function(l){return l&&l()}),a.stopAnchoringPromise=void 0,a.isAnchored=!1,!!r){var s=this.keepPopupPositionedRelativeTo({element:r,ePopup:n,hidePopup:a.hideFunc});return a.stopAnchoringPromise=s,a.isAnchored=!0,s}}},t.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(r){return r.element!==n})},t.prototype.keepPopupPositionedRelativeTo=function(n){var r=this,o=this.getPopupParent(),a=o.getBoundingClientRect(),s=n.element,l=n.ePopup,c=s.getBoundingClientRect(),u=a.top-c.top,d=a.left-c.left,p=u,f=d,h=l.style.top,g=parseInt(h.substring(0,h.length-1),10),y=l.style.left,w=parseInt(y.substring(0,y.length-1),10);return new Qt(function(C){r.getFrameworkOverrides().setInterval(function(){var b=o.getBoundingClientRect(),_=s.getBoundingClientRect(),D=_.top==0&&_.left==0&&_.height==0&&_.width==0;if(D){n.hidePopup();return}var R=b.top-_.top;if(R!=p){var M=r.keepXYWithinBounds(l,g+u-R,$i.vertical);l.style.top="".concat(M,"px")}p=R;var O=b.left-_.left;if(O!=f){var k=r.keepXYWithinBounds(l,w+d-O,$i.horizontal);l.style.left="".concat(k,"px")}f=O},200).then(function(b){var _=function(){b!=null&&window.clearInterval(b)};C(_)})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},t.prototype.isEventFromCurrentPopup=function(n,r){var o=n.mouseEvent,a=n.touchEvent,s=o||a;if(!s)return!1;var l=this.getPopupIndex(r);if(l===-1)return!1;for(var c=l;c<this.popupList.length;c++){var u=this.popupList[c];if(Rd(u.element,s))return!0}return this.isElementWithinCustomPopup(s.target)},t.prototype.isElementWithinCustomPopup=function(n){for(var r=this.gridOptionsService.getDocument();n&&n!==r.body;){if(n.classList.contains("ag-custom-component-popup")||n.parentElement===null)return!0;n=n.parentElement}return!1},t.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},t.prototype.setAlwaysOnTop=function(n,r){var o=this.getWrapper(n);o&&(o.classList.toggle("ag-always-on-top",!!r),r&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(n){var r=this.getPopupParent(),o=Array.prototype.slice.call(r.querySelectorAll(".ag-popup")),a=o.length,s=Array.prototype.slice.call(r.querySelectorAll(".ag-popup.ag-always-on-top")),l=s.length,c=this.getWrapper(n);if(!(!c||a<=1||!r.contains(n))){var u=o.indexOf(c),d=c.querySelectorAll("div"),p=[];if(d.forEach(function(y){y.scrollTop!==0&&p.push([y,y.scrollTop])}),l){var f=c.classList.contains("ag-always-on-top");f?u!==a-1&&be(s).insertAdjacentElement("afterend",c):u!==a-l-1&&s[0].insertAdjacentElement("beforebegin",c)}else u!==a-1&&be(o).insertAdjacentElement("afterend",c);for(;p.length;){var h=p.pop();h[0].scrollTop=h[1]}var g={type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:c};this.eventService.dispatchEvent(g)}};var e;return t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,Qs([m("focusService")],t.prototype,"focusService",void 0),Qs([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Qs([m("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Qs([I],t.prototype,"postConstruct",null),t=e=Qs([z("popupService")],t),t}(T),vB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yB=function(i){vB(t,i);function t(){var e=i.call(this,`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`)||this;return e.hasHighlighting=!1,e}return t.prototype.setState=function(e,n){this.value=e,this.render(),this.updateSelected(n)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var n,r=!1;if(x(e)){var o=(n=this.value)===null||n===void 0?void 0:n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){r=!0,this.hasHighlighting=!0;var a=o+e.length,s=$e(this.value.slice(0,o)),l=$e(this.value.slice(o,a)),c=$e(this.value.slice(a));this.getGui().lastElementChild.innerHTML="".concat(s,"<b>").concat(l,"</b>").concat(c)}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=(e=$e(this.value))!==null&&e!==void 0?e:"&nbsp;"},t}(te),wB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),e0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},CB=function(i){wB(t,i);function t(e){var n=i.call(this,t.TEMPLATE)||this;return n.params=e,n.searchString="",n}return t.prototype.destroy=function(){i.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Jx({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(r){return e.autocompleteEntries[r]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(r){return r.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,n){e.preventDefault();var r=this.autocompleteEntries.indexOf(this.selectedValue),o=n===S.UP?r-1:r+1;this.checkSetSelectedValue(o)},t.prototype.setSearch=function(e){this.searchString=e,x(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,n){var r,o=!1,a=e.toLocaleLowerCase(),s=n.filter(function(l){var c=l.toLocaleLowerCase(),u=c.indexOf(a),d=u===0,p=u>=0;return p&&(!r||!o&&d||o===d&&l.length<r.length)&&(r=l,o=d),p});return!r&&s.length&&(r=s[0]),{topMatch:r,allMatches:s}},t.prototype.runSearch=function(){var e,n,r=this.params.autocompleteEntries,o=r.map(function(d){var p;return(p=d.displayValue)!==null&&p!==void 0?p:d.key}),a,s;if(this.params.useFuzzySearch)a=Tl(this.searchString,o,!0).values,s=a.length?a[0]:void 0;else{var l=this.runContainsSearch(this.searchString,o);a=l.allMatches,s=l.topMatch}var c=r.filter(function(d){var p=d.key,f=d.displayValue;return a.includes(f??p)});if(!c.length&&this.selectedValue&&(!((n=(e=this.params)===null||e===void 0?void 0:e.forceLastSelection)===null||n===void 0)&&n.call(e,this.selectedValue,this.searchString))&&(c=[this.selectedValue]),this.autocompleteEntries=c,this.virtualList.refresh(),!!s){var u=a.indexOf(s);this.checkSetSelectedValue(u)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var n=this.autocompleteEntries[e];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(r,o){r.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var n,r=new yB;return this.getContext().createBean(r),r.setState((n=e.displayValue)!==null&&n!==void 0?n:e.key,e===this.selectedValue),r},t.prototype.onMouseMove=function(e){var n=this.virtualList.getGui().getBoundingClientRect(),r=this.virtualList.getScrollTop(),o=e.clientY-n.top+r,a=Math.floor(o/this.virtualList.getRowHeight());this.checkSetSelectedValue(a)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&(e=this.selectedValue)!==null&&e!==void 0?e:null},t.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`,e0([P("eList")],t.prototype,"eList",void 0),e0([I],t.prototype,"init",null),t}(so),bB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},_B=function(i){bB(t,i);function t(){var e=i.call(this,`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`)||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(n){return e.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var n=ar(e);this.updateValue(n),this.updateAutocompleteList(n)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var n,r,o,a,s=(r=(n=this.listGenerator)===null||n===void 0?void 0:n.call(this,e,this.lastPosition))!==null&&r!==void 0?r:{enabled:!1};if((!s.type||s.type!==((o=this.autocompleteListParams)===null||o===void 0?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=s,!((a=this.autocompleteListParams)===null||a===void 0)&&a.enabled){this.isListOpen||this.openList();var l=this.autocompleteListParams.searchString;this.autocompleteList.setSearch(l??"")}else this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var n=this,r=e.key;switch(this.updateLastPosition(),r){case S.ENTER:this.onEnterKeyDown(e);break;case S.TAB:this.onTabKeyDown(e);break;case S.DOWN:case S.UP:this.onUpDownKeyDown(e,r);break;case S.LEFT:case S.RIGHT:case S.PAGE_HOME:case S.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case S.ESCAPE:this.onEscapeKeyDown(e);break;case S.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList());break}},t.prototype.confirmSelection=function(){var e,n=(e=this.autocompleteList)===null||e===void 0?void 0:e.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,n){var r;e.preventDefault(),this.isListOpen?(r=this.autocompleteList)===null||r===void 0||r.onNavigationKeyDown(e,n):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList((e=this.eAutocompleteInput.getValue())!==null&&e!==void 0?e:null)},t.prototype.setCaret=function(e,n){var r=this.gridOptionsService.getDocument();n&&r.activeElement===r.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=(e=this.eAutocompleteInput.getInputElement().selectionStart)!==null&&e!==void 0?e:0},t.prototype.validate=function(e){var n;this.validator&&(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity((n=this.validationMessage)!==null&&n!==void 0?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new CB({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),r={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(r)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return ar(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var n=e.value,r=e.position,o=e.silent,a=e.updateListOnlyIfOpen,s=e.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(r??this.lastPosition,s),o||this.updateValue(n),(!a||this.isListOpen)&&this.updateAutocompleteList(n)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",Mm([m("popupService")],t.prototype,"popupService",void 0),Mm([P("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),Mm([I],t.prototype,"postConstruct",null),t}(te),SB=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],EB=["touchstart","touchend","touchmove","touchcancel"],iy=function(){function i(t){t===void 0&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.isOutsideAngular=function(e){return gn(SB,e)}}return i.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},i.prototype.setInterval=function(t,e){return new Qt(function(n){n(window.setInterval(t,e))})},i.prototype.addEventListener=function(t,e,n,r){var o=gn(EB,e);t.addEventListener(e,n,{capture:!!r,passive:o})},i.prototype.dispatchEvent=function(t,e,n){e()},i.prototype.frameworkComponent=function(t){return null},i.prototype.isFrameworkComponent=function(t){return!1},i.prototype.getDocLink=function(t){var e=this.frameworkName==="solid"?"react":this.frameworkName;return"https://www.ag-grid.com/".concat(e,"-data-grid").concat(t?"/".concat(t):"")},i}(),xB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),pa=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},DB=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},TB=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},RB=function(i){xB(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getNextCellToFocus=function(e,n,r){return r===void 0&&(r=!1),r?this.getNextCellToFocusWithCtrlPressed(e,n):this.getNextCellToFocusWithoutCtrlPressed(e,n)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,n){var r=e===S.UP,o=e===S.DOWN,a=e===S.LEFT,s,l;if(r||o)l=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),s=n.column;else{var c=this.columnModel.getAllDisplayedColumns(),u=this.gridOptionsService.get("enableRtl");l=n.rowIndex,s=a!==u?c[0]:be(c)}return{rowIndex:l,rowPinned:null,column:s}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,n){for(var r=n,o=!1;!o;){switch(e){case S.UP:r=this.getCellAbove(r);break;case S.DOWN:r=this.getCellBelow(r);break;case S.RIGHT:this.gridOptionsService.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case S.LEFT:this.gridOptionsService.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+e);break}r?o=this.isCellGoodToFocusOn(r):o=!0}return r},t.prototype.isCellGoodToFocusOn=function(e){var n=e.column,r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}if(!r)return!1;var o=n.isSuppressNavigable(r);return!o},t.prototype.getCellToLeft=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColBefore(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColAfter(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var n=e.rowIndex,r=e.rowPinned;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex),a=this.getNextStickyPosition(o);return a||{rowIndex:n+1,rowPinned:r}},t.prototype.getNextStickyPosition=function(e,n){if(!(!this.gridOptionsService.isGroupRowsSticky()||!e||!e.sticky)){var r=TB([],DB(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(l,c){return l.getRowNode().rowIndex-c.getRowNode().rowIndex}),o=n?-1:1,a=r.findIndex(function(l){return l.getRowNode().rowIndex===e.rowIndex}),s=r[a+o];if(s)return{rowIndex:s.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var n=this.getRowBelow(e);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var n=e.rowPinned,r=e.rowIndex;if(n==="top"){var o=this.pinnedRowModel.getPinnedTopRowData().length-1;return o<=r}if(n==="bottom"){var a=this.pinnedRowModel.getPinnedBottomRowData().length-1;return a<=r}var s=this.paginationProxy.getPageLastRow();return s<=r},t.prototype.getRowAbove=function(e){var n=e.rowIndex,r=e.rowPinned,o=r?n===0:n===this.paginationProxy.getPageFirstRow();if(o)return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var a=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(a,!0);return s||{rowIndex:n-1,rowPinned:r}},t.prototype.getCellAbove=function(e){if(!e)return null;var n=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.getLastBodyCell=function(){var e=this.paginationProxy.getPageLastRow();return{rowIndex:e,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){var e=this.pinnedRowModel.getPinnedTopRowData().length-1;return{rowIndex:e,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,n){return n?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColAfter(e.column);if(!a){a=n[0];var s=this.getRowBelow(e);if(K(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;r=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:r,column:a,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),r=e.rowIndex,o=e.rowPinned,a=this.columnModel.getDisplayedColBefore(e.column);if(!a){a=be(n);var s=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(K(s)||!s.rowPinned&&!this.paginationProxy.isRowInPage(s))return null;r=s?s.rowIndex:null,o=s?s.rowPinned:null}return{rowIndex:r,column:a,rowPinned:o}},pa([m("columnModel")],t.prototype,"columnModel",void 0),pa([m("rowModel")],t.prototype,"rowModel",void 0),pa([m("rowRenderer")],t.prototype,"rowRenderer",void 0),pa([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),pa([m("paginationProxy")],t.prototype,"paginationProxy",void 0),t=pa([z("cellNavigationService")],t),t}(T),OB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},AB=function(i,t){return function(e,n){t(e,n,i)}},IB=function(i){OB(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.consuming=!1,e}return t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.getAlignedGridApis=function(){var e=this,n,r=(n=this.gridOptionsService.get("alignedGrids"))!==null&&n!==void 0?n:[],o=typeof r=="function";typeof r=="function"&&(r=r());var a=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))},s=r.map(function(l){var c;if(!l){zn("alignedGrids contains an undefined option."),o||zn(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),zn(a());return}if(l instanceof $x)return l;var u=l;return"current"in u?(c=u.current)===null||c===void 0?void 0:c.api:(u.api||zn("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(a())),u.api)}).filter(function(l){return!!l&&!l.isDestroyed()});return s},t.prototype.init=function(){this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){this.consuming||this.getAlignedGridApis().forEach(function(n){var r=n.__getAlignedGridService();e(r)})},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(n){n.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){e.direction==="horizontal"&&this.fireEvent(function(n){n.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var n=this;this.onEvent(function(){var r=n.ctrlsService.getGridBodyCtrl();r.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var n=[];return e.columns?e.columns.forEach(function(r){n.push(r)}):e.column&&n.push(e.column),n},t.prototype.getColumnIds=function(e){var n=[];return e.columns?e.columns.forEach(function(r){n.push(r.getColId())}):e.column&&n.push(e.column.getColId()),n},t.prototype.onColumnEvent=function(e){var n=this;this.onEvent(function(){switch(e.type){case v.EVENT_COLUMN_MOVED:case v.EVENT_COLUMN_VISIBLE:case v.EVENT_COLUMN_PINNED:case v.EVENT_COLUMN_RESIZED:var r=e;n.processColumnEvent(r);break;case v.EVENT_COLUMN_GROUP_OPENED:var o=e;n.processGroupOpenedEvent(o);break;case v.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})},t.prototype.processGroupOpenedEvent=function(e){var n=this;e.columnGroups.forEach(function(r){var o=null;if(r){var a=r.getGroupId();o=n.columnModel.getProvidedColumnGroup(a)}r&&!o||(n.logger.log("onColumnEvent-> processing "+e+" expanded = "+r.isExpanded()),n.columnModel.setColumnGroupOpened(o,r.isExpanded(),"alignedGridChanged"))})},t.prototype.processColumnEvent=function(e){var n=this,r,o=e.column,a=null;if(o&&(a=this.columnModel.getPrimaryColumn(o.getColId())),!(o&&!a)){var s=this.getMasterColumns(e);switch(e.type){case v.EVENT_COLUMN_MOVED:{var l=e,c=e.api.getColumnState(),u=c.map(function(w){return{colId:w.colId}});this.columnModel.applyColumnState({state:u,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(l.toIndex))}break;case v.EVENT_COLUMN_VISIBLE:{var d=e,c=e.api.getColumnState(),u=c.map(function(b){return{colId:b.colId,hide:b.hide}});this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(d.visible))}break;case v.EVENT_COLUMN_PINNED:{var p=e,c=e.api.getColumnState(),u=c.map(function(b){return{colId:b.colId,pinned:b.pinned}});this.columnModel.applyColumnState({state:u},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(p.pinned))}break;case v.EVENT_COLUMN_RESIZED:var f=e,h={};s.forEach(function(w){n.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(w.getActualWidth())),h[w.getId()]={key:w.getColId(),newWidth:w.getActualWidth()}}),(r=f.flexColumns)===null||r===void 0||r.forEach(function(w){h[w.getId()]&&delete h[w.getId()]}),this.columnModel.setColumnWidths(Object.values(h),!1,f.finished,"alignedGridChanged");break}var g=this.ctrlsService.getGridBodyCtrl(),y=g.isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(w){w.setGridOption("alwaysShowVerticalScroll",y)})}},Zs([m("columnModel")],t.prototype,"columnModel",void 0),Zs([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Zs([AB(0,Nt("loggerFactory"))],t.prototype,"setBeans",null),Zs([I],t.prototype,"init",null),t=Zs([z("alignedGridsService")],t),t}(T),MB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xs=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},PB=function(i,t){return function(e,n){t(e,n,i)}},tD=function(i){MB(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.selectedNodes=new Map,e}return t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.resetNodes()},t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){e.groupSelectsChildren=e.gridOptionsService.get("groupSelectsChildren"),e.rowSelection=e.gridOptionsService.get("rowSelection"),e.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,v.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.isMultiselect=function(){return this.rowSelection==="multiple"},t.prototype.setNodesSelected=function(e){var n;if(e.nodes.length===0)return 0;var r=e.newValue,o=e.clearSelection,a=e.suppressFinishActions,s=e.rangeSelect;e.event;var l=e.source,c=l===void 0?"api":l;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var u=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,d=e.nodes.map(function(D){return D.footer?D.sibling:D});if(s){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var p=this.getLastSelectedNode();if(p){var f=d[0],h=p!==f;if(h&&this.isMultiselect())return this.selectRange(f,p,e.newValue,c)}}for(var g=0,y=0;y<d.length;y++){var f=d[y],w=u&&f.group;if(!w){var C=f.selectThisNode(r,e.event,c);C&&g++}this.groupSelectsChildren&&(!((n=f.childrenAfterGroup)===null||n===void 0)&&n.length)&&(g+=this.selectChildren(f,r,u,c))}if(!a){var b=r&&(o||!this.isMultiselect());if(b&&(g+=this.clearOtherNodes(d[0],c)),g>0){this.updateGroupsFromChildrenSelections(c);var _={type:v.EVENT_SELECTION_CHANGED,source:c};this.eventService.dispatchEvent(_)}}return g},t.prototype.selectRange=function(e,n,r,o){var a=this;r===void 0&&(r=!0);var s=this.rowModel.getNodesInRangeForSelection(e,n),l=0;s.forEach(function(u){if(!(u.group&&a.groupSelectsChildren||r===!1&&e===u)){var d=u.selectThisNode(r,void 0,o);d&&l++}}),this.updateGroupsFromChildrenSelections(o);var c={type:v.EVENT_SELECTION_CHANGED,source:o};return this.eventService.dispatchEvent(c),l},t.prototype.selectChildren=function(e,n,r,o){var a=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return K(a)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:o,nodes:a})},t.prototype.getLastSelectedNode=function(){var e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;var n=this.selectedNodes.get(be(e));return n||null},t.prototype.getSelectedNodes=function(){var e=[];return this.selectedNodes.forEach(function(n){n&&e.push(n)}),e},t.prototype.getSelectedRows=function(){var e=[];return this.selectedNodes.forEach(function(n){n&&n.data&&e.push(n.data)}),e},t.prototype.getSelectionCount=function(){return this.selectedNodes.size},t.prototype.filterFromSelection=function(e){var n=new Map;this.selectedNodes.forEach(function(r,o){var a=r&&e(r);a&&n.set(o,r)}),this.selectedNodes=n},t.prototype.updateGroupsFromChildrenSelections=function(e,n){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;var r=this.rowModel,o=r.getRootNode();n||(n=new ap(!0,o),n.setInactive());var a=!1;return n.forEachChangedNodeDepthFirst(function(s){if(s!==o){var l=s.calculateSelectedFromChildren();a=s.selectThisNode(l===null?!1:l,void 0,e)||a}}),a},t.prototype.clearOtherNodes=function(e,n){var r=this,o=new Map,a=0;return this.selectedNodes.forEach(function(s){if(s&&s.id!==e.id){var l=r.selectedNodes.get(s.id);a+=l.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),r.groupSelectsChildren&&s.parent&&o.set(s.parent.id,s.parent)}}),o.forEach(function(s){var l=s.calculateSelectedFromChildren();s.selectThisNode(l===null?!1:l,void 0,n)}),a},t.prototype.onRowSelected=function(e){var n=e.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes.set(n.id,n):this.selectedNodes.delete(n.id))},t.prototype.syncInRowNode=function(e,n){this.syncInOldRowNode(e,n),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,n){var r=x(n)&&e.id!==n.id;if(r&&n){var o=n.id,a=this.selectedNodes.get(o)==e;a&&this.selectedNodes.set(n.id,n)}},t.prototype.syncInNewRowNode=function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)},t.prototype.reset=function(e){var n=this.getSelectionCount();if(this.resetNodes(),n){var r={type:v.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(r)}},t.prototype.resetNodes=function(){var e;this.logger.log("reset"),(e=this.selectedNodes)===null||e===void 0||e.clear()},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()!=="clientSide")return;var e=this.rowModel,n=e.getTopLevelNodes();if(n===null)return;var r=[];function o(a){for(var s=0,l=a.length;s<l;s++){var c=a[s];if(c.isSelected())r.push(c);else{var u=c;u.group&&u.children&&o(u.children)}}}return o(n),r},t.prototype.isEmpty=function(){var e=0;return this.selectedNodes.forEach(function(n){n&&e++}),e===0},t.prototype.deselectAllRowNodes=function(e){var n=function(c){return c.selectThisNode(!1,void 0,o)},r=this.rowModel.getType()==="clientSide",o=e.source,a=e.justFiltered,s=e.justCurrentPage;if(s||a){if(!r){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(a,s).forEach(n)}else this.selectedNodes.forEach(function(c){c&&n(c)}),this.reset(o);r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o);var l={type:v.EVENT_SELECTION_CHANGED,source:o};this.eventService.dispatchEvent(l)},t.prototype.getSelectedCounts=function(e,n){var r=this,o=0,a=0,s=function(l){r.groupSelectsChildren&&l.group||(l.isSelected()?o++:l.selectable&&a++)};return this.getNodesToSelect(e,n).forEach(s),{selectedCount:o,notSelectedCount:a}},t.prototype.getSelectAllState=function(e,n){var r=this.getSelectedCounts(e,n),o=r.selectedCount,a=r.notSelectedCount;return o===0&&a===0?!1:o>0&&a>0?null:o>0},t.prototype.getNodesToSelect=function(e,n){var r=this;if(e===void 0&&(e=!1),n===void 0&&(n=!1),this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(s){if(!s.group){o.push(s);return}if(!s.expanded){var l=function(c){var u;o.push(c),!((u=c.childrenAfterFilter)===null||u===void 0)&&u.length&&c.childrenAfterFilter.forEach(l)};l(s);return}r.groupSelectsChildren||o.push(s)}),o;var a=this.rowModel;return e?(a.forEachNodeAfterFilter(function(s){o.push(s)}),o):(a.forEachNode(function(s){o.push(s)}),o)},t.prototype.selectAllRowNodes=function(e){if(this.rowModel.getType()!=="clientSide")throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var n=e.source,r=e.justFiltered,o=e.justCurrentPage,a=function(l){return l.selectThisNode(!0,void 0,n)};this.getNodesToSelect(r,o).forEach(a),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n);var s={type:v.EVENT_SELECTION_CHANGED,source:n};this.eventService.dispatchEvent(s)},t.prototype.getSelectionState=function(){var e=[];return this.selectedNodes.forEach(function(n){n?.id&&e.push(n.id)}),e.length?e:null},t.prototype.setSelectionState=function(e,n){if(Array.isArray(e)){var r=new Set(e),o=[];this.rowModel.forEachNode(function(a){r.has(a.id)&&o.push(a)}),this.setNodesSelected({newValue:!0,nodes:o,source:n})}},Xs([m("rowModel")],t.prototype,"rowModel",void 0),Xs([m("paginationProxy")],t.prototype,"paginationProxy",void 0),Xs([PB(0,Nt("loggerFactory"))],t.prototype,"setBeans",null),Xs([I],t.prototype,"init",null),t=Xs([z("selectionService")],t),t}(T),t0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},FB=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},NB=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},Rl=function(){function i(t){var e=this;this.viaApi=function(n){for(var r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return J("Since v31, 'columnApi.".concat(n,"' is deprecated and moved to 'api.").concat(n,"'.")),(r=e.api)[n].apply(r,NB([],FB(o),!1))},this.api=t}return i.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},i.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},i.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},i.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},i.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},i.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},i.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},i.prototype.getColumns=function(){return this.viaApi("getColumns")},i.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},i.prototype.getColumnState=function(){return this.viaApi("getColumnState")},i.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},i.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},i.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},i.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},i.prototype.isPinning=function(){return this.viaApi("isPinning")},i.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},i.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},i.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},i.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},i.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},i.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},i.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},i.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},i.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},i.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},i.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},i.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},i.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},i.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},i.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},i.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},i.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},i.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},i.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},i.prototype.setColumnWidth=function(t,e,n,r){n===void 0&&(n=!0),this.viaApi("setColumnWidth",t,e,n,r)},i.prototype.setColumnWidths=function(t,e,n){e===void 0&&(e=!0),this.viaApi("setColumnWidths",t,e,n)},i.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},i.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},i.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},i.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},i.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},i.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},i.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},i.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},i.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},i.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},i.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},i.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},i.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},i.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},i.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},i.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},i.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},i.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},i.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},i.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},i.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},i.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},i.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},i.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},i.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},i.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},i.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},i.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},i.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},i.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},t0([m("gridApi")],i.prototype,"api",void 0),i=t0([z("columnApi")],i),i}(),LB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fa=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},kB=function(i){LB(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var n=function(o){return e.callColumnCellValueChangedHandler(o)},r=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(v.EVENT_CELL_VALUE_CHANGED,n,r),this.addDestroyFunc(function(){return e.eventService.removeEventListener(v.EVENT_CELL_VALUE_CHANGED,n,r)}),this.addManagedPropertyListener("treeData",function(o){return e.isTreeData=o.currentValue})},t.prototype.getValue=function(e,n,r,o){if(r===void 0&&(r=!1),o===void 0&&(o=!1),this.initialised||this.init(),!!n){var a=e.getColDef(),s=a.field,l=e.getColId(),c=n.data,u,d=n.groupData&&n.groupData[l]!==void 0,p=!o&&n.aggData&&n.aggData[l]!==void 0,f=this.isSsrm&&o&&!!e.getColDef().aggFunc,h=this.isSsrm&&n.footer&&n.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===n.field);if(r&&a.filterValueGetter?u=this.executeFilterValueGetter(a.filterValueGetter,c,e,n):this.isTreeData&&p?u=n.aggData[l]:this.isTreeData&&a.valueGetter?u=this.executeValueGetter(a.valueGetter,c,e,n):this.isTreeData&&s&&c?u=ya(c,s,e.isFieldContainsDots()):d?u=n.groupData[l]:p?u=n.aggData[l]:a.valueGetter?u=this.executeValueGetter(a.valueGetter,c,e,n):h?u=ya(c,n.field,e.isFieldContainsDots()):s&&c&&!f&&(u=ya(c,s,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){var g=u.substring(1);u=this.executeValueGetter(g,c,e,n)}if(u==null){var y=this.getOpenedGroup(n,e);if(y!=null)return y}return u}},t.prototype.getOpenedGroup=function(e,n){if(this.gridOptionsService.get("showOpenedGroup")){var r=n.getColDef();if(r.showRowGroup)for(var o=n.getColDef().showRowGroup,a=e.parent;a!=null;){if(a.rowGroupColumn&&(o===!0||o===a.rowGroupColumn.getColId()))return a.key;a=a.parent}}},t.prototype.setValue=function(e,n,r,o){var a=this.columnModel.getPrimaryColumn(n);if(!e||!a)return!1;K(e.data)&&(e.data={});var s=a.getColDef(),l=s.field,c=s.valueSetter;if(K(l)&&K(c))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(a,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var u={node:e,data:e.data,oldValue:this.getValue(a,e),newValue:r,colDef:a.getColDef(),column:a,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};u.newValue=r;var d;if(x(c)?typeof c=="function"?d=c(u):d=this.expressionService.evaluate(c,u):d=this.setValueUsingField(e.data,l,r,a.isFieldContainsDots()),d===void 0&&(d=!0),!d)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),u.newValue=this.getValue(a,e);var p={type:v.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:u.column,api:u.api,columnApi:u.columnApi,colDef:u.colDef,context:u.context,data:e.data,node:e,oldValue:u.oldValue,newValue:u.newValue,value:u.newValue,source:o};return this.eventService.dispatchEvent(p),!0},t.prototype.callColumnCellValueChangedHandler=function(e){var n=e.colDef.onCellValueChanged;typeof n=="function"&&n({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,n,r,o){if(!n)return!1;var a=!1;if(!o)a=e[n]===r,a||(e[n]=r);else for(var s=n.split("."),l=e;s.length>0&&l;){var c=s.shift();s.length===0?(a=l[c]===r,a||(l[c]=r)):l=l[c]}return!a},t.prototype.executeFilterValueGetter=function(e,n,r,o){var a={data:n,node:o,column:r,colDef:r.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return typeof e=="function"?e(a):this.expressionService.evaluate(e,a)},t.prototype.executeValueGetter=function(e,n,r,o){var a=r.getColId(),s=this.valueCache.getValue(o,a);if(s!==void 0)return s;var l={data:n,node:o,column:r,colDef:r.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)},c;return typeof e=="function"?c=e(l):c=this.expressionService.evaluate(e,l),this.valueCache.setValue(o,a,c),c},t.prototype.getValueCallback=function(e,n){var r=this.columnModel.getPrimaryColumn(n);return r?this.getValue(r,e):null},t.prototype.getKeyForNode=function(e,n){var r=this.getValue(e,n),o=e.getColDef().keyCreator,a=r;if(o){var s={value:r,colDef:e.getColDef(),column:e,node:n,data:n.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};a=o(s)}return typeof a=="string"||a==null||(a=String(a),a==="[object Object]"&&J("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),a},fa([m("expressionService")],t.prototype,"expressionService",void 0),fa([m("columnModel")],t.prototype,"columnModel",void 0),fa([m("valueCache")],t.prototype,"valueCache",void 0),fa([m("dataTypeService")],t.prototype,"dataTypeService",void 0),fa([I],t.prototype,"init",null),t=fa([z("valueService")],t),t}(T),zB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),n0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},VB=function(i,t){return function(e,n){t(e,n,i)}},GB=function(i){zB(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,n){if(typeof e=="string")return this.evaluateExpression(e,n);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,n){try{var r=this.createExpressionFunction(e),o=r(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup);return o}catch(a){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",n),console.log("Exception = "+a),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[e]=r,r},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},n0([VB(0,Nt("loggerFactory"))],t.prototype,"setBeans",null),t=n0([z("expressionService")],t),t}(T),HB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jB=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},BB=function(i){HB(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return t.prototype.getTemplate=function(e,n){var r=this.templateCache[e];if(r)return r;var o=this.waitingCallbacks[e],a=this;if(!o){o=[],this.waitingCallbacks[e]=o;var s=new XMLHttpRequest;s.onload=function(){a.handleHttpResult(this,e)},s.open("GET",e),s.send()}return n&&o.push(n),null},t.prototype.handleHttpResult=function(e,n){if(e.status!==200||e.response===null){console.warn("AG Grid: Unable to get template error ".concat(e.status," - ").concat(n));return}this.templateCache[n]=e.response||e.responseText;for(var r=this.waitingCallbacks[n],o=0;o<r.length;o++){var a=r[o];a()}},t=jB([z("templateService")],t),t}(T),UB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),r0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},WB=function(i,t){return function(e,n){t(e,n,i)}},qB=function(i){UB(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setBeans=function(e){this.logging=e.get("debug")},t.prototype.create=function(e){return new oy(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},r0([WB(0,Nt("gridOptionsService"))],t.prototype,"setBeans",null),t=r0([z("loggerFactory")],t),t}(T),oy=function(){function i(t,e){this.name=t,this.isLoggingFunc=e}return i.prototype.isLogging=function(){return this.isLoggingFunc()},i.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},i}(),$B=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ha=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},KB=function(i){$B(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setComp=function(e,n,r){var o=this;this.view=e,this.eGridHostDiv=n,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(s){return s===Jt.HeaderCell||s===Jt.ToolPanel},getIconName:function(){return nt.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new Jv(this.view)),this.addRtlSupport();var a=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return a()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e,n=this.focusService.findTabbableParent(this.getGui());return((e=n?.getAttribute("row-id"))===null||e===void 0?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return ee.__isRegistered(B.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return ee.__isRegistered(B.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return ee.__isRegistered(B.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return ee.__isRegistered(B.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){var e={type:v.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var n=this.gridOptionsService.getDocument(),r=this.view.getFocusableContainers(),o=r.findIndex(function(s){return s.contains(n.activeElement)}),a=o+(e?-1:1);return a<=0||a>=r.length?!1:this.focusService.focusInto(r[a])},t.prototype.focusInnerElement=function(e){var n=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(e){if(n.length>1)return this.focusService.focusInto(be(n),!0);var o=be(r);if(this.focusService.focusGridView(o,!0))return!0}return this.gridOptionsService.get("headerHeight")===0?this.focusService.focusGridView(r[0]):this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){e===void 0&&(e=!1),this.view.forceFocusOutOfContainer(e)},ha([m("focusService")],t.prototype,"focusService",void 0),ha([m("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ha([m("columnModel")],t.prototype,"columnModel",void 0),ha([m("ctrlsService")],t.prototype,"ctrlsService",void 0),ha([m("mouseEventService")],t.prototype,"mouseEventService",void 0),ha([m("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(T),YB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Js=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},nD=function(i){YB(t,i);function t(e){var n=i.call(this)||this;return n.eGridDiv=e,n}return t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new KB);var r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)}})},t.prototype.insertGridIntoDom=function(){var e=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){e.eGridDiv.removeChild(n),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,n){var r=this.eRootWrapperBody.classList;r.toggle(Xe.AUTO_HEIGHT,n.autoHeight),r.toggle(Xe.NORMAL,n.normal),r.toggle(Xe.PRINT,n.print),this.addOrRemoveCssClass(Xe.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(Xe.NORMAL,n.normal),this.addOrRemoveCssClass(Xe.PRINT,n.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",r=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"",a=`<div class="ag-root-wrapper" role="presentation">
                `.concat(e,`
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    `).concat(n,`
                </div>
                `).concat(r,`
                <ag-pagination></ag-pagination>
                `).concat(o,`
            </div>`);return a},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(n){return zt(n)})},Js([m("loggerFactory")],t.prototype,"loggerFactory",void 0),Js([P("gridBody")],t.prototype,"gridBodyComp",void 0),Js([P("sideBar")],t.prototype,"sideBarComp",void 0),Js([P("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),Js([I],t.prototype,"postConstruct",null),t}(sp),QB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),i0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},ni=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},ga=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},ZB=function(i){QB(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}e=t,t.prototype.progressSort=function(n,r,o){var a=this.getNextSortDirection(n);this.setSortForColumn(n,a,r,o)},t.prototype.setSortForColumn=function(n,r,o,a){r!=="asc"&&r!=="desc"&&(r=null);var s=this.gridOptionsService.isColumnsSortingCoupledToGroup(),l=[n];if(s&&n.getColDef().showRowGroup){var c=this.columnModel.getSourceColumnsForGroupColumn(n),u=c?.filter(function(p){return p.isSortable()});u&&(l=ga([n],ni(u),!1))}l.forEach(function(p){return p.setSort(r,a)});var d=(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort");d||this.clearSortBarTheseColumns(l,a),this.updateSortIndex(n),this.dispatchSortChangedEvents(a)},t.prototype.updateSortIndex=function(n){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),a=r&&o||n,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(u){return u.setSortIndex(null)});var l=s.filter(function(u){return u!==a}),c=a.getSort()?ga(ga([],ni(l),!1),[a],!1):l;c.forEach(function(u,d){return u.setSortIndex(d)})},t.prototype.onSortChanged=function(n){this.dispatchSortChangedEvents(n)},t.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),r=n.filter(function(o){return!!o.getSort()});return r&&r.length>0},t.prototype.dispatchSortChangedEvents=function(n){var r={type:v.EVENT_SORT_CHANGED,source:n};this.eventService.dispatchEvent(r)},t.prototype.clearSortBarTheseColumns=function(n,r){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){n.includes(o)||o.setSort(void 0,r)})},t.prototype.getNextSortDirection=function(n){var r;if(n.getColDef().sortingOrder?r=n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?r=this.gridOptionsService.get("sortingOrder"):r=e.DEFAULT_SORTING_ORDER,!Array.isArray(r)||r.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(r)),null;var o=r.indexOf(n.getSort()),a=o<0,s=o==r.length-1,l;return a||s?l=r[0]:l=r[o+1],e.DEFAULT_SORTING_ORDER.indexOf(l)<0?(console.warn("AG Grid: invalid sort type "+l),null):l},t.prototype.getIndexedSortMap=function(){var n=this,r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(u){return!!u.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();r=r.filter(function(u){var d=!!u.getAggFunc(),p=!u.isPrimary(),f=o?n.columnModel.getGroupDisplayColumnForGroup(u.getId()):u.getColDef().showRowGroup;return d||p||f})}var a=this.columnModel.getRowGroupColumns().filter(function(u){return!!u.getSort()}),s=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!a.length;s&&(r=ga([],ni(new Set(r.map(function(u){var d;return(d=n.columnModel.getGroupDisplayColumnForGroup(u.getId()))!==null&&d!==void 0?d:u}))),!1));var l={};r.forEach(function(u,d){return l[u.getId()]=d}),r.sort(function(u,d){var p=u.getSortIndex(),f=d.getSortIndex();if(p!=null&&f!=null)return p-f;if(p==null&&f==null){var h=l[u.getId()],g=l[d.getId()];return h>g?1:-1}else return f==null?-1:1});var c=new Map;return r.forEach(function(u,d){return c.set(u,d)}),s&&a.forEach(function(u){var d=n.columnModel.getGroupDisplayColumnForGroup(u.getId());c.set(u,c.get(d))}),c},t.prototype.getColumnsWithSortingOrdered=function(){return ga([],ni(this.getIndexedSortMap().entries()),!1).sort(function(n,r){var o=ni(n,2);o[0];var a=o[1],s=ni(r,2);s[0];var l=s[1];return a-l}).map(function(n){var r=ni(n,1),o=r[0];return o})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},t.prototype.canColumnDisplayMixedSort=function(n){var r=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return r&&o},t.prototype.getDisplaySortForColumn=function(n){var r=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!r?.length)return n.getSort();var o=n.getColDef().field!=null||!!n.getColDef().valueGetter,a=o?ga([n],ni(r),!1):r,s=a[0].getSort(),l=a.every(function(c){return c.getSort()==s});return l?s:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)};var e;return t.DEFAULT_SORTING_ORDER=["asc","desc",null],i0([m("columnModel")],t.prototype,"columnModel",void 0),t=e=i0([z("sortController")],t),t}(T),XB=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hl=function(){return hl=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},hl.apply(this,arguments)},qt=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},JB=function(i){XB(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}e=t,t.addKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",e.toggleKeyboardMode),n.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",e.toggleKeyboardMode),n.addEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(n){var r=e.keyboardModeActive,o=n.type==="keydown";o&&(n.ctrlKey||n.metaKey||n.altKey)||r!==o&&(e.keyboardModeActive=o)},t.unregisterGridCompController=function(n){e.removeKeyboardModeEvents(n)},t.prototype.init=function(){var n=this,r=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,r),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl})},t.prototype.registerKeyboardFocusEvents=function(){var n=this.gridOptionsService.getDocument();e.addKeyboardModeEvents(n),e.instanceCount++,this.addDestroyFunc(function(){e.instanceCount--,e.unregisterGridCompController(n)})},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,r=this.columnModel.getGridColumn(n.getId());n!==r&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,to.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,op.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(n,r){for(var o=n;o;){var a=this.gridOptionsService.getDomData(o,r);if(a)return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(n){var r=this;return this.isCellRestoreFocused(n)?(setTimeout(function(){r.restoredFocusedCellPosition=null},0),!0):!1},t.prototype.isCellRestoreFocused=function(n){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(n){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=n)},t.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,r=n.rowIndex,o=n.rowPinned,a=n.column,s={rowIndex:r,rowPinned:o,column:a,isFullWidthCell:!1},l=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:o});return l&&(s.isFullWidthCell=l.isFullWidth()),s},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition!=null){var n=hl({type:v.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},t.prototype.setFocusedCell=function(n){var r=n.column,o=n.rowIndex,a=n.rowPinned,s=n.forceBrowserFocus,l=s===void 0?!1:s,c=n.preventScrollOnBrowserFocus,u=c===void 0?!1:c,d=this.columnModel.getGridColumn(r);if(!d){this.focusedCellPosition=null;return}this.focusedCellPosition=d?{rowIndex:o,rowPinned:ar(a),column:d}:null;var p=hl(hl({type:v.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:l,preventScrollOnBrowserFocus:u,floating:null});this.eventService.dispatchEvent(p)},t.prototype.isCellFocused=function(n){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(n,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},t.prototype.isHeaderWrapperFocused=function(n){if(this.focusedHeaderPosition==null)return!1;var r=n.getColumnGroupChild(),o=n.getRowIndex(),a=n.getPinned(),s=this.focusedHeaderPosition,l=s.column,c=s.headerRowIndex;return r===l&&o===c&&a==l.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(n,r){this.focusedHeaderPosition={headerRowIndex:n,column:r}},t.prototype.focusHeaderPosition=function(n){var r=n.direction,o=n.fromTab,a=n.allowUserOverride,s=n.event,l=n.fromCell,c=n.headerPosition;if(l&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(c);if(a){var u=this.getFocusedHeader(),d=this.headerNavigationService.getHeaderRowCount();if(o){var p=this.gridOptionsService.getCallback("tabToNextHeader");if(p){var f={backwards:r==="Before",previousHeaderPosition:u,nextHeaderPosition:c,headerRowCount:d};c=p(f)}}else{var p=this.gridOptionsService.getCallback("navigateToNextHeader");if(p&&s){var h={key:s.key,previousHeaderPosition:u,nextHeaderPosition:c,headerRowCount:d,event:s};c=p(h)}}}if(!c)return!1;if(c.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(c):this.focusGridView(c.column);this.headerNavigationService.scrollToColumn(c.column,r);var g=this.ctrlsService.getHeaderRowContainerCtrl(c.column.getPinned()),y=g.focusHeader(c.headerRowIndex,c.column,s);return y},t.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return n?(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}})):!1},t.prototype.focusLastHeader=function(n){var r=this.headerNavigationService.getHeaderRowCount()-1,o=be(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:r,column:o},event:n})},t.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(n,r){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===ar(r)},t.prototype.findFocusableElements=function(n,r,o){o===void 0&&(o=!1);var a=ux,s=Lv;r&&(s+=", "+r),o&&(s+=', [tabindex="-1"]');var l=Array.prototype.slice.apply(n.querySelectorAll(a)).filter(function(d){return zt(d)}),c=Array.prototype.slice.apply(n.querySelectorAll(s));if(!c.length)return l;var u=function(d,p){return d.filter(function(f){return p.indexOf(f)===-1})};return u(l,c)},t.prototype.focusInto=function(n,r,o){r===void 0&&(r=!1),o===void 0&&(o=!1);var a=this.findFocusableElements(n,null,o),s=r?be(a):a[0];return s?(s.focus({preventScroll:!0}),!0):!1},t.prototype.findFocusableElementBeforeTabGuard=function(n,r){if(!r)return null;var o=this.findFocusableElements(n),a=o.indexOf(r);if(a===-1)return null;for(var s=-1,l=a-1;l>=0;l--)if(o[l].classList.contains(fl.TAB_GUARD_TOP)){s=l;break}return s<=0?null:o[s-1]},t.prototype.findNextFocusableElement=function(n,r,o){n===void 0&&(n=this.eGridDiv);var a=this.findFocusableElements(n,r?':not([tabindex="-1"])':null),s=this.gridOptionsService.getDocument(),l=s.activeElement,c;r?c=a.findIndex(function(d){return d.contains(l)}):c=a.indexOf(l);var u=c+(o?-1:1);return u<0||u>=a.length?null:a[u]},t.prototype.isTargetUnderManagedComponent=function(n,r){if(!r)return!1;var o=n.querySelectorAll(".".concat(mi.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var a=0;a<o.length;a++)if(o[a].contains(r))return!0;return!1},t.prototype.findTabbableParent=function(n,r){r===void 0&&(r=5);for(var o=0;n&&Ad(n)===null&&++o<=r;)n=n.parentElement;return Ad(n)===null?null:n},t.prototype.focusGridView=function(n,r){if(this.gridOptionsService.get("suppressCellFocus"))return r?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=r?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var a=o.rowIndex,s=o.rowPinned,l=this.getFocusedHeader();if(!n&&l&&(n=l.column),a==null||!n)return!1;if(this.navigationService.ensureCellVisible({rowIndex:a,column:n,rowPinned:s}),this.setFocusedCell({rowIndex:a,column:n,rowPinned:ar(s),forceBrowserFocus:!0}),this.rangeService){var c={rowIndex:a,rowPinned:s,column:n};this.rangeService.setRangeToCell(c)}return!0},t.prototype.focusNextGridCoreContainer=function(n,r){return r===void 0&&(r=!1),!r&&this.gridCtrl.focusNextInnerContainer(n)?!0:((r||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},t.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(n,r){var o,a,s=(o=r?void 0:this.advancedFilterFocusColumn)!==null&&o!==void 0?o:(a=this.columnModel.getAllDisplayedColumns())===null||a===void 0?void 0:a[0];return n?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0};var e;return t.keyboardModeActive=!1,t.instanceCount=0,qt([m("eGridDiv")],t.prototype,"eGridDiv",void 0),qt([m("columnModel")],t.prototype,"columnModel",void 0),qt([m("headerNavigationService")],t.prototype,"headerNavigationService",void 0),qt([m("rowRenderer")],t.prototype,"rowRenderer",void 0),qt([m("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),qt([m("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),qt([ye("rangeService")],t.prototype,"rangeService",void 0),qt([m("navigationService")],t.prototype,"navigationService",void 0),qt([m("ctrlsService")],t.prototype,"ctrlsService",void 0),qt([m("filterManager")],t.prototype,"filterManager",void 0),qt([ye("advancedFilterService")],t.prototype,"advancedFilterService",void 0),qt([I],t.prototype,"init",null),t=e=qt([z("focusService")],t),t}(T),e2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),t2=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},n2=function(i){e2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setMouseOver=function(e){this.selectedColumns=e;var n={type:v.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(n)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:v.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=t2([z("columnHoverService")],t),t}(T),r2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},i2=function(i){r2(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){return e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===n&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],!(e.length===0&&n.length===0)&&(window.setTimeout(function(){return e.forEach(function(r){return r()})},0),window.setTimeout(function(){return n.forEach(function(r){return r()})},300))},Pm([m("ctrlsService")],t.prototype,"ctrlsService",void 0),Pm([I],t.prototype,"postConstruct",null),t=Pm([z("columnAnimationService")],t),t}(T),o2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),fd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},a2=function(i){o2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCon=n.centerRowContainerCtrl,e.addManagedListener(e.eventService,v.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||this.centerRowContainerCon==null},t.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var r=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),a=Math.floor(n/o);e.paginationProxy.setPageSize(a,"autoCalculated")};this.isBodyRendered?hn(function(){return r()},50)():(r(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},fd([m("ctrlsService")],t.prototype,"ctrlsService",void 0),fd([m("paginationProxy")],t.prototype,"paginationProxy",void 0),fd([I],t.prototype,"postConstruct",null),t=fd([z("paginationAutoPageSizeService")],t),t}(T),s2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),o0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},l2=function(i){s2(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.cacheVersion=0,e}return t.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,n,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[n]=r)},t.prototype.getValue=function(e,n){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[n]},o0([I],t.prototype,"init",null),t=o0([z("valueCache")],t),t}(T),c2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),hd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},u2="paste",d2=function(i){c2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,v.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==u2&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,n){if(!this.gridOptionsService.get("suppressChangeDetection")){var r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),a=new ap(o,this.clientSideRowModel.getRootNode());a.addParentNode(e.parent,[n]),this.clientSideRowModel.doAggregate(a),a.forEachChangedNodeDepthFirst(function(s){r.push(s)})}this.rowRenderer.refreshCells({rowNodes:r})}},hd([m("rowModel")],t.prototype,"rowModel",void 0),hd([m("rowRenderer")],t.prototype,"rowRenderer",void 0),hd([I],t.prototype,"init",null),t=hd([z("changeDetectionService")],t),t}(T),p2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),a0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},f2=function(i){p2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.adaptFunction=function(e,n){var r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(n):null},t.prototype.adaptCellRendererFunction=function(e){var n=function(){function r(){}return r.prototype.refresh=function(o){return!1},r.prototype.getGui=function(){return this.eGui},r.prototype.init=function(o){var a=e(o),s=typeof a;if(s==="string"||s==="number"||s==="boolean"){this.eGui=ct("<span>"+a+"</span>");return}if(a==null){this.eGui=ct("<span></span>");return}this.eGui=a},r}();return n},t.prototype.doesImplementIComponent=function(e){return e?e.prototype&&"getGui"in e.prototype:!1},a0([m("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=a0([z("agComponentUtils")],t),t}(T),h2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},g2=function(i){h2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Fm([m("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Fm([I],t.prototype,"postConstruct",null),t=Fm([z("componentMetadataProvider")],t),t}(T),m2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},v2=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},y2=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},w2=25,s0=10,Lm=8,C2=4,km=4,zm=6,b2=16,l0=14,Vm=8,_2={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:C2*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:Lm*7,headerCellMinWidth:48,listItemHeight:Lm*4,rowHeight:Lm*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:km*8,headerCellMinWidth:24,listItemHeight:km*6,rowHeight:km*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:zm*8,headerCellMinWidth:36,listItemHeight:zm*4,rowHeight:zm*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:l0+Vm*4.25,headerCellMinWidth:36,listItemHeight:b2+Vm,rowHeight:l0+Vm*3.5,chartMenuPanelWidth:260}},c0={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},S2=function(i){m2(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.calculatedSizes={},e}return t.prototype.postConstruct=function(){var e=this,n,r=(n=this.getTheme().el)!==null&&n!==void 0?n:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return e.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(r||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){var e={type:v.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)},t.prototype.getSassVariable=function(e){var n=this.getTheme(),r=n.themeFamily,o=n.el;if(!(!r||r.indexOf("ag-theme")!==0)){this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[r]||(this.calculatedSizes[r]={});var a=this.calculatedSizes[r][e];return a??(this.calculatedSizes[r][e]=this.calculateValueForSassProperty(e,r,o),this.calculatedSizes[r][e])}},t.prototype.calculateValueForSassProperty=function(e,n,r){var o,a="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),s=_2[a][e],l=this.gridOptionsService.getDocument();if(r||(r=this.eGridDiv),!c0[e])return s;var c=c0[e],u=l.createElement("div"),d=Array.from(r.classList);(o=u.classList).add.apply(o,y2([n],v2(d),!1)),u.style.position="absolute";var p=c.reduce(function(g,y){var w=l.createElement("div");return w.style.position="static",w.classList.add(y),g.appendChild(w),w},u),f=0;if(l.body){l.body.appendChild(u);var h=e.toLowerCase().indexOf("height")!==-1?"height":"width";f=parseInt(window.getComputedStyle(p)[h],10),l.body.removeChild(u)}return f||s},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,r=null,o=[];n;)if(r=e.exec(n.className),!r)n=n.parentElement||void 0;else{var a=n.className.match(e);a&&(o=a);break}if(!r)return{allThemes:o};var s=r[0];return{theme:s,el:n,themeFamily:s.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,n){var r;return(r=this.getSassVariable(n))!==null&&r!==void 0?r:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(w2,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var r="".concat(n,"px");return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),n):e!=""?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return x(e)?Math.max(e,s0):s0},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),i.prototype.destroy.call(this)},Nm([m("eGridDiv")],t.prototype,"eGridDiv",void 0),Nm([I],t.prototype,"postConstruct",null),t=Nm([z("environment")],t),t}(T),E2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},x2=function(i,t){return function(e,n){t(e,n,i)}},D2=function(i){E2(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,v.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=ix(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var e=this.ctrlsService.getGridBodyCtrl(),n=e.getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight(),o=n!==this.scrollY||r!==this.uiBodyHeight;o&&(this.scrollY=n,this.uiBodyHeight=r,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,n=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(n," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(n)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var n=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:v.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var e=this.ctrlsService.getGridBodyCtrl(),n=e.getScrollFeature().getVScrollPosition();return n.bottom-n.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var n=this.modelHeight-this.getUiBodyHeight(),r=e/n,o=this.maxScrollY*r;return o},gd([m("ctrlsService")],t.prototype,"ctrlsService",void 0),gd([x2(0,Nt("loggerFactory"))],t.prototype,"agWire",null),gd([I],t.prototype,"postConstruct",null),t=gd([z("rowContainerHeightService")],t),t}(T),T2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),md=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},R2=function(i){T2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("isRowSelectable",function(){return e.updateSelectable()})},t.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},t.prototype.updateSelectable=function(e){e===void 0&&(e=!1);var n=!!this.gridOptionsService.get("rowSelection"),r=this.gridOptionsService.get("isRowSelectable");if(!(!n||!r)){var o=this.gridOptionsService.get("groupSelectsChildren"),a=this.rowModel.getType()==="clientSide"&&o,s=[],l=function(d){if(!(e&&!d.group)){if(a&&d.group){var p=d.childrenAfterGroup.some(function(h){return h.selectable===!0});d.setRowSelectable(p,!0);return}var f=r?r(d):!0;d.setRowSelectable(f,!0),!f&&d.isSelected()&&s.push(d)}};if(a){var c=this.rowModel,u=new ap(!1,c.getRootNode());u.forEachChangedNodeDepthFirst(l,!0,!0)}else this.rowModel.forEachNode(l);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),a&&this.selectionService instanceof tD&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},md([m("rowModel")],t.prototype,"rowModel",void 0),md([m("selectionService")],t.prototype,"selectionService",void 0),md([I],t.prototype,"init",null),t=md([z("selectableService")],t),t}(T),O2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$t=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},A2=function(i){O2(t,i);function t(){var e=i.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return t.prototype.postConstruct=function(){var e=this,n=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var r=this,o=r.btFirst,a=r.btPrevious,s=r.btNext,l=r.btLast;r.pageSizeComp,this.activateTabIndex([o,a,s,l]),o.insertAdjacentElement("afterbegin",je(n?"last":"first",this.gridOptionsService)),a.insertAdjacentElement("afterbegin",je(n?"next":"previous",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",je(n?"previous":"next",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",je(n?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return e.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var e=this.gridOptionsService.get("pagination"),n=e&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},t.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var r=n.el,o=n.fn;e.addManagedListener(r,"click",o),e.addManagedListener(r,"keydown",function(a){(a.key===S.ENTER||a.key===S.SPACE)&&(a.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage(),r=e?n+1:0;this.lbCurrent.innerHTML=this.formatNumber(r)},t.prototype.formatNumber=function(e){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n){var r={value:e};return n(r)}var o=this.localeService.getLocaleTextFunc(),a=o("thousandSeparator",","),s=o("decimalSeparator",".");return Nv(e,a,s)},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),n=e("page","Page"),r=e("to","to"),o=e("of","of"),a=e("firstPage","First Page"),s=e("previousPage","Previous Page"),l=e("nextPage","Next Page"),c=e("lastPage","Last Page"),u=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(u,`">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-`).concat(u,`-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(u,'-to">').concat(r,`</span>
                    <span id="ag-`).concat(u,`-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-`).concat(u,'-of">').concat(o,`</span>
                    <span id="ag-`).concat(u,`-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="`).concat(a,`"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="`).concat(s,`"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-`).concat(u,'-start-page">').concat(n,`</span>
                        <span id="ag-`).concat(u,`-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-`).concat(u,'-of-page">').concat(o,`</span>
                        <span id="ag-`).concat(u,`-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="`).concat(l,`"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="`).concat(c,`"></div>
                </span>
            </div>`)},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay(),a=e===r-1;this.nextButtonDisabled=a||o,this.lastButtonDisabled=!n||o||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,n){Ev(e,n),e.classList.toggle("ag-disabled",n)},t.prototype.updateRowLabels=function(){var e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null,a,s;if(this.isZeroPagesToDisplay()?a=s=0:(a=n*e+1,s=a+n-1,r&&s>o&&(s=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(a),this.rowNodeBlockLoader.isLoading()){var l=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=l("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(s)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return e&&n===0},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),r=e?this.paginationProxy.getMasterRowCount():null;if(r===1){var o=this.paginationProxy.getRow(0),a=o&&o.group&&!(o.groupData||o.aggData);if(a){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.innerHTML=this.formatNumber(n),this.lbRecordCount.innerHTML=this.formatNumber(r);else{var s=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=s,this.lbRecordCount.innerHTML=s}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},$t([m("paginationProxy")],t.prototype,"paginationProxy",void 0),$t([m("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),$t([P("btFirst")],t.prototype,"btFirst",void 0),$t([P("btPrevious")],t.prototype,"btPrevious",void 0),$t([P("btNext")],t.prototype,"btNext",void 0),$t([P("btLast")],t.prototype,"btLast",void 0),$t([P("lbRecordCount")],t.prototype,"lbRecordCount",void 0),$t([P("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),$t([P("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),$t([P("lbCurrent")],t.prototype,"lbCurrent",void 0),$t([P("lbTotal")],t.prototype,"lbTotal",void 0),$t([P("pageSizeComp")],t.prototype,"pageSizeComp",void 0),$t([I],t.prototype,"postConstruct",null),t}(te),I2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},M2=function(i){I2(t,i);function t(){var e=i.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return t.prototype.updateLayoutClasses=function(e,n){var r=this.eOverlayWrapper.classList;r.toggle(Xe.AUTO_HEIGHT,n.autoHeight),r.toggle(Xe.NORMAL,n.normal),r.toggle(Xe.PRINT,n.print)},t.prototype.postConstruct=function(){this.createManagedBean(new Jv(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var n=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&n.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,n.toggle(e,!0)},t.prototype.showOverlay=function(e,n){var r=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(o){r.inProgress=!1,r.eOverlayWrapper.appendChild(o.getGui()),r.activeOverlay=o,r.destroyRequested&&(r.destroyRequested=!1,r.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),rt(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),i.prototype.destroy.call(this)},t.TEMPLATE=`
        <div class="ag-overlay" aria-hidden="true">
            <div class="ag-overlay-panel">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>
            </div>
        </div>`,Gm([m("overlayService")],t.prototype,"overlayService",void 0),Gm([P("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),Gm([I],t.prototype,"postConstruct",null),t}(te),P2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),vd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},F2=function(i){P2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getFirstRow=function(){var e=0,n;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:e,rowPinned:n}},t.prototype.getLastRow=function(){var e,n=null,r=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return r?(n="bottom",e=r-1):this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageLastRow()):o&&(n="top",e=o-1),e===void 0?null:{rowIndex:e,rowPinned:n}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,n){return!e&&!n?!0:e&&!n||!e&&n?!1:e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned},t.prototype.before=function(e,n){switch(e.rowPinned){case"top":if(n.rowPinned!=="top")return!0;break;case"bottom":if(n.rowPinned!=="bottom")return!1;break;default:if(x(n.rowPinned))return n.rowPinned!=="top";break}return e.rowIndex<n.rowIndex},t.prototype.rowMax=function(e){var n=this,r;return e.forEach(function(o){(r===void 0||n.before(r,o))&&(r=o)}),r},t.prototype.rowMin=function(e){var n=this,r;return e.forEach(function(o){(r===void 0||n.before(o,r))&&(r=o)}),r},vd([m("rowModel")],t.prototype,"rowModel",void 0),vd([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),vd([m("paginationProxy")],t.prototype,"paginationProxy",void 0),t=vd([z("rowPositionUtils")],t),t}(T),N2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),L2=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},k2=function(i){N2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.createId=function(e){var n=e.rowIndex,r=e.rowPinned,o=e.column;return this.createIdFromValues({rowIndex:n,column:o,rowPinned:r})},t.prototype.createIdFromValues=function(e){var n=e.rowIndex,r=e.rowPinned,o=e.column;return"".concat(n,".").concat(r??"null",".").concat(o.getId())},t.prototype.equals=function(e,n){var r=e.column===n.column,o=e.rowPinned===n.rowPinned,a=e.rowIndex===n.rowIndex;return r&&o&&a},t=L2([z("cellPositionUtils")],t),t}(T),z2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),dl=function(){function i(t){this.cellValueChanges=t}return i}(),Hm=function(i){z2(t,i);function t(e,n,r,o){var a=i.call(this,e)||this;return a.initialRange=n,a.finalRange=r,a.ranges=o,a}return t}(dl),u0=function(){function i(t){this.actionStack=[],this.maxStackSize=t||i.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return i.prototype.pop=function(){return this.actionStack.pop()},i.prototype.push=function(t){var e=t.cellValueChanges&&t.cellValueChanges.length>0;e&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},i.prototype.clear=function(){this.actionStack=[]},i.prototype.getCurrentStackSize=function(){return this.actionStack.length},i.DEFAULT_STACK_SIZE=10,i}(),V2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wd=function(){return Wd=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Wd.apply(this,arguments)},nr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},G2=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},H2=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},j2=function(i){V2(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(n){var r={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=e.activeCellEdit!==null&&e.cellPositionUtils.equals(e.activeCellEdit,r),a=e.activeRowEdit!==null&&e.rowPositionUtils.sameRow(e.activeRowEdit,r),s=o||a||e.isPasting||e.isRangeInAction;if(s){var l=n.rowPinned,c=n.rowIndex,u=n.column,d=n.oldValue,p=n.value,f={rowPinned:l,rowIndex:c,columnId:u.getColId(),newValue:p,oldValue:d};e.cellValueChanges.push(f)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return t.prototype.init=function(){var e=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var n=this.gridOptionsService.get("undoRedoCellEditingLimit");n<=0||(this.undoStack=new u0(n),this.redoStack=new u0(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,v.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,v.EVENT_MODEL_UPDATED,function(r){r.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,v.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){var n={type:v.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(n);var r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),o={type:v.EVENT_UNDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(o)},t.prototype.redo=function(e){var n={type:v.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(n);var r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),o={type:v.EVENT_REDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(o)},t.prototype.undoRedo=function(e,n,r,o,a){if(!e)return!1;var s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,function(l){return l[o]},a),s instanceof Hm?this.processRange(s.ranges||[s[r]]):this.processCell(s.cellValueChanges),n.push(s),!0)},t.prototype.processAction=function(e,n,r){var o=this;e.cellValueChanges.forEach(function(a){var s=a.rowIndex,l=a.rowPinned,c=a.columnId,u={rowIndex:s,rowPinned:l},d=o.getRowNode(u);d.displayed&&d.setDataValue(c,n(a),r)})},t.prototype.processRange=function(e){var n=this,r;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,a){if(o){var s=o.startRow,l=o.endRow;a===e.length-1&&(r={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(r));var c={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:l.rowIndex,rowEndPinned:l.rowPinned,columnStart:o.startColumn,columns:o.columns};n.rangeService.addCellRange(c)}})},t.prototype.processCell=function(e){var n=e[0],r=n.rowIndex,o=n.rowPinned,a={rowIndex:r,rowPinned:o},s=this.getRowNode(a),l={rowPinned:n.rowPinned,rowIndex:s.rowIndex,columnId:n.columnId};this.setLastFocusedCell(l,!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,n){var r=e.rowIndex,o=e.columnId,a=e.rowPinned,s=this.gridBodyCtrl.getScrollFeature(),l=this.columnModel.getGridColumn(o);if(l){s.ensureIndexVisible(r),s.ensureColumnVisible(l);var c={rowIndex:r,column:l,rowPinned:a};this.focusService.setFocusedCell(Wd(Wd({},c),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(c)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_ROW_EDITING_STARTED,function(n){e.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,v.EVENT_ROW_EDITING_STOPPED,function(){var n=new dl(e.cellValueChanges);e.pushActionsToUndoStack(n),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_CELL_EDITING_STARTED,function(n){e.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,v.EVENT_CELL_EDITING_STOPPED,function(n){e.activeCellEdit=null;var r=n.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction;if(r){var o=new dl(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,v.EVENT_PASTE_END,function(){var n=new dl(e.cellValueChanges);e.pushActionsToUndoStack(n),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,v.EVENT_FILL_END,function(n){var r=new Hm(e.cellValueChanges,n.initialRange,n.finalRange);e.pushActionsToUndoStack(r),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,v.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;e.rangeService&&e.gridOptionsService.get("enableRangeSelection")?n=new Hm(e.cellValueChanges,void 0,void 0,H2([],G2(e.rangeService.getCellRanges()),!1)):n=new dl(e.cellValueChanges),e.pushActionsToUndoStack(n),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},nr([m("focusService")],t.prototype,"focusService",void 0),nr([m("ctrlsService")],t.prototype,"ctrlsService",void 0),nr([m("rowModel")],t.prototype,"rowModel",void 0),nr([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),nr([m("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),nr([m("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),nr([m("columnModel")],t.prototype,"columnModel",void 0),nr([ye("rangeService")],t.prototype,"rangeService",void 0),nr([I],t.prototype,"init",null),t=nr([z("undoRedoService")],t),t}(T),B2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),jm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},U2=function(i){B2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.findHeader=function(e,n){var r,o,a;if(e.column instanceof Ze?(o="getDisplayedGroup".concat(n),r=this.columnModel[o](e.column)):(a="getDisplayedCol".concat(n),r=this.columnModel[a](e.column)),!!r){var s=e.headerRowIndex,l=this.getHeaderRowType(s);if(l===ht.COLUMN_GROUP){var c=r;if(c.isPadding()&&this.isAnyChildSpanningHeaderHeight(c)){var u=this.getColumnVisibleChild(c,s,n),d=u.nextFocusColumn,p=u.nextRow;d&&(r=d,s=p)}}return{column:r,headerRowIndex:s}}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return e?e.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()}):!1},t.prototype.getColumnVisibleParent=function(e,n){var r=this.getHeaderRowType(n),o=r===ht.FLOATING_FILTER,a=r===ht.COLUMN,s=o?e:e.getParent(),l=n-1;if(a&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;s&&s.isPadding();)s=s.getParent(),l--;l<0&&(s=e,l=n)}return{nextFocusColumn:s,nextRow:l}},t.prototype.getColumnVisibleChild=function(e,n,r){r===void 0&&(r="After");var o=this.getHeaderRowType(n),a=e,s=n+1;if(o===ht.COLUMN_GROUP){var l=e.getDisplayedLeafColumns(),c=r==="After"?l[0]:be(l);if(this.isAnyChildSpanningHeaderHeight(c.getParent())){a=c;for(var u=c.getParent();u&&u!==e;)u=u.getParent(),s++}else a=e.getDisplayedChildren()[0]}return{nextFocusColumn:a,nextRow:s}},t.prototype.getHeaderRowType=function(e){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,n){var r=this.columnModel.getAllDisplayedColumns(),o=r[n==="start"?0:r.length-1];if(o){var a=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()),s=a.getRowType(e);if(s==ht.COLUMN_GROUP){var l=this.columnModel.getColumnGroupAtLevel(o,e);return{headerRowIndex:e,column:l}}return{headerRowIndex:s==null?-1:e,column:o}}},jm([m("columnModel")],t.prototype,"columnModel",void 0),jm([m("ctrlsService")],t.prototype,"ctrlsService",void 0),t=jm([z("headerPositionUtils")],t),t}(T),W2=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},q2=function(){function i(){}return i.prototype.buildColumnDefs=function(t,e,n){var r=this,o=[],a={};return t.forEach(function(s){for(var l=r.createDefFromColumn(s,e,n),c=!0,u=l,d=s.getOriginalParent(),p=null;d;){var f=null;if(d.isPadding()){d=d.getOriginalParent();continue}var h=a[d.getGroupId()];if(h){h.children.push(u),c=!1;break}if(f=r.createDefFromGroup(d),f&&(f.children=[u],a[f.groupId]=f,u=f,d=d.getOriginalParent()),d!=null&&p===d){c=!1;break}p=d}c&&o.push(u)}),o},i.prototype.createDefFromGroup=function(t){var e=xd(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},i.prototype.createDefFromColumn=function(t,e,n){var r=xd(t.getColDef());return r.colId=t.getColId(),r.width=t.getActualWidth(),r.rowGroup=t.isRowGroupActive(),r.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,r.pivot=t.isPivotActive(),r.pivotIndex=t.isPivotActive()?n.indexOf(t):null,r.aggFunc=t.isValueActive()?t.getAggFunc():null,r.hide=t.isVisible()?void 0:!0,r.pinned=t.isPinned()?t.getPinned():null,r.sort=t.getSort()?t.getSort():null,r.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,r},i=W2([z("columnDefFactory")],i),i}(),Bm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},$2=function(){function i(){}return i.prototype.getInitialRowClasses=function(t){var e=[];return x(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),tv(e,this.processClassesFromGridOptions(t.rowNode)),tv(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e},i.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(l){typeof l=="string"?e.push(l):Array.isArray(l)&&l.forEach(function(c){return e.push(c)})},r=this.gridOptionsService.get("rowClass");if(r){if(typeof r=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(r)}var o=this.gridOptionsService.getCallback("getRowClass");if(o){var a={data:t.data,node:t,rowIndex:t.rowIndex},s=o(a);n(s)}return e},i.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(n){e.push(n)},function(n){}),e},i.prototype.processRowClassRules=function(t,e,n){var r={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),r,e,n)},i.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},Bm([m("stylingService")],i.prototype,"stylingService",void 0),Bm([m("gridOptionsService")],i.prototype,"gridOptionsService",void 0),i=Bm([z("rowCssClassCalculator")],i),i}(),K2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),yd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Y2=function(i){K2(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return e.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,n){var r=function(a,s){return{currentPos:s,rowNode:a}},o=e.map(r);return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(a){return a.rowNode})},t.prototype.compareRowNodes=function(e,n,r){for(var o=n.rowNode,a=r.rowNode,s=0,l=e.length;s<l;s++){var c=e[s],u=c.sort==="desc",d=this.getValue(o,c.column),p=this.getValue(a,c.column),f=void 0,h=this.getComparator(c,o);h?f=h(d,p,o,a,u):f=ie.defaultComparator(d,p,this.isAccentedSort);var g=!isNaN(f);if(g&&f!==0)return c.sort==="asc"?f:f*-1}return n.currentPos-r.currentPos},t.prototype.getComparator=function(e,n){var r=e.column,o=r.getColDef().comparator;if(o!=null)return o;if(r.getColDef().showRowGroup){var a=!n.group&&r.getColDef().field;if(a){var s=this.columnModel.getPrimaryColumn(a);if(s)return s.getColDef().comparator}}},t.prototype.getValue=function(e,n){var r,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,e,!1,!1);var a=e.rowGroupColumn===n;if(a){var s=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive());if(s){var l=(r=e.allLeafChildren)===null||r===void 0?void 0:r[0];return l?this.valueService.getValue(n,l,!1,!1):void 0}var c=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return c?(o=e.groupData)===null||o===void 0?void 0:o[c.getId()]:void 0}if(!(e.group&&n.getColDef().showRowGroup))return this.valueService.getValue(n,e,!1,!1)},yd([m("valueService")],t.prototype,"valueService",void 0),yd([m("columnModel")],t.prototype,"columnModel",void 0),yd([I],t.prototype,"init",null),t=yd([z("rowNodeSorter")],t),t}(T),Q2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Z2=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},X2=function(i){Q2(t,i);function t(){var n=i!==null&&i.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}e=t,t.prototype.checkReady=function(){if(this.ready=this.gridCtrl!=null&&this.gridBodyCtrl!=null&&this.centerRowContainerCtrl!=null&&this.leftRowContainerCtrl!=null&&this.rightRowContainerCtrl!=null&&this.bottomCenterRowContainerCtrl!=null&&this.bottomLeftRowContainerCtrl!=null&&this.bottomRightRowContainerCtrl!=null&&this.topCenterRowContainerCtrl!=null&&this.topLeftRowContainerCtrl!=null&&this.topRightRowContainerCtrl!=null&&this.stickyTopCenterRowContainerCtrl!=null&&this.stickyTopLeftRowContainerCtrl!=null&&this.stickyTopRightRowContainerCtrl!=null&&this.centerHeaderRowContainerCtrl!=null&&this.leftHeaderRowContainerCtrl!=null&&this.rightHeaderRowContainerCtrl!=null&&this.fakeHScrollComp!=null&&this.fakeVScrollComp!=null&&this.gridHeaderCtrl!=null,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(r){return r(n)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},t.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerHeaderContainer=function(n,r){switch(r){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n;break}this.checkReady()},t.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},t.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}};var e;return t.NAME="ctrlsService",t=e=Z2([z(e.NAME)],t),t}(T),J2=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),eU=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},tU=function(i){J2(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.registry={},e}return t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var n=this.registry[e];if(n!=null)return new n},t=eU([z("ctrlsFactory")],t),t}(T),nU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),el=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},rD=function(i){nU(t,i);function t(e,n){var r=i.call(this,e)||this;return r.direction=n,r.hideTimeout=null,r}return t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,v.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Pv()||hi())},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Fv(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,n=["mouseenter","mousedown","touchstart"],r=["mouseleave","touchend"],o=this.getGui();n.forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),r.forEach(function(a){return e.addManagedListener(o,a,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL,function(n){n.direction===e.direction&&(e.hideTimeout!==null&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var n=this,r=this.getViewport();wv(function(){return zt(r)},function(){return n.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},el([P("eViewport")],t.prototype,"eViewport",void 0),el([P("eContainer")],t.prototype,"eContainer",void 0),el([m("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),el([m("ctrlsService")],t.prototype,"ctrlsService",void 0),el([m("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(te),rU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),tl=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},iU=function(i){rU(t,i);function t(){return i.call(this,t.TEMPLATE,"horizontal")||this}return t.prototype.postConstruct=function(){var e=this;i.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,v.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new ty(function(r){return e.eContainer.style.width="".concat(r,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},t.prototype.initialiseInvisibleScrollbar=function(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),i.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}},t.prototype.onScrollVisibilityChanged=function(){i.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),r=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();r&&(n+=o),vn(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var a=this.columnModel.getDisplayedColumnsLeftWidth(),s=this.enableRtl&&e;s&&(a+=o),vn(this.eLeftSpacer,a),this.eLeftSpacer.classList.toggle("ag-scroller-corner",a<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,r=this.gridOptionsService.get("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,a=o===0&&n?16:o,s=r?0:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Ji(this.getGui(),s),Ji(this.eViewport,s),Ji(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return wl(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){zt(this.getViewport())||this.attemptSettingScrollPosition(e),Cl(this.getViewport(),e,this.enableRtl)},t.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`,tl([P("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),tl([P("eRightSpacer")],t.prototype,"eRightSpacer",void 0),tl([m("columnModel")],t.prototype,"columnModel",void 0),tl([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),tl([I],t.prototype,"postConstruct",null),t}(rD),oU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Um=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},aU=function(i){oU(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,v.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),n=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=e?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:v.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:v.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Um([m("columnModel")],t.prototype,"columnModel",void 0),Um([I],t.prototype,"postConstruct",null),t=Um([z("pinnedWidthService")],t),t}(T),sU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),wd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},lU=function(i){sU(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.events=[],e}return t.prototype.postConstruct=function(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var n=this;if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);var r=function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]};this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced()},wd([m("animationFrameService")],t.prototype,"animationFrameService",void 0),wd([m("rowModel")],t.prototype,"rowModel",void 0),wd([I],t.prototype,"postConstruct",null),t=wd([z("rowNodeEventThrottle")],t),t}(T),cU={},ri=function(i,t){var e;return((e=t.rowModelType)!==null&&e!==void 0?e:"clientSide")==="clientSide"?{module:B.RowGroupingModule}:null},uU={enableRowGroup:ri,rowGroup:ri,rowGroupIndex:ri,enablePivot:ri,enableValue:ri,pivot:ri,pivotIndex:ri,aggFunc:ri,cellEditor:function(i){return i.cellEditor==="agRichSelect"||i.cellEditor==="agRichSelectCellEditor"?{module:B.RichSelectModule}:null},menuTabs:function(i){var t,e=["columnsMenuTab","generalMenuTab"];return!((t=i.menuTabs)===null||t===void 0)&&t.some(function(n){return e.includes(n)})?{module:B.MenuModule}:null},columnsMenuParams:{module:[B.MenuModule,B.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(i,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(i,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(i,t){var e=t.rowSelection;return e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return va}},va={objectName:"colDef",allProperties:gV.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:cU,validations:uU},d0=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},p0=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},dU={enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."}},pU={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFadeDelay:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0},fU={sideBar:{module:B.SideBarModule},statusBar:{module:B.StatusBarModule},enableCharts:{module:B.GridChartsModule},getMainMenuItems:{module:B.MenuModule},getContextMenuItems:{module:B.MenuModule},allowContextMenuWithControlKey:{module:B.MenuModule},enableAdvancedFilter:{module:B.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:B.RowGroupingModule,dependencies:function(i){var t,e=(t=i.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":var n="treeData requires 'getDataPath' in the ".concat(e," row model.");return i.getDataPath?null:n;case"serverSide":var r="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(e," row model.");return i.isServerSideGroup&&i.getServerSideGroupKey?null:r}return null}},masterDetail:{module:B.MasterDetailModule},enableRangeSelection:{module:B.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(i){var t,e=(t=i.rowModelType)!==null&&t!==void 0?t:"clientSide";switch(e){case"clientSide":return null;case"serverSide":var n="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return i.suppressServerSideInfiniteScroll?n:null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:B.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:B.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:B.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:B.ClientSideRowModelModule},columnDefs:function(){return va},defaultColDef:function(){return va},defaultColGroupDef:function(){return va},autoGroupColumnDef:function(){return va}},hU={objectName:"gridOptions",allProperties:p0(p0([],d0(or.ALL_PROPERTIES),!1),d0(El.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:dU,validations:fU},Sr=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Cd=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},Wm=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},iD=function(){function i(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new fi,this.globalEventHandlerFactory=function(n){return function(r,o){if(!e.destroyed){var a=t.alwaysSyncGlobalEvents.has(r);if(!(a&&!n||!a&&n)){var s=El.getCallbackForEvent(r);typeof e.gridOptions[s]=="function"&&e.gridOptions[s](o)}}}}}t=i,Object.defineProperty(i.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),i.prototype.init=function(){this.columnApi=new Rl(this.api);var e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},i.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},i.prototype.get=function(e){var n;return(n=this.gridOptions[e])!==null&&n!==void 0?n:pU[e]},i.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},i.prototype.exists=function(e){return x(this.gridOptions[e])},i.prototype.mergeGridCommonParams=function(e){var n=this;if(e){var r=function(o){var a=o;return a.api=n.api,a.columnApi=n.columnApi,a.context=n.context,e(a)};return r}return e},i.toBoolean=function(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1},i.toNumber=function(e){if(typeof e=="number")return e;if(typeof e=="string"){var n=parseInt(e);return isNaN(n)?void 0:n}},i.toConstrainedNum=function(e,n){return function(r){var o=t.toNumber(r);if(!(o==null||o<e||o>n))return o}},i.getCoercedValue=function(e,n){var r=t.PROPERTY_COERCIONS.get(e);return r?r(n):n},i.getCoercedGridOptions=function(e){var n={};return Object.entries(e).forEach(function(r){var o=Cd(r,2),a=o[0],s=o[1],l=t.getCoercedValue(a,s);n[a]=l}),n},i.prototype.updateGridOptions=function(e){var n=this,r=e.options,o=e.source,a=o===void 0?"api":o,s={id:t.changeSetId++,properties:[]},l=[];Object.entries(r).forEach(function(c){var u=Cd(c,2),d=u[0],p=u[1];a==="api"&&xk[d]&&J("".concat(d," is an initial property and cannot be updated."));var f=t.getCoercedValue(d,p),h=typeof f=="object"&&a==="api",g=n.gridOptions[d];if(h||g!==f){n.gridOptions[d]=f;var y={type:d,currentValue:f,previousValue:g,changeSet:s,source:a};l.push(y)}}),this.validationService.processGridOptions(this.gridOptions),s.properties=l.map(function(c){return c.type}),l.forEach(function(c){n.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(c.type," from ").concat(String(c.previousValue)," to ").concat(String(c.currentValue),".")),n.propertyEventService.dispatchEvent(c)})},i.prototype.addEventListener=function(e,n){this.propertyEventService.addEventListener(e,n)},i.prototype.removeEventListener=function(e,n){this.propertyEventService.removeEventListener(e,n)},i.prototype.getGridId=function(){return this.api.getGridId()},i.prototype.getScrollbarWidth=function(){if(this.scrollbarWidth==null){var e=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0,n=e?this.gridOptions.scrollbarWidth:sx();n!=null&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:v.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},i.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&K(this.gridOptions.rowModelType)},i.prototype.isDomLayout=function(e){var n,r=(n=this.gridOptions.domLayout)!==null&&n!==void 0?n:"normal";return r===e},i.prototype.isRowSelection=function(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"},i.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},i.prototype.isGetRowHeightFunction=function(){return typeof this.gridOptions.getRowHeight=="function"},i.prototype.getRowHeightForNode=function(e,n,r){if(n===void 0&&(n=!1),r==null&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:r,estimated:!0};var o={node:e,data:e.data},a=this.getCallback("getRowHeight")(o);if(this.isNumeric(a))return a===0&&J("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(e.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();var s=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r;return{height:s,estimated:!1}},i.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},i.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||K(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},i.prototype.isNumeric=function(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)},i.prototype.getDomDataKey=function(){return this.domDataKey},i.prototype.getDomData=function(e,n){var r=e[this.getDomDataKey()];return r?r[n]:void 0},i.prototype.setDomData=function(e,n,r){var o=this.getDomDataKey(),a=e[o];K(a)&&(a={},e[o]=a),a[n]=r},i.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&x(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&x(e)?e:document},i.prototype.getWindow=function(){var e=this.getDocument();return e.defaultView||window},i.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},i.prototype.getAsyncTransactionWaitMillis=function(){return x(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},i.prototype.isAnimateRows=function(){return this.get("ensureDomOrder")?!1:this.get("animateRows")},i.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents"))},i.prototype.isColumnsSortingCoupledToGroup=function(){var e=this.gridOptions.autoGroupColumnDef;return!e?.comparator&&!this.get("treeData")},i.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return function(){return!0}},i.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return e===!0||typeof e=="function"},i.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return typeof e=="function"?this.getCallback("groupIncludeFooter"):e===!0?function(){return!0}:function(){return!1}},i.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")},i.prototype.isGroupUseEntireRow=function(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"};var t;return i.alwaysSyncGlobalEvents=new Set([v.EVENT_GRID_PRE_DESTROYED]),i.PROPERTY_COERCIONS=new Map(Wm(Wm(Wm([],Cd(or.BOOLEAN_PROPERTIES.map(function(e){return[e,t.toBoolean]})),!1),Cd(or.NUMBER_PROPERTIES.map(function(e){return[e,t.toNumber]})),!1),[["groupAggFiltering",function(e){return typeof e=="function"?e:t.toBoolean(e)}],["pageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",t.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",t.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",t.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),i.changeSetId=0,Sr([m("gridOptions")],i.prototype,"gridOptions",void 0),Sr([m("eventService")],i.prototype,"eventService",void 0),Sr([m("environment")],i.prototype,"environment",void 0),Sr([m("eGridDiv")],i.prototype,"eGridDiv",void 0),Sr([m("validationService")],i.prototype,"validationService",void 0),Sr([m("gridApi")],i.prototype,"api",void 0),Sr([I],i.prototype,"init",null),Sr([_t],i.prototype,"destroy",null),i=t=Sr([z("gridOptionsService")],i),i}(),gU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mU=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vU=function(i){gU(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(r,o,a){var s={key:r,defaultValue:o,variableValues:a};return e(s)};var n=this.gridOptionsService.get("localeText");return function(r,o,a){var s=n&&n[r];if(s&&a&&a.length)for(var l=0;!(l>=a.length);){var c=s.indexOf("${variable}");if(c===-1)break;s=s.replace("${variable}",a[l++])}return s??o}},t=mU([z("localeService")],t),t}(T),yU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),wU=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},CU=function(i){yU(t,i);function t(){return i.call(this,t.TEMPLATE,"vertical")||this}return t.prototype.postConstruct=function(){i.prototype.postConstruct.call(this),this.createManagedBean(new Zx(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,v.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,r=e&&this.gridOptionsService.getScrollbarWidth()||0,o=r===0&&n?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),vn(this.getGui(),o),vn(this.eViewport,o),vn(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var e=this.ctrlsService.getGridBodyCtrl(),n=e.getBodyViewportElement();this.eViewport.scrollTop!=n.scrollTop&&(this.eViewport.scrollTop=n.scrollTop)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e){zt(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`,wU([I],t.prototype,"postConstruct",null),t}(rD),bU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pt=function(){return Pt=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Pt.apply(this,arguments)},Wi=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},rr=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},nl=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},f0={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},h0=["january","february","march","april","may","june","july","august","september","october","november","december"],_U=function(i){bU(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs("gridOptionsChanged")})},t.prototype.processDataTypeDefinitions=function(){var e=this,n,r=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(r).forEach(function(a){var s=rr(a,2),l=s[0],c=s[1];e.dataTypeDefinitions[l]=Pt(Pt({},c),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(c)})});var o=(n=this.gridOptionsService.get("dataTypeDefinitions"))!==null&&n!==void 0?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(a){var s=rr(a,2),l=s[0],c=s[1],u=e.processDataTypeDefinition(c,o,[l],r);u&&(e.dataTypeDefinitions[l]=u,c.dataTypeMatcher&&(e.dataTypeMatchers[l]=c.dataTypeMatcher))}),this.checkObjectValueHandlers(r),["dateString","text","number","boolean","date"].forEach(function(a){var s=e.dataTypeMatchers[a];s&&delete e.dataTypeMatchers[a],e.dataTypeMatchers[a]=s??r[a].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,n){var r=Pt(Pt({},e),n);return e.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(r.columnTypes=nl(nl([],rr(this.convertColumnTypes(e.columnTypes)),!1),rr(this.convertColumnTypes(n.columnTypes)),!1)),r},t.prototype.processDataTypeDefinition=function(e,n,r,o){var a,s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var l=o[s],c=n[s];if(l&&c&&(l=c),!this.validateDataTypeDefinition(e,l,s))return;a=this.mergeDataTypeDefinitions(l,e)}else{if(r.includes(s)){J('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}var u=n[s];if(!this.validateDataTypeDefinition(e,u,s))return;var d=this.processDataTypeDefinition(u,n,nl(nl([],rr(r),!1),[s],!1),o);if(!d)return;a=this.mergeDataTypeDefinitions(d,e)}return Pt(Pt({},a),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(a)})},t.prototype.validateDataTypeDefinition=function(e,n,r){return n?n.baseDataType!==e.baseDataType?(J('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(J("The data type definition ".concat(r," does not exist.")),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var n=this;if(e.valueFormatter)return function(r){var o,a;if(!((o=r.node)===null||o===void 0)&&o.group){var s=r.column.getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(r);if(e.baseDataType==="number"&&s!=="count"){if(typeof r.value=="number")return e.valueFormatter(r);if(typeof r.value=="object"){if(!r.value)return;if("toNumber"in r.value)return e.valueFormatter(Pt(Pt({},r),{value:r.value.toNumber()}));if("value"in r.value)return e.valueFormatter(Pt(Pt({},r),{value:r.value.value}))}}}if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(n.groupHideOpenParents&&r.column.isRowGroupActive()){if(typeof r.value!="string"||!((a=e.dataTypeMatcher)===null||a===void 0)&&a.call(e,r.value))return e.valueFormatter(r);if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(r)}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,n,r){var o=n.cellDataType,a=n.field;if(o===void 0&&(o=e.cellDataType),(o==null||o===!0)&&(o=this.canInferCellDataType(e,n)?this.inferCellDataType(a,r):!1),!o){e.cellDataType=!1;return}var s=this.dataTypeDefinitions[o];if(!s){J('Missing data type definition - "'.concat(o,'"'));return}return e.cellDataType=o,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,s,r),s.columnTypes},t.prototype.updateColDefAndGetColumnType=function(e,n,r){var o,a,s=this.updateColDefAndGetDataTypeDefinitionColumnType(e,n,r),l=(a=(o=n.type)!==null&&o!==void 0?o:s)!==null&&a!==void 0?a:e.type;return e.type=l,l?this.convertColumnTypes(l):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[e.getColId()];if(n){var r=function(o){n.add(o.key)};e.addEventListener(Re.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(Re.EVENT_STATE_UPDATED,r)})}}},t.prototype.canInferCellDataType=function(e,n){var r=this,o;if(this.rowModel.getType()!=="clientSide")return!1;var a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,a))return!1;var s=n.type===null?e.type:n.type;if(s){var l=(o=this.gridOptionsService.get("columnTypes"))!==null&&o!==void 0?o:{},c=this.convertColumnTypes(s).some(function(u){var d=l[u.trim()];return d&&r.doColDefPropsPreventInference(d,a)});if(c)return!1}return!this.doColDefPropsPreventInference(e,a)},t.prototype.doColDefPropsPreventInference=function(e,n){var r=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var a=rr(o,2),s=a[0],l=a[1];return r.doesColDefPropPreventInference(e,n,s,l)})},t.prototype.doesColDefPropPreventInference=function(e,n,r,o){if(!n[r])return!1;var a=e[r];return a===null?(n[r]=!1,!1):o===void 0?!!a:a===o},t.prototype.inferCellDataType=function(e,n){var r;if(e){var o,a=this.getInitialData();if(a){var s=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=ya(a,e,s)}else this.initWaitForRowData(n);if(o!=null){var l=rr((r=Object.entries(this.dataTypeMatchers).find(function(u){var d=rr(u,2);d[0];var p=d[1];return p(o)}))!==null&&r!==void 0?r:["object"],1),c=l[0];return c}}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n?.length?n[0].data:null},t.prototype.initWaitForRowData=function(e){var n=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var r=this.isColumnTypeOverrideInDataTypeDefinitions;r&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,v.EVENT_ROW_DATA_UPDATE_STARTED,function(a){var s=a.firstRowData;if(s){o?.(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(s,r),n.columnStateUpdatesPendingInference={},r&&n.columnModel.processResizeOperations();var l={type:v.EVENT_DATA_TYPES_INFERRED};n.eventService.dispatchEvent(l)}})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,n){var r=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(l){return l()}),this.columnStateUpdateListenerDestroyFuncs=[];var a={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(l){var c=rr(l,2),u=c[0],d=c[1],p=r.columnModel.getGridColumn(u);if(p){var f=p.getColDef();if(r.columnModel.resetColumnDefIntoColumn(p,"cellDataTypeInferred")){var h=p.getColDef();if(n&&h.type&&h.type!==f.type){var g=r.getUpdatedColumnState(p,d);g.rowGroup&&g.rowGroupIndex==null&&(a[u]=g),g.pivot&&g.pivotIndex==null&&(s[u]=g),o.push(g)}}}}),n&&o.push.apply(o,nl([],rr(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(a,s)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,n){var r=this.columnModel.getColumnStateFromColDef(e);return n.forEach(function(o){delete r[o],o==="rowGroup"?delete r.rowGroupIndex:o==="pivot"&&delete r.pivotIndex}),r},t.prototype.checkObjectValueHandlers=function(e){var n=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=n.valueParser!==r.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==r.valueFormatter},t.prototype.convertColumnTypes=function(e){var n=[];if(e instanceof Array){var r=e.some(function(o){return typeof o!="string"});r?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):n=e}else typeof e=="string"?n=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'");return n},t.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},t.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},t.prototype.getDataTypeDefinition=function(e){var n=e.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},t.prototype.getBaseDataType=function(e){var n;return(n=this.getDataTypeDefinition(e))===null||n===void 0?void 0:n.baseDataType},t.prototype.checkType=function(e,n){var r;if(n==null)return!0;var o=(r=this.getDataTypeDefinition(e))===null||r===void 0?void 0:r.dataTypeMatcher;return o?o(n):!0},t.prototype.validateColDef=function(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&J('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&J('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},t.prototype.setColDefPropertiesForBaseDataType=function(e,n,r){var o=this,a=function(d,p,f){var h=d.getColDef().valueFormatter;return h===n.groupSafeValueFormatter&&(h=n.valueFormatter),o.valueFormatterService.formatValue(d,p,f,h)},s=ee.__isRegistered(B.SetFilterModule,this.context.getGridId()),l=this.localeService.getLocaleTextFunc(),c=function(d){var p=e.filterParams;e.filterParams=typeof p=="object"?Pt(Pt({},p),d):d};switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",s&&c({comparator:function(d,p){var f=d==null?0:parseInt(d),h=p==null?0:parseInt(p);return f===h?0:f>h?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(d){return!!d.colDef.editable&&d.event.key===S.SPACE},c(s?{valueFormatter:function(d){return x(d.value)?l(String(d.value),d.value?"True":"False"):l("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(d,p){return p},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(d,p){return p===!1},numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)},s&&c({valueFormatter:function(d){var p=a(d.column,d.node,d.value);return x(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(d,p){if(p===1&&d!=null){var f=h0[Number(d)-1];return l(f,f0[f])}return d??l("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=function(d){return a(d.column,d.node,d.value)};var u=this.getDateParserFunction();c(s?{valueFormatter:function(d){var p=a(d.column,d.node,d.value);return x(p)?p:l("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(d){var p=u(d??void 0);return p?[String(p.getFullYear()),String(p.getMonth()+1),String(p.getDate())]:null},treeListFormatter:function(d,p){if(p===1&&d!=null){var f=h0[Number(d)-1];return l(f,f0[f])}return d??l("blanks","(Blanks)")}}:{comparator:function(d,p){var f=u(p);return p==null||f<d?-1:f>d?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=function(d,p){var f=o.columnModel.getPrimaryColumn(r),h=f?.getColDef();if(!f||!h)return 0;var g=d==null?"":a(f,null,d),y=p==null?"":a(f,null,p);return g===y?0:g>y?1:-1},e.keyCreator=function(d){return a(d.column,d.node,d.value)},s?c({valueFormatter:function(d){var p=a(d.column,d.node,d.value);return x(p)?p:l("blanks","(Blanks)")}}):e.filterValueGetter=function(d){return a(d.column,d.node,o.valueService.getValue(d.column,d.node))};break}}},t.prototype.getDefaultDataTypes=function(){var e=function(r){return!!r.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(r){return r.newValue===""?null:Number(r.newValue)},valueFormatter:function(r){return r.value==null?"":typeof r.value!="number"||isNaN(r.value)?(console.log("was",typeof r.value,r.value,r),n("invalidNumber","Invalid Number")):String(r.value)},dataTypeMatcher:function(r){return typeof r=="number"}},text:{baseDataType:"text",valueParser:function(r){return r.newValue===""?null:gl(r.newValue)},dataTypeMatcher:function(r){return typeof r=="string"}},boolean:{baseDataType:"boolean",valueParser:function(r){return r.newValue==null?r.newValue:r.newValue===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:function(r){return r.value==null?"":String(r.value)},dataTypeMatcher:function(r){return typeof r=="boolean"}},date:{baseDataType:"date",valueParser:function(r){return Lt(r.newValue==null?null:String(r.newValue))},valueFormatter:function(r){var o;return r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?n("invalidDate","Invalid Date"):(o=mn(r.value,!1))!==null&&o!==void 0?o:""},dataTypeMatcher:function(r){return r instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(r){var o;return(o=Lt(r))!==null&&o!==void 0?o:void 0},dateFormatter:function(r){var o;return(o=mn(r??null,!1))!==null&&o!==void 0?o:void 0},valueParser:function(r){return e(String(r.newValue))?r.newValue:null},valueFormatter:function(r){return e(String(r.value))?r.value:""},dataTypeMatcher:function(r){return typeof r=="string"&&e(r)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(r){var o;return(o=gl(r.value))!==null&&o!==void 0?o:""}}}},Wi([m("rowModel")],t.prototype,"rowModel",void 0),Wi([m("columnModel")],t.prototype,"columnModel",void 0),Wi([m("columnUtils")],t.prototype,"columnUtils",void 0),Wi([m("valueService")],t.prototype,"valueService",void 0),Wi([m("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Wi([I],t.prototype,"init",null),t=Wi([z("dataTypeService")],t),t}(T),SU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),g0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},EU=function(i){SU(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.parseValue=function(e,n,r,o){var a=e.getColDef(),s={node:n,data:n?.data,oldValue:o,newValue:r,colDef:a,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},l=a.valueParser;return x(l)?typeof l=="function"?l(s):this.expressionService.evaluate(l,s):r},g0([m("expressionService")],t.prototype,"expressionService",void 0),t=g0([z("valueParserService")],t),t}(T),xU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rl=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},DU=function(i){xU(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListener("columnDefs",function(n){return e.setColumnDefs(n)})},t.prototype.start=function(){var e=this;this.ctrlsService.whenReady(function(){var n=e.gridOptionsService.get("columnDefs");n?e.setColumnsAndData(n):e.waitingForColumns=!0,e.gridReady()})},t.prototype.setColumnsAndData=function(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()},t.prototype.gridReady=function(){var e=this;this.dispatchGridReadyEvent();var n=ee.__isRegistered(B.EnterpriseCoreModule,this.context.getGridId()),r=new oy("AG Grid",function(){return e.gridOptionsService.get("debug")});r.log("initialised successfully, enterprise = ".concat(n))},t.prototype.dispatchGridReadyEvent=function(){var e={type:v.EVENT_GRID_READY};this.eventService.dispatchEvent(e)},t.prototype.setColumnDefs=function(e){var n,r=this.gridOptionsService.get("columnDefs");if(r){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(r);return}var o=(n=e.source)!==null&&n!==void 0?n:"api";this.columnModel.setColumnDefs(r,o)}},rl([m("ctrlsService")],t.prototype,"ctrlsService",void 0),rl([m("columnModel")],t.prototype,"columnModel",void 0),rl([m("rowModel")],t.prototype,"rowModel",void 0),rl([I],t.prototype,"postConstruct",null),t=rl([z("syncService")],t),t}(T),TU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),il=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},RU=function(i){TU(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_ROW_DATA_UPDATED,function(){return e.onRowDataUpdated()}),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var e={},n=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(n,"ag-overlay-loading-wrapper")}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var e={},n=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(n,"ag-overlay-no-rows-wrapper")}},t.prototype.showOverlay=function(e,n){var r=e.newAgStackInstance();this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(r,n)},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),n=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!n?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},il([m("userComponentFactory")],t.prototype,"userComponentFactory",void 0),il([m("paginationProxy")],t.prototype,"paginationProxy",void 0),il([m("columnModel")],t.prototype,"columnModel",void 0),il([I],t.prototype,"postConstruct",null),t=il([z("overlayService")],t),t}(T),OU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),si=function(){return si=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},si.apply(this,arguments)},pn=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},AU=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},IU=function(i){OU(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=hn(function(){return e.dispatchQueuedStateUpdateEvents()},0),e}return t.prototype.postConstruct=function(){var e=this,n;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},this.ctrlsService.whenReady(function(){return e.setupStateOnGridReady()});var r=this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,function(s){var l=s.source;l==="gridInitializing"&&(r?.(),e.setupStateOnColumnsInitialised())}),o=this.addManagedListener(this.eventService,v.EVENT_ROW_COUNT_READY,function(){o?.(),e.setupStateOnRowCountReady()}),a=this.addManagedListener(this.eventService,v.EVENT_FIRST_DATA_RENDERED,function(){a?.(),e.setupStateOnFirstDataRendered(),e.suppressEvents=!1,e.dispatchStateUpdateEvent(["gridInitializing"])})},t.prototype.getState=function(){return this.cachedState},t.prototype.setupStateOnGridReady=function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,v.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return e.updateCachedState("sideBar",e.getSideBarState())}),this.addManagedListener(this.eventService,v.EVENT_SIDE_BAR_UPDATED,function(){return e.updateCachedState("sideBar",e.getSideBarState())})},t.prototype.setupStateOnColumnsInitialised=function(){var e=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.filter,a=r.columnGroup;this.setColumnState(r),a&&this.setColumnGroupState(a);var s=this.gridOptionsService.get("advancedFilterModel");(o||s)&&this.setFilterState(o,s),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.updateCachedState("filter",this.getFilterState()),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,function(){return e.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_MOVED,function(){return e.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PINNED,function(){return e.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_RESIZED,function(){return e.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VISIBLE,function(){return e.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,function(){return e.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,v.EVENT_COLUMN_GROUP_OPENED,function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())}),this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,function(){return e.updateCachedState("filter",e.getFilterState())})},t.prototype.setupStateOnRowCountReady=function(){var e=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.rowGroupExpansion,a=r.rowSelection,s=r.pagination;o&&this.setRowGroupExpansionState(o),a&&this.setRowSelectionState(a),s&&this.setPaginationState(s),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,v.EVENT_ROW_GROUP_OPENED,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,v.EVENT_SELECTION_CHANGED,function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())}),this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,function(l){(l.newPage||l.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())})},t.prototype.setupStateOnFirstDataRendered=function(){var e=this,n,r=(n=this.gridOptionsService.get("initialState"))!==null&&n!==void 0?n:{},o=r.scroll,a=r.rangeSelection,s=r.focusedCell;s&&this.setFocusedCellState(s),a&&this.setRangeSelectionState(a),o&&this.setScrollState(o),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,v.EVENT_CELL_FOCUSED,function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())}),this.addManagedListener(this.eventService,v.EVENT_RANGE_SELECTION_CHANGED,function(l){l.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())}),this.addManagedListener(this.eventService,v.EVENT_BODY_SCROLL_END,function(){return e.updateCachedState("scroll",e.getScrollState())})},t.prototype.getColumnState=function(){for(var e=this.columnModel.isPivotMode(),n=[],r=[],o=[],a=[],s=[],l=[],c=[],u=[],d=[],p=this.columnModel.getColumnState(),f=0;f<p.length;f++){var h=p[f],g=h.colId,y=h.sort,w=h.sortIndex,C=h.rowGroup,b=h.rowGroupIndex,_=h.aggFunc,D=h.pivot,R=h.pivotIndex,M=h.pinned,O=h.hide,k=h.width,V=h.flex;d.push(g),y&&(n[w??0]={colId:g,sort:y}),C&&(r[b??0]=g),typeof _=="string"&&o.push({colId:g,aggFunc:_}),D&&(a[R??0]=g),M&&(M==="right"?l:s).push(g),O&&c.push(g),(V||k)&&u.push({colId:g,flex:V??void 0,width:k})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:a.length||e?{pivotMode:e,pivotColIds:a}:void 0,columnPinning:s.length||l.length?{leftColIds:s,rightColIds:l}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:d.length?{orderedColIds:d}:void 0}},t.prototype.setColumnState=function(e){var n=e.sort,r=e.rowGroup,o=e.aggregation,a=e.pivot,s=e.columnPinning,l=e.columnVisibility,c=e.columnSizing,u=e.columnOrder,d={},p={},f=function(w){var C=d[w];return C||(C={colId:w},d[w]=C,C)};n&&(n.sortModel.forEach(function(w,C){var b=w.colId,_=w.sort,D=f(b);D.sort=_,D.sortIndex=C}),p.sort=null,p.sortIndex=null),r&&(r.groupColIds.forEach(function(w,C){var b=f(w);b.rowGroup=!0,b.rowGroupIndex=C}),p.rowGroup=null,p.rowGroupIndex=null),o&&(o.aggregationModel.forEach(function(w){var C=w.colId,b=w.aggFunc;f(C).aggFunc=b}),p.aggFunc=null),a&&(a.pivotColIds.forEach(function(w,C){var b=f(w);b.pivot=!0,b.pivotIndex=C}),p.pivot=null,p.pivotIndex=null,this.gridOptionsService.updateGridOptions({options:{pivotMode:a.pivotMode},source:"gridInitializing"})),s&&(s.leftColIds.forEach(function(w){f(w).pinned="left"}),s.rightColIds.forEach(function(w){f(w).pinned="right"}),p.pinned=null),l&&(l.hiddenColIds.forEach(function(w){f(w).hide=!0}),p.hide=null),c&&(c.columnSizingModel.forEach(function(w){var C=w.colId,b=w.flex,_=w.width,D=f(C);D.flex=b??null,D.width=_}),p.flex=null);var h=u?.orderedColIds,g=!!h?.length,y=g?h.map(function(w){return f(w)}):Object.values(d);y.length&&this.columnModel.applyColumnState({state:y,applyOrder:g,defaultState:p},"gridInitializing")},t.prototype.getColumnGroupState=function(){var e=this.columnModel.getColumnGroupState(),n=[];return e.forEach(function(r){var o=r.groupId,a=r.open;a&&n.push(o)}),n.length?{openColumnGroupIds:n}:void 0},t.prototype.setColumnGroupState=function(e){var n=e.openColumnGroupIds,r=new Set(n),o=this.columnModel.getColumnGroupState(),a=o.map(function(s){var l=s.groupId;return{groupId:l,open:r.has(l)}});this.columnModel.setColumnGroupState(a,"gridInitializing")},t.prototype.getFilterState=function(){var e,n=this.filterManager.getFilterModel();n&&Object.keys(n).length===0&&(n=void 0);var r=(e=this.filterManager.getAdvancedFilterModel())!==null&&e!==void 0?e:void 0;return n||r?{filterModel:n,advancedFilterModel:r}:void 0},t.prototype.setFilterState=function(e,n){var r=e??{advancedFilterModel:n},o=r.filterModel,a=r.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),a&&this.filterManager.setAdvancedFilterModel(a)},t.prototype.getRangeSelectionState=function(){var e,n=(e=this.rangeService)===null||e===void 0?void 0:e.getCellRanges().map(function(r){var o=r.id,a=r.type,s=r.startRow,l=r.endRow,c=r.columns,u=r.startColumn;return{id:o,type:a,startRow:s,endRow:l,colIds:c.map(function(d){return d.getColId()}),startColId:u.getColId()}});return n?.length?{cellRanges:n}:void 0},t.prototype.setRangeSelectionState=function(e){var n=this,r;if(this.gridOptionsService.get("enableRangeSelection")){var o=e.cellRanges.map(function(a){return si(si({},a),{columns:a.colIds.map(function(s){return n.columnModel.getGridColumn(s)}),startColumn:n.columnModel.getGridColumn(a.startColId)})});(r=this.rangeService)===null||r===void 0||r.setCellRanges(o)}},t.prototype.getScrollState=function(){var e,n,r;if(this.isClientSideRowModel){var o=(e=this.ctrlsService.getGridBodyCtrl())===null||e===void 0?void 0:e.getScrollFeature(),a=((n=o?.getHScrollPosition())!==null&&n!==void 0?n:{left:0}).left,s=((r=o?.getVScrollPosition())!==null&&r!==void 0?r:{top:0}).top;return s||a?{top:s,left:a}:void 0}},t.prototype.setScrollState=function(e){var n;if(this.isClientSideRowModel){var r=e.top,o=e.left;(n=this.ctrlsService.getGridBodyCtrl())===null||n===void 0||n.getScrollFeature().setScrollPosition(r,o)}},t.prototype.getSideBarState=function(){var e,n;return(n=(e=this.sideBarService)===null||e===void 0?void 0:e.getSideBarComp())===null||n===void 0?void 0:n.getState()},t.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var n=e.column,r=e.rowIndex,o=e.rowPinned;return{colId:n.getColId(),rowIndex:r,rowPinned:o}}}},t.prototype.setFocusedCellState=function(e){if(this.isClientSideRowModel){var n=e.colId,r=e.rowIndex,o=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(n),rowIndex:r,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},t.prototype.getPaginationState=function(){var e=this.paginationProxy.getCurrentPage(),n=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!n))return{page:e,pageSize:n}},t.prototype.setPaginationState=function(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)},t.prototype.getRowSelectionState=function(){var e,n=this.selectionService.getSelectionState(),r=!n||!Array.isArray(n)&&(n.selectAll===!1||n.selectAllChildren===!1)&&!(!((e=n?.toggledNodes)===null||e===void 0)&&e.length);return r?void 0:n},t.prototype.setRowSelectionState=function(e){this.selectionService.setSelectionState(e,"gridInitializing")},t.prototype.getRowGroupExpansionState=function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0},t.prototype.setRowGroupExpansionState=function(e){this.expansionService.expandRows(e.expandedRowGroupIds)},t.prototype.updateColumnState=function(e){var n=this,r=this.getColumnState(),o=!1;Object.entries(r).forEach(function(a){var s=AU(a,2),l=s[0],c=s[1];Zm(c,n.cachedState[l])||(o=!0)}),this.cachedState=si(si({},this.cachedState),r),o&&this.dispatchStateUpdateEvent(e)},t.prototype.updateCachedState=function(e,n){var r,o=this.cachedState[e];this.cachedState=si(si({},this.cachedState),(r={},r[e]=n,r)),Zm(n,o)||this.dispatchStateUpdateEvent([e])},t.prototype.dispatchStateUpdateEvent=function(e){var n=this;this.suppressEvents||(e.forEach(function(r){return n.queuedUpdateSources.add(r)}),this.dispatchStateUpdateEventDebounced())},t.prototype.dispatchQueuedStateUpdateEvents=function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();var n={type:v.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(n)},pn([m("filterManager")],t.prototype,"filterManager",void 0),pn([ye("rangeService")],t.prototype,"rangeService",void 0),pn([m("ctrlsService")],t.prototype,"ctrlsService",void 0),pn([ye("sideBarService")],t.prototype,"sideBarService",void 0),pn([m("focusService")],t.prototype,"focusService",void 0),pn([m("columnModel")],t.prototype,"columnModel",void 0),pn([m("paginationProxy")],t.prototype,"paginationProxy",void 0),pn([m("rowModel")],t.prototype,"rowModel",void 0),pn([m("selectionService")],t.prototype,"selectionService",void 0),pn([m("expansionService")],t.prototype,"expansionService",void 0),pn([I],t.prototype,"postConstruct",null),t=pn([z("stateService")],t),t}(T),MU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),qm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},qi=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},ol=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},PU=function(i){MU(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(){this.processGridOptions(this.gridOptions)},t.prototype.processGridOptions=function(e){this.processOptions(e,hU)},t.prototype.processColumnDefs=function(e){this.processOptions(e,va)},t.prototype.processOptions=function(e,n){var r=this,o=n.validations,a=n.deprecations,s=n.allProperties,l=n.propertyExceptions,c=n.objectName,u=n.docsUrl;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,ol(ol([],qi(l??[]),!1),qi(Object.keys(a)),!1),s,c,u);var d=new Set,p=Object.keys(e);p.forEach(function(f){var h,g=a[f];if(g)if("renamed"in g){var y=g.renamed,w=g.version;d.add("As of v".concat(w,", ").concat(String(f)," is deprecated. Please use ").concat(String(y)," instead.")),e[y]=e[f]}else{var C=g.message,w=g.version;d.add("As of v".concat(w,", ").concat(String(f)," is deprecated. ").concat(C??""))}var b=e[f];if(!(b==null||b===!1)){var _=o[f],D;if(_)if(typeof _=="function"){var R=_(e,r.gridOptions);if(!R)return;if("objectName"in R){var M=e[f];if(Array.isArray(M)){M.forEach(function(Ee){r.processOptions(Ee,R)});return}r.processOptions(e[f],R);return}D=R}else D=_;else return;var O=D.module,k=D.dependencies,V=D.supportedRowModels;if(V){var U=(h=r.gridOptions.rowModelType)!==null&&h!==void 0?h:"clientSide";if(!V.includes(U)){d.add("".concat(String(f)," is not supported with the '").concat(U,"' row model."));return}}if(O){var ne=Array.isArray(O)?O:[O],Se=!0;if(ne.forEach(function(Ee){ee.__assertRegistered(Ee,String(f),r.gridOptionsService.getGridId())||(Se=!1,d.add("".concat(String(f)," is only available when ").concat(Ee," is loaded.")))}),!Se)return}if(k){var Ne=r.checkForWarning(f,k,e);if(Ne){d.add(Ne);return}}}}),d.size>0&&d.forEach(function(f){J(f)})},t.prototype.checkForWarning=function(e,n,r){if(typeof n=="function")return n(r,this.gridOptions);var o=Object.entries(n),a=o.find(function(u){var d=qi(u,2),p=d[0],f=d[1],h=r[p];return!f.includes(h)});if(!a)return null;var s=qi(a,2),l=s[0],c=s[1];return c.length>1?"'".concat(String(e),"' requires '").concat(l,"' to be one of [").concat(c.join(", "),"]."):"'".concat(String(e),"' requires '").concat(l,"' to be ").concat(c[0],".")},t.prototype.checkProperties=function(e,n,r,o,a){var s=["__ob__","__v_skip","__metadata__"],l=vx(Object.getOwnPropertyNames(e),ol(ol(ol([],qi(s),!1),qi(n),!1),qi(r),!1),r);if(ft(l,function(u,d){J("invalid ".concat(o," property '").concat(u,"' did you mean any of these: ").concat(d.slice(0,8).join(", ")))}),Object.keys(l).length>0&&a){var c=this.getFrameworkOverrides().getDocLink(a);J("to see all the valid ".concat(o," properties please check: ").concat(c))}},qm([m("gridOptions")],t.prototype,"gridOptions",void 0),qm([I],t.prototype,"init",null),t=qm([z("validationService")],t),t}(T),FU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),NU=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},LU=function(i){FU(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return t.prototype.addEventListener=function(e,n){var r=this.gridOptionsService.useAsyncEvents(),o=r?this.asyncEventListeners:this.syncEventListeners;o.has(e)||o.set(e,new Set),o.get(e).add(n),this.eventService.addEventListener(e,n,r)},t.prototype.addGlobalListener=function(e){var n=this.gridOptionsService.useAsyncEvents(),r=n?this.asyncGlobalEventListeners:this.syncGlobalEventListeners;r.add(e),this.eventService.addGlobalListener(e,n)},t.prototype.removeEventListener=function(e,n){var r,o=this.asyncEventListeners.get(e),a=!!o?.delete(n);a||(r=this.asyncEventListeners.get(e))===null||r===void 0||r.delete(n),this.eventService.removeEventListener(e,n,a)},t.prototype.removeGlobalListener=function(e){var n=this.asyncGlobalEventListeners.delete(e);n||this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,n)},t.prototype.destroyEventListeners=function(e,n){var r=this;e.forEach(function(o,a){o.forEach(function(s){return r.eventService.removeEventListener(a,s,n)}),o.clear()}),e.clear()},t.prototype.destroyGlobalListeners=function(e,n){var r=this;e.forEach(function(o){return r.eventService.removeGlobalListener(o,n)}),e.clear()},t.prototype.destroy=function(){i.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},t=NU([z("apiEventService")],t),t}(T),kU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),bd=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},zU=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},VU=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},GU=function(i){kU(t,i);function t(){var e=i.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var n=e.selectPageSizeComp.getValue();if(n){var r=Number(n);isNaN(r)||r<1||r===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(r,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return t.prototype.init=function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){e.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,v.EVENT_PAGINATION_CHANGED,function(n){return e.handlePaginationChanged(n)})},t.prototype.handlePaginationChanged=function(e){if(!(!this.selectPageSizeComp||!e?.newPageSize)){var n=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(n)?this.selectPageSizeComp.setValue(n.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},t.prototype.toggleSelectDisplay=function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},t.prototype.reset=function(){rt(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},t.prototype.onPageSizeSelectorValuesChange=function(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},t.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.gridOptionsService.get("paginationPageSizeSelector")!==!1},t.prototype.reloadPageSizesSelector=function(){var e=this,n=this.getPageSizeSelectorValues(),r=this.paginationProxy.getPageSize(),o=!r||!n.includes(r);o&&(n.unshift(""),J(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var a=this.localeService.getLocaleTextFunc(),s=a("pageSizeSelectorLabel","Page Size:"),l=n.map(function(u){return{value:String(u),text:String(u)}}),c=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new ep).addOptions(l).setValue(String(o?"":r)).setAriaLabel(c).setLabel(s).onValueChange(function(){return e.handlePageSizeItemSelected()}),this.hasEmptyOption=o},t.prototype.getPageSizeSelectorValues=function(){var e=[20,50,100],n=this.gridOptionsService.get("paginationPageSizeSelector");return!Array.isArray(n)||!this.validateValues(n)?e:VU([],zU(n),!1).sort(function(r,o){return r-o})},t.prototype.validateValues=function(e){if(!e.length)return J(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(var n=0;n<e.length;n++){var r=e[n],o=typeof r=="number",a=r>0;if(!o)return J(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!a)return J(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0},t.prototype.destroy=function(){this.toggleSelectDisplay(!1),i.prototype.destroy.call(this)},bd([m("localeService")],t.prototype,"localeService",void 0),bd([m("gridOptionsService")],t.prototype,"gridOptionsService",void 0),bd([m("paginationProxy")],t.prototype,"paginationProxy",void 0),bd([I],t.prototype,"init",null),t}(te),m0=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},v0=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))};function oD(i,t,e){if(!t)return zn("No gridOptions provided to createGrid"),{};var n=iD.getCoercedGridOptions(t),r=new aD().create(i,n,function(a){var s=new nD(i);a.createBean(s)},void 0,e);if(!Object.isFrozen(t)&&!e?.frameworkOverrides){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:function(){zn("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(t,"columnApi",{get:function(){zn("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return r}var gY=function(){function i(t,e,n){var r=this;if(J("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!e){zn("No gridOptions provided to the grid");return}this.gridOptions=e;var o=new aD().create(t,e,function(a){var s=new nD(t),l=a.createBean(s);l.addDestroyFunc(function(){r.destroy()})},void 0,n);this.gridOptions.api=o,this.gridOptions.columnApi=new Rl(o)}return i.prototype.destroy=function(){var t;this.gridOptions&&((t=this.gridOptions.api)===null||t===void 0||t.destroy(),delete this.gridOptions.api,delete this.gridOptions.columnApi)},i}(),HU=1,aD=function(){function i(){}return i.prototype.create=function(t,e,n,r,o){var a,s=!!e.debug,l=(a=e.gridId)!==null&&a!==void 0?a:String(HU++),c=this.getRegisteredModules(o,l),u=this.createBeansList(e.rowModelType,c,l),d=this.createProvidedBeans(t,e,o);if(!u){zn("Failed to create grid.");return}var p={providedBeanInstances:d,beanClasses:u,debug:s,gridId:l},f=new oy("Context",function(){return p.debug}),h=new HL(p,f),g=h.getBean("beans");return this.registerModuleUserComponents(g,c),this.registerStackComponents(g,c),this.registerControllers(g,c),n(h),g.syncService.start(),r&&r(h),g.gridApi},i.prototype.registerControllers=function(t,e){e.forEach(function(n){n.controllers&&n.controllers.forEach(function(r){return t.ctrlsFactory.register(r)})})},i.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},i.prototype.getRegisteredModules=function(t,e){var n=t?t.modules:null,r=ee.__getRegisteredModules(e),o=[],a={},s=function(l,c,u){var d=function(p){a[p.moduleName]||(a[p.moduleName]=!0,o.push(p),ee.__register(p,l,u))};d(c),c.dependantModules&&c.dependantModules.forEach(function(p){return s(l,p,u)})};return n&&n.forEach(function(l){return s(!0,l,e)}),r&&r.forEach(function(l){return s(!ee.__isPackageBased(),l,void 0)}),o},i.prototype.registerModuleUserComponents=function(t,e){var n=this.extractModuleEntity(e,function(r){return r.userComponents?r.userComponents:[]});n.forEach(function(r){t.userComponentRegistry.registerDefaultComponent(r.componentName,r.componentClass)})},i.prototype.createProvidedBeans=function(t,e,n){var r=n?n.frameworkOverrides:null;K(r)&&(r=new iy);var o={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},i.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:tp},{componentName:"AgRadioButton",componentClass:Ax},{componentName:"AgToggleButton",componentClass:Lj},{componentName:"AgInputTextField",componentClass:ao},{componentName:"AgInputTextArea",componentClass:zj},{componentName:"AgInputNumberField",componentClass:Yv},{componentName:"AgInputDateField",componentClass:Gj},{componentName:"AgInputRange",componentClass:jj},{componentName:"AgRichSelect",componentClass:Jj},{componentName:"AgSelect",componentClass:ep},{componentName:"AgSlider",componentClass:tB},{componentName:"AgGridBody",componentClass:HG},{componentName:"AgHeaderRoot",componentClass:XH},{componentName:"AgSortIndicator",componentClass:Zv},{componentName:"AgPagination",componentClass:A2},{componentName:"AgPageSizeSelector",componentClass:GU},{componentName:"AgOverlayWrapper",componentClass:M2},{componentName:"AgGroupComponent",componentClass:rB},{componentName:"AgPanel",componentClass:eD},{componentName:"AgDialog",componentClass:fB},{componentName:"AgRowContainer",componentClass:rH},{componentName:"AgFakeHorizontalScroll",componentClass:iU},{componentName:"AgFakeVerticalScroll",componentClass:CU},{componentName:"AgAutocomplete",componentClass:_B}],n=this.extractModuleEntity(t,function(r){return r.agStackComponents?r.agStackComponents:[]});return e=e.concat(n),e},i.prototype.createBeansList=function(t,e,n){t===void 0&&(t="clientSide");var r=e.filter(function(c){return!c.rowModel||c.rowModel===t}),o={clientSide:B.ClientSideRowModelModule,infinite:B.InfiniteRowModelModule,serverSide:B.ServerSideRowModelModule,viewport:B.ViewportRowModelModule};if(!o[t]){zn("Could not find row model for rowModelType = "+t);return}if(ee.__assertRegistered(o[t],"rowModelType = '".concat(t,"'"),n)){var a=[Qx,F2,k2,U2,a2,$x,Zz,f2,g2,sj,hV,D2,ej,vU,PU,Dj,vV,Ek,fi,iD,mB,tD,bV,yk,$H,Mj,bj,GB,rk,BB,IB,$G,l2,kB,qB,bk,fj,nj,nt,Rl,JB,WG,S2,RB,Ej,Fj,BG,ZB,n2,i2,R2,ak,d2,cj,j2,Rk,q2,$2,Aj,Y2,X2,aU,lU,tU,_U,EU,Kx,DU,RU,IU,dj,LU],s=this.extractModuleEntity(r,function(c){return c.beans?c.beans:[]});a.push.apply(a,v0([],m0(s),!1));var l=[];return a.forEach(function(c){l.indexOf(c)<0&&l.push(c)}),l}},i.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],v0([],m0(t.map(e)),!1))},i}(),sD=function(){function i(){}return i.prototype.wrap=function(t,e,n,r){var o=this;n===void 0&&(n=[]);var a=this.createWrapper(t,r);return e.forEach(function(s){o.createMethod(a,s,!0)}),n.forEach(function(s){o.createMethod(a,s,!1)}),a},i.prototype.unwrap=function(t){return t},i.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},i.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},i}();var xa=typeof global>"u"?{}:global;xa.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;xa.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;xa.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;xa.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;xa.Node=typeof Node>"u"?{}:Node;xa.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var al=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},sl=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},jU=function(){function i(t,e,n,r,o,a){this.nextId=0,this.allNodesMap={},this.dataLoaded=!1,this.rootNode=t,this.gridOptionsService=e,this.eventService=n,this.columnModel=r,this.beans=a,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=i.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return i.prototype.getCopyOfNodesMap=function(){return ie.cloneObject(this.allNodesMap)},i.prototype.getRowNode=function(t){return this.allNodesMap[t]},i.prototype.setRowData=function(t){var e=this;if(typeof t=="string"){console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first");return}this.dataLoaded=!0,this.dispatchRowDataUpdateStartedEvent(t);var n=this.rootNode,r=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?n.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,i.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),r&&(r.childrenAfterFilter=n.childrenAfterFilter,r.childrenAfterGroup=n.childrenAfterGroup,r.childrenAfterAggFilter=n.childrenAfterAggFilter,r.childrenAfterSort=n.childrenAfterSort,r.childrenMapped=n.childrenMapped,r.allLeafChildren=n.allLeafChildren)},i.prototype.updateRowData=function(t,e){this.dataLoaded=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var n={remove:[],update:[],add:[]},r=[];return this.executeRemove(t,n,r),this.executeUpdate(t,n,r),this.executeAdd(t,n),this.updateSelection(r,"rowDataChanged"),e&&ie.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},i.prototype.hasData=function(){return this.dataLoaded},i.prototype.dispatchRowDataUpdateStartedEvent=function(t){var e={type:v.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null};this.eventService.dispatchEvent(e)},i.prototype.updateSelection=function(t,e){var n=t.length>0;if(n&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),n){var r={type:v.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(r)}},i.prototype.executeAdd=function(t,e){var n=this,r,o=t.add,a=t.addIndex;if(!ie.missingOrEmpty(o)){var s=o.map(function(g){return n.createNode(g,n.rootNode,i.TOP_LEVEL)});if(typeof a=="number"&&a>=0){var l=this.rootNode.allLeafChildren,c=l.length,u=a,d=this.gridOptionsService.get("treeData");if(d&&a>0&&c>0){for(var p=0;p<c;p++)if(((r=l[p])===null||r===void 0?void 0:r.rowIndex)==a-1){u=p+1;break}}var f=l.slice(0,u),h=l.slice(u,l.length);this.rootNode.allLeafChildren=sl(sl(sl([],al(f),!1),al(s),!1),al(h),!1)}else this.rootNode.allLeafChildren=sl(sl([],al(this.rootNode.allLeafChildren),!1),al(s),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=s}},i.prototype.executeRemove=function(t,e,n){var r=this,o=t.remove;if(!ie.missingOrEmpty(o)){var a={};o.forEach(function(s){var l=r.lookupRowNode(s);l&&(l.isSelected()&&n.push(l),l.clearRowTopAndRowIndex(),a[l.id]=!0,delete r.allNodesMap[l.id],e.remove.push(l))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(s){return!a[s.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},i.prototype.executeUpdate=function(t,e,n){var r=this,o=t.update;ie.missingOrEmpty(o)||o.forEach(function(a){var s=r.lookupRowNode(a);s&&(s.updateData(a),!s.selectable&&s.isSelected()&&n.push(s),r.setMasterForRow(s,a,i.TOP_LEVEL,!1),e.update.push(s))})},i.prototype.lookupRowNode=function(t){var e=this.gridOptionsService.getCallback("getRowId"),n;if(e){var r=e({data:t,level:0});if(n=this.allNodesMap[r],!n)return console.error("AG Grid: could not find row id=".concat(r,", data item was not found for this id")),null}else if(n=this.rootNode.allLeafChildren.find(function(o){return o.data===t}),!n)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},i.prototype.createNode=function(t,e,n){var r=new ce(this.beans);r.group=!1,this.setMasterForRow(r,t,n,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!o&&(r.parent=e),r.level=n,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&console.warn("AG Grid: duplicate node id '".concat(r.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[r.id]=r,this.nextId++,r},i.prototype.setMasterForRow=function(t,e,n,r){var o=this.gridOptionsService.get("treeData");if(o)t.setMaster(!1),r&&(t.expanded=!1);else{var a=this.gridOptionsService.get("masterDetail");if(a){var s=this.gridOptionsService.get("isRowMaster");s?t.setMaster(s(e)):t.setMaster(!0)}else t.setMaster(!1);if(r){var l=this.columnModel.getRowGroupColumns(),c=l?l.length:0,u=n+c;t.expanded=t.master?this.isExpanded(u):!1}}},i.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return e===-1?!0:t<e},i.TOP_LEVEL=0,i.ROOT_NODE_ID="ROOT_NODE_ID",i}(),BU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ot=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},At=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},It=function(i,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,o;n<r;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return i.concat(o||Array.prototype.slice.call(t))},xr=function(i){return i[i.Normal=0]="Normal",i[i.AfterFilter=1]="AfterFilter",i[i.AfterFilterAndSort=2]="AfterFilterAndSort",i[i.PivotNodes=3]="PivotNodes",i}(xr||{}),UU=function(i){BU(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=ie.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e}return t.prototype.init=function(){var e=this,n=this.refreshModel.bind(this,{step:ve.EVERYTHING}),r=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:ve.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:r});this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,v.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,v.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ve.PIVOT})),this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,v.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,v.EVENT_GRID_READY,function(){return e.onGridReady()}),this.addPropertyListeners(),this.rootNode=new ce(this.beans),this.nodeManager=new jU(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.addPropertyListeners=function(){var e=this,n=new Set(["treeData","masterDetail"]),r=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),a=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),l=new Set(["postSortRows","groupDisplayType","accentedSort"]),c=new Set([]),u=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),d=It(It(It(It(It(It(It(It(It([],At(n),!1),At(r),!1),At(o),!1),At(a),!1),At(a),!1),At(s),!1),At(l),!1),At(c),!1),At(u),!1);this.addManagedPropertyListeners(d,function(p){var f,h=(f=p.changeSet)===null||f===void 0?void 0:f.properties;if(h){var g=function(y){return h.some(function(w){return y.has(w)})};if(g(n)){e.setRowData(e.rootNode.allLeafChildren.map(function(y){return y.data}));return}if(g(r)){e.refreshModel({step:ve.EVERYTHING});return}if(g(o)){e.refreshModel({step:ve.FILTER});return}if(g(a)){e.refreshModel({step:ve.PIVOT});return}if(g(s)){e.refreshModel({step:ve.AGGREGATE});return}if(g(l)){e.refreshModel({step:ve.SORT});return}if(g(c)){e.refreshModel({step:ve.FILTER_AGGREGATES});return}g(u)&&e.refreshModel({step:ve.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()})},t.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},t.prototype.setInitialData=function(){var e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))},t.prototype.ensureRowHeightsValid=function(e,n,r,o){var a,s=!1;do{a=!1;for(var l=this.getRowIndexAtPixel(e),c=this.getRowIndexAtPixel(n),u=Math.max(l,r),d=Math.min(c,o),p=u;p<=d;p++){var f=this.getRow(p);if(f.rowHeightEstimated){var h=this.gridOptionsService.getRowHeightForNode(f);f.setRowHeight(h.height),a=!0,s=!0}}a&&this.setRowTopAndRowIndex()}while(a);return s},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),n=0,r=new Set,o=this.gridOptionsService.isDomLayout("normal"),a=0;a<this.rowsToDisplay.length;a++){var s=this.rowsToDisplay[a];if(s.id!=null&&r.add(s.id),s.rowHeight==null){var l=this.gridOptionsService.getRowHeightForNode(s,o,e);s.setRowHeight(l.height,l.estimated)}s.setRowTop(n),s.setRowIndex(a),n+=s.rowHeight}return r},t.prototype.clearRowTopAndRowIndex=function(e,n){var r=e.isActive(),o=function(s){s&&s.id!=null&&!n.has(s.id)&&s.clearRowTopAndRowIndex()},a=function(s){if(o(s),o(s.detailNode),o(s.sibling),s.hasChildren()&&s.childrenAfterGroup){var l=s.level==-1,c=r&&!l&&!s.expanded;c||s.childrenAfterGroup.forEach(a)}};a(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,n,r){var o=this;r===void 0&&(r=0);var a=this.getRowIndexAtPixel(n),s=this.getRow(a),l=!this.gridOptionsService.get("suppressAnimationFrame");return s===e[0]?!1:(e.forEach(function(c){ie.removeFromArray(o.rootNode.allLeafChildren,c)}),e.forEach(function(c,u){ie.insertIntoArray(o.rootNode.allLeafChildren,c,Math.max(a+r,0)+u)}),this.refreshModel({step:ve.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:l}),!0)},t.prototype.highlightRowAtPixel=function(e,n){var r=n!=null?this.getRowIndexAtPixel(n):null,o=r!=null?this.getRow(r):null;if(!o||!e||o===e||n==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}var a=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(a),this.lastHighlightedRow=o},t.prototype.getHighlightPosition=function(e,n){if(!n){var r=this.getRowIndexAtPixel(e);if(n=this.getRow(r||0),!n)return di.Below}var o=n.rowTop,a=n.rowHeight;return e-o<a/2?di.Above:di.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){var e=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(e)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){var n=this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode;if(n)return e;var r=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex},t.prototype.getRowBounds=function(e){if(ie.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[e];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ve.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),r=e.columns.length===0||e.columns.some(function(a){return a.isPrimary()}),o=r?ve.FILTER:ve.FILTER_AGGREGATES;this.refreshModel({step:o,keepRenderedRows:!0,animate:n})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ve.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ve.PIVOT}):this.refreshModel({step:ve.AGGREGATE})},t.prototype.createChangePath=function(e){var n=ie.missingOrEmpty(e),r=new ap(!1,this.rootNode);return(n||this.gridOptionsService.get("treeData"))&&r.setInactive(),r},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;var n=e.rowNodeTransactions.filter(function(o){return o.add!=null&&o.add.length>0||o.remove!=null&&o.remove.length>0}),r=n==null||n.length==0;return r},t.prototype.buildRefreshModelParams=function(e){var n=ve.EVERYTHING,r={everything:ve.EVERYTHING,group:ve.EVERYTHING,filter:ve.FILTER,map:ve.MAP,aggregate:ve.AGGREGATE,sort:ve.SORT,pivot:ve.PIVOT};if(ie.exists(e)&&(n=r[e]),ie.missing(n)){console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(r).join(", ")));return}var o=!this.gridOptionsService.get("suppressAnimationFrame"),a={step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o};return a},t.prototype.refreshModel=function(e){if(this.hasStarted){var n=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var r=this.createChangePath(n.rowNodeTransactions);switch(n.step){case ve.EVERYTHING:this.doRowGrouping(n.rowNodeTransactions,n.rowNodeOrder,r,!!n.afterColumnsChanged);case ve.FILTER:this.doFilter(r);case ve.PIVOT:this.doPivot(r);case ve.AGGREGATE:this.doAggregate(r);case ve.FILTER_AGGREGATES:this.doFilterAggregates(r);case ve.SORT:this.doSort(n.rowNodeTransactions,r);case ve.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,o);var a={type:v.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack};this.eventService.dispatchEvent(a)}}},t.prototype.isEmpty=function(){var e=ie.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return ie.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return ie.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,n){var r=!n,o=!1,a=[],s=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(l){if(!o){if(r&&(l===n||l===e)&&(o=!0,l.group&&s)){a.push.apply(a,It([],At(l.allLeafChildren),!1));return}if(!r){if(l!==n&&l!==e)return;r=!0}var c=!l.group||!s;if(c){a.push(l);return}}}),a},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;var n=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;var o=ie.last(this.rowsToDisplay);if(o.rowTop<=e)return this.rowsToDisplay.length-1;for(var a=-1,s=-1;;){var l=Math.floor((n+r)/2),c=this.rowsToDisplay[l];if(this.isRowInPixel(c,e))return l;c.rowTop<e?n=l+1:c.rowTop>e&&(r=l-1);var u=a===n&&s===r;if(u)return l;a=n,s=r}},t.prototype.isRowInPixel=function(e,n){var r=e.rowTop,o=e.rowTop+e.rowHeight,a=r<=n&&o>n;return a},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,r){return e(n,r)})},t.prototype.forEachNode=function(e,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:It([],At(this.rootNode.childrenAfterGroup||[]),!1),callback:e,recursionType:xr.Normal,index:0,includeFooterNodes:n})},t.prototype.forEachNodeAfterFilter=function(e,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:It([],At(this.rootNode.childrenAfterAggFilter||[]),!1),callback:e,recursionType:xr.AfterFilter,index:0,includeFooterNodes:n})},t.prototype.forEachNodeAfterFilterAndSort=function(e,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:It([],At(this.rootNode.childrenAfterSort||[]),!1),callback:e,recursionType:xr.AfterFilterAndSort,index:0,includeFooterNodes:n})},t.prototype.forEachPivotNode=function(e,n){n===void 0&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:xr.PivotNodes,index:0,includeFooterNodes:n})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var n,r=e.nodes,o=e.callback,a=e.recursionType,s=e.includeFooterNodes,l=e.index,c=0;c<r.length;c++){var u=r[c];if(o(u,l++),u.hasChildren()&&!u.footer){var d=null;switch(a){case xr.Normal:d=u.childrenAfterGroup;break;case xr.AfterFilter:d=u.childrenAfterAggFilter;break;case xr.AfterFilterAndSort:d=u.childrenAfterSort;break;case xr.PivotNodes:d=u.leafGroup?null:u.childrenAfterSort;break}d&&(l=this.recursivelyWalkNodesAndCallback({nodes:It([],At(d),!1),callback:o,recursionType:a,index:l,includeFooterNodes:s}))}}var p=(n=r[0])===null||n===void 0?void 0:n.parent;if(!s||!p)return l;var f=p===this.rootNode;if(f){var h=this.gridOptionsService.get("groupIncludeTotalFooter");if(!h)return l}else{var g=this.gridOptionsService.getGroupIncludeFooter();if(!g({node:p}))return l}return p.createFooter(),o(p.sibling,l++),l},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var n=this.gridOptionsService.get("treeData"),r=this.columnModel.isPivotActive(),o=function(l){l&&l.forEach(function(c){var u=function(){c.expanded=e,o(c.childrenAfterGroup)};if(n){var d=ie.exists(c.childrenAfterGroup);d&&u();return}if(r){var p=!c.leafGroup;p&&u();return}var f=c.group;f&&u()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:ve.MAP});var a=e?"expandAll":"collapseAll",s={type:v.EVENT_EXPAND_COLLAPSE_ALL,source:a};this.eventService.dispatchEvent(s)},t.prototype.doSort=function(e,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:n})},t.prototype.doRowGrouping=function(e,n,r,o){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:n,changedPath:r}):this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")){var a=this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",r);if(a){var s={type:v.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(s)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.eventService.dispatchEventOnce({type:v.EVENT_ROW_COUNT_READY})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){var n=typeof e=="string"&&e.indexOf(ce.ID_PREFIX_ROW_GROUP)==0;if(n){var r=void 0;return this.forEachNode(function(o){o.id===e&&(r=o)}),r}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},t.prototype.dispatchUpdateEventsAndRefresh=function(){var e={type:v.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:ve.EVERYTHING,newData:!0})},t.prototype.batchUpdateRowData=function(e,n){var r=this;if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){r.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:n})},t.prototype.flushAsyncTransactions=function(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var n=[],r=[],o=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(s){var l=e.nodeManager.updateRowData(s.rowDataTransaction,void 0);r.push(l),s.callback&&n.push(s.callback.bind(null,l)),typeof s.rowDataTransaction.addIndex=="number"&&(o=!0)}),this.commonUpdateRowData(r,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(s){return s()})},0),r.length>0){var a={type:v.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:r};this.eventService.dispatchEvent(a)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,n){this.valueCache.onDataChanged();var r=this.nodeManager.updateRowData(e,n),o=typeof e.addIndex=="number";return this.commonUpdateRowData([r],n,o),r},t.prototype.createRowNodeOrder=function(){var e=this.gridOptionsService.get("suppressMaintainUnsortedOrder");if(!e){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var r=0;r<this.rootNode.allLeafChildren.length;r++){var o=this.rootNode.allLeafChildren[r];n[o.id]=r}return n}},t.prototype.commonUpdateRowData=function(e,n,r){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");r&&(n=this.createRowNodeOrder());var a={type:v.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(a),this.refreshModel({step:ve.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:ve.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var r=n.detailNode;r&&r.setRowHeight(r.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},t.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},t.prototype.isRowDataLoaded=function(){return this.nodeManager.hasData()},Ot([m("columnModel")],t.prototype,"columnModel",void 0),Ot([m("selectionService")],t.prototype,"selectionService",void 0),Ot([m("filterManager")],t.prototype,"filterManager",void 0),Ot([m("valueCache")],t.prototype,"valueCache",void 0),Ot([m("beans")],t.prototype,"beans",void 0),Ot([m("filterStage")],t.prototype,"filterStage",void 0),Ot([m("sortStage")],t.prototype,"sortStage",void 0),Ot([m("flattenStage")],t.prototype,"flattenStage",void 0),Ot([ye("groupStage")],t.prototype,"groupStage",void 0),Ot([ye("aggregationStage")],t.prototype,"aggregationStage",void 0),Ot([ye("pivotStage")],t.prototype,"pivotStage",void 0),Ot([ye("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Ot([I],t.prototype,"init",null),t=Ot([z("rowModel")],t),t}(T),WU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),y0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},qU=function(i){WU(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.execute=function(e){var n=e.changedPath;this.filterService.filter(n)},y0([m("filterService")],t.prototype,"filterService",void 0),t=y0([z("filterStage")],t),t}(T),$U=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),$m=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},KU=function(i){$U(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.execute=function(e){var n=this,r=this.sortController.getSortOptions(),o=ie.exists(r)&&r.length>0,a=o&&ie.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),s=r.some(function(l){var c=n.gridOptionsService.isColumnsSortingCoupledToGroup();return c?l.column.isPrimary()&&l.column.isRowGroupActive():!!l.column.getColDef().showRowGroup});this.sortService.sort(r,o,a,e.rowNodeTransactions,e.changedPath,s)},$m([m("sortService")],t.prototype,"sortService",void 0),$m([m("sortController")],t.prototype,"sortController",void 0),t=$m([z("sortStage")],t),t}(T),YU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Km=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},QU=function(i){YU(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.execute=function(e){var n=e.rowNode,r=[],o=this.columnModel.isPivotMode(),a=o&&n.leafGroup,s=a?[n]:n.childrenAfterSort,l=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(l,s,r,o,0);var c=r.length>0,u=!a&&c&&l.groupIncludeTotalFooter;return u&&(n.createFooter(),this.addRowNodeToRowsToDisplay(l,n.sibling,r,0)),r},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren"),n=!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren");return{groupRemoveLowestSingleChildren:n,groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,n,r,o,a){if(!ie.missingOrEmpty(n))for(var s=0;s<n.length;s++){var l=n[s],c=l.hasChildren(),u=o&&!c,d=e.groupRemoveSingleChildren&&c&&l.childrenAfterGroup.length===1,p=e.groupRemoveLowestSingleChildren&&c&&l.leafGroup&&l.childrenAfterGroup.length===1,f=o&&l.leafGroup,h=e.hideOpenParents&&l.expanded&&!l.master&&!f,g=!u&&!h&&!d&&!p;if(g&&this.addRowNodeToRowsToDisplay(e,l,r,a),!(o&&l.leafGroup)){if(c){var y=d||p;if(l.expanded||y){var w=y?a:a+1;this.recursivelyAddToRowsToDisplay(e,l.childrenAfterSort,r,o,w);var C=e.getGroupIncludeFooter({node:l});C?(l.createFooter(),this.addRowNodeToRowsToDisplay(e,l.sibling,r,w)):l.destroyFooter()}}else if(l.master&&l.expanded){var b=this.createDetailNode(l);this.addRowNodeToRowsToDisplay(e,b,r,a)}}}},t.prototype.addRowNodeToRowsToDisplay=function(e,n,r,o){r.push(n),n.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(ie.exists(e.detailNode))return e.detailNode;var n=new ce(this.beans);return n.detail=!0,n.selectable=!1,n.parent=e,ie.exists(e.id)&&(n.id="detail_"+e.id),n.data=e.data,n.level=e.level+1,e.detailNode=n,n},Km([m("columnModel")],t.prototype,"columnModel",void 0),Km([m("beans")],t.prototype,"beans",void 0),t=Km([z("flattenStage")],t),t}(T),ZU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ym=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},XU=function(i){ZU(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.sort=function(e,n,r,o,a,s){var l=this,c=this.gridOptionsService.get("groupMaintainOrder"),u=this.columnModel.getAllGridColumns().some(function(g){return g.isRowGroupActive()}),d={};r&&o&&(d=this.calculateDirtyNodes(o));var p=this.columnModel.isPivotMode(),f=this.gridOptionsService.getCallback("postSortRows"),h=function(g){l.pullDownGroupDataForHideOpenParents(g.childrenAfterAggFilter,!0);var y=p&&g.leafGroup,w=c&&u&&!g.leafGroup&&!s;if(w){var C=g.childrenAfterAggFilter.slice(0);if(g.childrenAfterSort){var b={};g.childrenAfterSort.forEach(function(D,R){b[D.id]=R}),C.sort(function(D,R){var M,O;return((M=b[D.id])!==null&&M!==void 0?M:0)-((O=b[R.id])!==null&&O!==void 0?O:0)})}g.childrenAfterSort=C}else!n||y?g.childrenAfterSort=g.childrenAfterAggFilter.slice(0):r?g.childrenAfterSort=l.doDeltaSort(g,d,a,e):g.childrenAfterSort=l.rowNodeSorter.doFullSort(g.childrenAfterAggFilter,e);if(g.sibling&&(g.sibling.childrenAfterSort=g.childrenAfterSort),l.updateChildIndexes(g),f){var _={nodes:g.childrenAfterSort};f(_)}};a&&a.forEachChangedNodeDepthFirst(h),this.updateGroupDataForHideOpenParents(a)},t.prototype.calculateDirtyNodes=function(e){var n={},r=function(o){o&&o.forEach(function(a){return n[a.id]=!0})};return e&&e.forEach(function(o){r(o.add),r(o.update),r(o.remove)}),n},t.prototype.doDeltaSort=function(e,n,r,o){var a=this,s=e.childrenAfterAggFilter,l=e.childrenAfterSort;if(!l)return this.rowNodeSorter.doFullSort(s,o);var c={},u=[];s.forEach(function(h){n[h.id]||!r.canSkip(h)?u.push(h):c[h.id]=!0});var d=l.filter(function(h){return c[h.id]}),p=function(h,g){return{currentPos:g,rowNode:h}},f=u.map(p).sort(function(h,g){return a.rowNodeSorter.compareRowNodes(o,h,g)});return this.mergeSortedArrays(o,f,d.map(p)).map(function(h){var g=h.rowNode;return g})},t.prototype.mergeSortedArrays=function(e,n,r){for(var o=[],a=0,s=0;a<n.length&&s<r.length;){var l=this.rowNodeSorter.compareRowNodes(e,n[a],r[s]);l<0?o.push(n[a++]):o.push(r[s++])}for(;a<n.length;)o.push(n[a++]);for(;s<r.length;)o.push(r[s++]);return o},t.prototype.updateChildIndexes=function(e){if(!ie.missing(e.childrenAfterSort))for(var n=e.childrenAfterSort,r=0;r<n.length;r++){var o=n[r],a=r===0,s=r===e.childrenAfterSort.length-1;o.setFirstChild(a),o.setLastChild(s),o.setChildIndex(r)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var n=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return ie.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var r=function(o){n.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(a){a.hasChildren()&&r(a)})};e&&e.executeFromRootNode(function(o){return r(o)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,n){var r=this;!this.gridOptionsService.get("groupHideOpenParents")||ie.missing(e)||e.forEach(function(o){var a=r.columnModel.getGroupDisplayColumns();a.forEach(function(s){var l=s.getColDef().showRowGroup;if(typeof l!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}var c=l,u=r.columnModel.getPrimaryColumn(c),d=u===o.rowGroupColumn;if(!d)if(n)o.setGroupValue(s.getId(),void 0);else{var p=o.getFirstChildOfFirstChild(u);p&&o.setGroupValue(s.getId(),p.key)}})})},Ym([m("columnModel")],t.prototype,"columnModel",void 0),Ym([m("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),t=Ym([z("sortService")],t),t}(T),JU=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),w0=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},e3=function(i){JU(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.filter=function(e){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,e)},t.prototype.filterNodes=function(e,n){var r=this,o=function(c,u){c.hasChildren()&&e&&!u?c.childrenAfterFilter=c.childrenAfterGroup.filter(function(d){var p=d.childrenAfterFilter&&d.childrenAfterFilter.length>0,f=d.data&&r.filterManager.doesRowPassFilter({rowNode:d});return p||f}):c.childrenAfterFilter=c.childrenAfterGroup,c.sibling&&(c.sibling.childrenAfterFilter=c.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var a=function(c,u){if(c.childrenAfterGroup)for(var d=0;d<c.childrenAfterGroup.length;d++){var p=c.childrenAfterGroup[d],f=u||r.filterManager.doesRowPassFilter({rowNode:p});p.childrenAfterGroup?a(c.childrenAfterGroup[d],f):o(p,f)}o(c,u)},s=function(c){return a(c,!1)};n.executeFromRootNode(s)}else{var l=function(c){return o(c,!1)};n.forEachChangedNodeDepthFirst(l,!0)}},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},w0([m("filterManager")],t.prototype,"filterManager",void 0),t=w0([z("filterService")],t),t}(T),t3=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ll=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},n3=function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var n=e.call(i),r,o=[],a;try{for(;(t===void 0||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o},r3=function(i){t3(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){var e=this;this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return e.onRowDataUpdated()}))},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId"),n=this.gridOptionsService.get("resetRowDataOnUpdate");return n?!1:e},t.prototype.setRowData=function(e){var n=this.createTransactionForRowData(e);if(n){var r=n3(n,2),o=r[0],a=r[1];this.clientSideRowModel.updateRowData(o,a)}},t.prototype.createTransactionForRowData=function(e){if(ie.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}var n=this.gridOptionsService.getCallback("getRowId");if(n==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}var r={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),a=this.gridOptionsService.get("suppressMaintainUnsortedOrder"),s=a?void 0:{};return ie.exists(e)&&e.forEach(function(l,c){var u=n({data:l,level:0}),d=o[u];if(s&&(s[u]=c),d){var p=d.data!==l;p&&r.update.push(l),o[u]=void 0}else r.add.push(l)}),ie.iterateObject(o,function(l,c){c&&r.remove.push(c.data)}),[r,s]},t.prototype.onRowDataUpdated=function(){var e=this.gridOptionsService.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))},ll([m("rowModel")],t.prototype,"rowModel",void 0),ll([m("rowRenderer")],t.prototype,"rowRenderer",void 0),ll([m("selectionService")],t.prototype,"selectionService",void 0),ll([I],t.prototype,"postConstruct",null),t=ll([z("immutableService")],t),t}(T),i3="31.0.1",o3={version:i3,moduleName:B.ClientSideRowModelModule,rowModel:"clientSide",beans:[UU,qU,KU,QU,XU,e3,r3]},a3=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qm=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},C0=function(i){a3(t,i);function t(e,n,r){var o=i.call(this,e)||this;return o.parentCache=n,o.params=r,o.startRow=e*r.blockSize,o.endRow=o.startRow+r.blockSize,o}return t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,n,r){ie.exists(n)?e.setDataAndId(n,r.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,n=this.createLoadParams();if(ie.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(function(){e.params.datasource.getRows(n)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){var e={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context};return e},t.prototype.forEachNode=function(e,n,r){var o=this;this.rowNodes.forEach(function(a,s){var l=o.startRow+s;l<r&&e(a,n.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,n){n===void 0&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next());var r=e-this.startRow;return this.rowNodes[r]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var n=this.startRow+e,r=new ce(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(n),r.setRowTop(this.params.rowHeight*n),this.rowNodes.push(r)}},t.prototype.processServerResult=function(e){var n=this;this.rowNodes.forEach(function(o,a){var s=e.rowData?e.rowData[a]:void 0;!o.id&&o.alreadyRendered&&s&&(n.rowNodes[a]=new ce(n.beans),n.rowNodes[a].setRowIndex(o.rowIndex),n.rowNodes[a].setRowTop(o.rowTop),n.rowNodes[a].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[a],s,n.startRow+a)});var r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},Qm([m("beans")],t.prototype,"beans",void 0),Qm([I],t.prototype,"postConstruct",null),Qm([_t],t.prototype,"destroyRowNodes",null),t}(vv),s3=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),_d=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},l3=function(i,t){return function(e,n){t(e,n,i)}},c3=function(i){s3(t,i);function t(e){var n=i.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,n){n===void 0&&(n=!1);var r=Math.floor(e/this.params.blockSize),o=this.blocks[r];if(!o){if(n)return;o=this.createBlock(r)}return o.getRow(e)},t.prototype.createBlock=function(e){var n=this.createBean(new C0(e,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},t.prototype.refreshCache=function(){var e=this.blockCount==0;if(e){this.purgeCache();return}this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.destroyBlock(n)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,n){this.isAlive()&&(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(n)),this.checkRowCount(e,n),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,r=this.getBlocksInOrder().filter(function(c){return c!=e}),o=function(c,u){return u.getLastAccessed()-c.getLastAccessed()};r.sort(o);var a=this.params.maxBlocksInCache>0,s=a?this.params.maxBlocksInCache-1:null,l=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach(function(c,u){var d=c.getState()===C0.STATE_WAITING_TO_LOAD&&u>=l,p=a?u>=s:!1;if(d||p){if(n.isBlockCurrentlyDisplayed(c)||n.isBlockFocused(c))return;n.removeBlockFromCache(c)}})},t.prototype.isBlockFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||n.rowPinned!=null)return!1;var r=e.getStartRow(),o=e.getEndRow(),a=n.rowIndex>=r&&n.rowIndex<o;return a},t.prototype.isBlockCurrentlyDisplayed=function(e){var n=e.getStartRow(),r=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,r)},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkRowCount=function(e,n){if(typeof n=="number"&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var r=(e.getId()+1)*this.params.blockSize,o=r+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,n){this.rowCount=e,ie.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var n=this,r=new Ea;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,r,n.rowCount)})},t.prototype.getBlocksInOrder=function(){var e=function(r,o){return r.getId()-o.getId()},n=ie.getAllValuesInObject(this.blocks).sort(e);return n},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:v.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,n=[];this.getBlocksInOrder().forEach(function(r){var o=r.getId()*e.params.blockSize;o>=e.rowCount&&n.push(r)}),n.length>0&&n.forEach(function(r){return e.destroyBlock(r)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,n){var r=this,o=[],a=-1,s=!1,l=new Ea;ie.missing(e)&&(s=!0);var c=!1;this.getBlocksInOrder().forEach(function(d){if(!c){if(s&&a+1!==d.getId()){c=!0;return}a=d.getId(),d.forEachNode(function(p){var f=p===e||p===n;(s||f)&&o.push(p),f&&(s=!s)},l,r.rowCount)}});var u=c||s;return u?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,_d([m("rowRenderer")],t.prototype,"rowRenderer",void 0),_d([m("focusService")],t.prototype,"focusService",void 0),_d([l3(0,Nt("loggerFactory"))],t.prototype,"setBeans",null),_d([_t],t.prototype,"destroyAllBlocks",null),t}(T),u3=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ii=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},d3=function(i){u3(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,n,r,o){return!1},t.prototype.init=function(){var e=this;this.gridOptionsService.isRowModelType("infinite")&&(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&ie.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,v.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,v.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,v.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return e.setDatasource(e.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return e.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()})},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){var e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()},t.prototype.isSortModelDifferent=function(){return!ie.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,n):[]},t.prototype.reset=function(){if(this.datasource){var e=this.gridOptionsService.getCallback("getRowId"),n=e!=null;n||this.selectionService.reset("rowDataChanged"),this.resetCache()}},t.prototype.createModelUpdatedEvent=function(){return{type:v.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new Ea},this.infiniteCache=this.createBean(new c3(this.cacheParams)),this.eventService.dispatchEventOnce({type:v.EVENT_ROW_COUNT_READY});var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(r){r.setRowHeight(e.rowHeight),r.setRowTop(e.rowHeight*r.rowIndex)});var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(r){r.id===e&&(n=r)}),n},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(this.rowHeight!==0){var n=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return n>r?r:n}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){var n=this.getRowNode(e.id);return!!n},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1},t.prototype.setRowCount=function(e,n){this.infiniteCache&&this.infiniteCache.setRowCount(e,n)},ii([m("filterManager")],t.prototype,"filterManager",void 0),ii([m("sortController")],t.prototype,"sortController",void 0),ii([m("selectionService")],t.prototype,"selectionService",void 0),ii([m("rowRenderer")],t.prototype,"rowRenderer",void 0),ii([m("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),ii([I],t.prototype,"init",null),ii([_t],t.prototype,"destroyDatasource",null),t=ii([z("rowModel")],t),t}(T),p3="31.0.1",f3={version:p3,moduleName:B.InfiniteRowModelModule,rowModel:"infinite",beans:[d3]},h3=function(){function i(){}return i.prototype.setBeans=function(t){this.beans=t},i.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?"".concat(t,".").concat(e):t},i.prototype.getData=function(t){var e=this.createSerializingSession(t),n=this.beans.gridSerializer.serialize(e,t);return n},i.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},i}(),g3=function(){function i(t){this.groupColumns=[];var e=t.columnModel,n=t.valueService,r=t.gridOptionsService,o=t.valueFormatterService,a=t.valueParserService,s=t.processCellCallback,l=t.processHeaderCallback,c=t.processGroupHeaderCallback,u=t.processRowGroupCallback;this.columnModel=e,this.valueService=n,this.gridOptionsService=r,this.valueFormatterService=o,this.valueParserService=a,this.processCellCallback=s,this.processHeaderCallback=l,this.processGroupHeaderCallback=c,this.processRowGroupCallback=u}return i.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},i.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return e??""},i.prototype.extractRowCellValue=function(t,e,n,r,o){var a=this.gridOptionsService.get("groupHideOpenParents"),s=(!a||o.footer)&&this.shouldRenderGroupSummaryCell(o,t,e)?this.createValueForGroupNode(o):this.valueService.getValue(t,o),l=this.processCell({accumulatedRowIndex:n,rowNode:o,column:t,value:s,processCellCallback:this.processCellCallback,type:r});return l},i.prototype.shouldRenderGroupSummaryCell=function(t,e,n){var r,o=t&&t.group;if(!o)return!1;var a=this.groupColumns.indexOf(e);if(a!==-1){if(((r=t.groupData)===null||r===void 0?void 0:r[e.getId()])!=null||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&t.level===-1){var s=e.getColDef(),l=s==null||s.showRowGroup===!0;return l||s.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var c=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return n===0&&c},i.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},i.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,n=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,n.push(t.key);var r=n.reverse().join(" -> ");return e?"Total ".concat(r):r},i.prototype.processCell=function(t){var e=this,n,r=t.accumulatedRowIndex,o=t.rowNode,a=t.column,s=t.value,l=t.processCellCallback,c=t.type;return l?{value:(n=l({accumulatedRowIndex:r,column:a,node:o,value:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:c,parseValue:function(u){return e.valueParserService.parseValue(a,o,u,e.valueService.getValue(a,o))},formatValue:function(u){var d;return(d=e.valueFormatterService.formatValue(a,o,u))!==null&&d!==void 0?d:u}}))!==null&&n!==void 0?n:""}:a.getColDef().useValueFormatterForExport!==!1?{value:s??"",valueFormatted:this.valueFormatterService.formatValue(a,o,s)}:{value:s??""}},i}(),m3=function(){function i(){}return i.download=function(t,e){var n=document.defaultView||window;if(!n){console.warn("AG Grid: There is no `window` associated with the current `document`");return}var r=document.createElement("a"),o=n.URL.createObjectURL(e);r.setAttribute("href",o),r.setAttribute("download",t),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)},i}(),v3=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),b0=`\r
`,y3=function(i){v3(t,i);function t(e){var n=i.call(this,e)||this;n.isFirstLine=!0,n.result="";var r=e.suppressQuotes,o=e.columnSeparator;return n.suppressQuotes=r,n.columnSeparator=o,n}return t.prototype.addCustomContent=function(e){var n=this;e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,b0),this.result+=e):e.forEach(function(r){n.beginNewLine(),r.forEach(function(o,a){a!==0&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,n,r,o){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var n=1;n<=e;n++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,n){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,n,r){var o;n!=0&&(this.result+=this.columnSeparator);var a=this.extractRowCellValue(e,n,n,"csv",r);this.result+=this.putInQuotes((o=a.valueFormatted)!==null&&o!==void 0?o:a.value)},t.prototype.putInQuotes=function(e){if(this.suppressQuotes)return e;if(e==null)return'""';var n;typeof e=="string"?n=e:typeof e.toString=="function"?n=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n="");var r=n.replace(/"/g,'""');return'"'+r+'"'},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+=b0),this.isFirstLine=!1},t}(g3),w3=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),oi=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},C3=function(i){w3(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),r=this.getData(n),o=new Blob(["\uFEFF",r],{type:"text/plain"});return m3.download(this.getFileName(n.fileName),o),r},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e,n){n===void 0&&(n=!1);var r=n?Object.assign({},e):this.getMergedParams(e);return this.getData(r)},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var n=this,r=n.columnModel,o=n.valueService,a=n.gridOptionsService,s=n.valueFormatterService,l=n.valueParserService,c=e,u=c.processCellCallback,d=c.processHeaderCallback,p=c.processGroupHeaderCallback,f=c.processRowGroupCallback,h=c.suppressQuotes,g=c.columnSeparator;return new y3({columnModel:r,valueService:o,gridOptionsService:a,valueFormatterService:s,valueParserService:l,processCellCallback:u||void 0,processHeaderCallback:d||void 0,processGroupHeaderCallback:p||void 0,processRowGroupCallback:f||void 0,suppressQuotes:h||!1,columnSeparator:g||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},oi([m("columnModel")],t.prototype,"columnModel",void 0),oi([m("valueService")],t.prototype,"valueService",void 0),oi([m("gridSerializer")],t.prototype,"gridSerializer",void 0),oi([m("gridOptionsService")],t.prototype,"gridOptionsService",void 0),oi([m("valueFormatterService")],t.prototype,"valueFormatterService",void 0),oi([m("valueParserService")],t.prototype,"valueParserService",void 0),oi([I],t.prototype,"postConstruct",null),t=oi([z("csvCreator")],t),t}(h3),b3=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),ai=function(i,t,e,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,t,e,n);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(r<3?a(o):r>3?a(t,e,o):a(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o};var _3=function(i){b3(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.serialize=function(e,n){n===void 0&&(n={});var r=n.allColumns,o=n.columnKeys,a=n.skipRowGroups,s=this.getColumnsToExport(r,a,o),l=ie.compose(this.prepareSession(s),this.prependContent(n),this.exportColumnGroups(n,s),this.exportHeaders(n,s),this.processPinnedTopRows(n,s),this.processRows(n,s),this.processPinnedBottomRows(n,s),this.appendContent(n));return l(e).parse()},t.prototype.processRow=function(e,n,r,o){var a=n.shouldRowBeSkipped||function(){return!1},s=this.gridOptionsService.context,l=this.gridOptionsService.api,c=this.gridOptionsService.columnApi,u=this.gridOptionsService.get("groupRemoveSingleChildren"),d=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),p=n.rowPositions!=null,f=p||!!n.onlySelected,h=this.gridOptionsService.get("groupHideOpenParents")&&!f,g=this.columnModel.isPivotMode()?o.leafGroup:!o.group,y=!!o.footer;n.skipRowGroups;var w=d&&o.leafGroup,C=o.allChildrenCount===1&&(u||w);if(!(!g&&!y&&(n.skipRowGroups||C||h)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&o.rowPinned==="top"||n.skipPinnedBottom&&o.rowPinned==="bottom")){var b=o.level===-1;if(!(b&&!g&&!y)){var _=a({node:o,api:l,columnApi:c,context:s});if(!_){var D=e.onNewBodyRow(o);if(r.forEach(function(M,O){D.onColumn(M,O,o)}),n.getCustomContentBelowRow){var R=n.getCustomContentBelowRow({node:o,api:l,columnApi:c,context:s});R&&e.addCustomContent(R)}}}}},t.prototype.appendContent=function(e){return function(n){var r=e.appendContent;return r&&n.addCustomContent(r),n}},t.prototype.prependContent=function(e){return function(n){var r=e.prependContent;return r&&n.addCustomContent(r),n}},t.prototype.prepareSession=function(e){return function(n){return n.prepare(e),n}},t.prototype.exportColumnGroups=function(e,n){var r=this;return function(o){if(!e.skipColumnGroupHeaders){var a=new H0,s=r.displayedGroupCreator.createDisplayedGroups(n,a,null);r.recursivelyAddHeaderGroups(s,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,n){return function(r){if(!e.skipColumnHeaders){var o=r.onNewHeaderRow();n.forEach(function(a,s){o.onColumn(a,s,void 0)})}return r}},t.prototype.processPinnedTopRows=function(e,n){var r=this;return function(o){var a=r.processRow.bind(r,o,e,n);return e.rowPositions?e.rowPositions.filter(function(s){return s.rowPinned==="top"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return r.pinnedRowModel.getPinnedTopRow(s.rowIndex)}).forEach(a):r.pinnedRowModel.forEachPinnedTopRow(a),o}},t.prototype.processRows=function(e,n){var r=this;return function(o){var a=r.rowModel,s=a.getType(),l=s==="clientSide",c=s==="serverSide",u=!l&&e.onlySelected,d=r.processRow.bind(r,o,e,n),p=e.exportedRows,f=p===void 0?"filteredAndSorted":p;if(e.rowPositions)e.rowPositions.filter(function(g){return g.rowPinned==null}).sort(function(g,y){return g.rowIndex-y.rowIndex}).map(function(g){return a.getRow(g.rowIndex)}).forEach(d);else if(r.columnModel.isPivotMode())l?a.forEachPivotNode(d,!0):c?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);else if(e.onlySelectedAllPages||u){var h=r.selectionService.getSelectedNodes();r.replicateSortedOrder(h),h.forEach(d)}else f==="all"?a.forEachNode(d):l||c?a.forEachNodeAfterFilterAndSort(d,!0):a.forEachNode(d);return o}},t.prototype.replicateSortedOrder=function(e){var n=this,r=this.sortController.getSortOptions(),o=function(a,s){var l,c,u,d;return a.rowIndex!=null&&s.rowIndex!=null?a.rowIndex-s.rowIndex:a.level===s.level?((l=a.parent)===null||l===void 0?void 0:l.id)===((c=s.parent)===null||c===void 0?void 0:c.id)?n.rowNodeSorter.compareRowNodes(r,{rowNode:a,currentPos:(u=a.rowIndex)!==null&&u!==void 0?u:-1},{rowNode:s,currentPos:(d=s.rowIndex)!==null&&d!==void 0?d:-1}):o(a.parent,s.parent):a.level>s.level?o(a.parent,s):o(a,s.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,n){var r=this;return function(o){var a=r.processRow.bind(r,o,e,n);return e.rowPositions?e.rowPositions.filter(function(s){return s.rowPinned==="bottom"}).sort(function(s,l){return s.rowIndex-l.rowIndex}).map(function(s){return r.pinnedRowModel.getPinnedBottomRow(s.rowIndex)}).forEach(a):r.pinnedRowModel.forEachPinnedBottomRow(a),o}},t.prototype.getColumnsToExport=function(e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getGridColumns(r);var a=this.gridOptionsService.get("treeData"),s=[];if(e&&!o){var l=a?this.columnModel.getGridColumns([io]):[];s=l.concat(this.columnModel.getAllGridColumns())}else s=this.columnModel.getAllDisplayedColumns();return n&&!a&&(s=s.filter(function(c){return c.getColId()!==io})),s},t.prototype.recursivelyAddHeaderGroups=function(e,n,r){var o=[];e.forEach(function(a){var s=a;s.getChildren&&s.getChildren().forEach(function(l){return o.push(l)})}),e.length>0&&e[0]instanceof Ze&&this.doAddHeaderHeader(n,e,r),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,n,r)},t.prototype.doAddHeaderHeader=function(e,n,r){var o=this,a=e.onNewHeaderGroupingRow(),s=0;n.forEach(function(l){var c=l,u;r?u=r({columnGroup:c,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):u=o.columnModel.getDisplayNameForColumnGroup(c,"header");var d=c.getLeafColumns().reduce(function(p,f,h,g){var y=ie.last(p),w=f.getColumnGroupShow()==="open";return w?(!y||y[1]!=null)&&(y=[h],p.push(y)):y&&y[1]==null&&(y[1]=h-1),h===g.length-1&&y&&y[1]==null&&(y[1]=h),p},[]);a.onColumn(c,u||"",s++,c.getLeafColumns().length-1,d)})},ai([m("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),ai([m("columnModel")],t.prototype,"columnModel",void 0),ai([m("rowModel")],t.prototype,"rowModel",void 0),ai([m("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ai([m("selectionService")],t.prototype,"selectionService",void 0),ai([m("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),ai([m("sortController")],t.prototype,"sortController",void 0),t=ai([z("gridSerializer")],t),t}(T),S3="31.0.1",E3={version:S3,moduleName:B.CsvExportModule,beans:[C3,_3]},Sd=`\r
`,mY=function(){function i(){}return i.createHeader=function(t){t===void 0&&(t={});var e="<?",n="?>",r=["version"];t.version||(t.version="1.0"),t.encoding&&r.push("encoding"),t.standalone&&r.push("standalone");var o=r.map(function(a){return"".concat(a,'="').concat(t[a],'"')}).join(" ");return"".concat(e,"xml ").concat(o," ").concat(n)},i.createXml=function(t,e){var n=this,r="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(a){Object.keys(a.map).forEach(function(s){r+=n.returnAttributeIfPopulated(a.prefix+s,a.map[s],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(a){r+=n.returnAttributeIfPopulated(a,t.properties.rawMap[a],e)}));var o="<"+t.name+r;return!t.children&&t.textNode==null?o+"/>"+Sd:t.textNode!=null?o+">"+t.textNode+"</"+t.name+">"+Sd:(o+=">"+Sd,t.children&&t.children.forEach(function(a){o+=n.createXml(a,e)}),o+"</"+t.name+">"+Sd)},i.returnAttributeIfPopulated=function(t,e,n){if(!e&&e!==""&&e!==0)return"";var r=e;return typeof e=="boolean"&&n&&(r=n(e))," ".concat(t,'="').concat(r,'"')},i}(),x3=function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},D3=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),vY=function(){function i(){}return i.addFolders=function(t){t.forEach(this.addFolder.bind(this))},i.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},i.addFile=function(t,e,n){n===void 0&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},i.getContent=function(t){t===void 0&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},i.clearStream=function(){this.folders=[],this.files=[]},i.buildFileStream=function(t){var e,n;t===void 0&&(t="");var r=this.folders.concat(this.files),o=r.length,a="",s=0,l=0;try{for(var c=x3(r),u=c.next();!u.done;u=c.next()){var d=u.value,p=this.getHeader(d,s),f=p.fileHeader,h=p.folderHeader,g=p.content;s+=f.length+g.length,l+=h.length,t+=f+g,a+=h}}catch(w){e={error:w}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}var y=this.buildFolderEnd(o,l,s);return t+a+y},i.getHeader=function(t,e){var n=t.content,r=t.path,o=t.created,a=t.isBase64,s=ie.utf8_encode,l=ie.decToHex,c=s(r),u=c!==r,d=this.convertTime(o),p=this.convertDate(o),f="";if(u){var h=l(1,1)+l(this.getFromCrc32Table(c),4)+c;f="up"+l(h.length,2)+h}var g=n?this.getConvertedContent(n,a):{size:0,content:""},y=g.size,w=g.content,C=`
\0`+(u?"\0\b":"\0\0")+"\0\0"+l(d,2)+l(p,2)+l(y?this.getFromCrc32Table(w):0,4)+l(y,4)+l(y,4)+l(c.length,2)+l(f.length,2),b="PK"+C+c+f,_="PK\0"+C+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\0\0\0")+l(e,4)+c+f;return{fileHeader:b,folderHeader:_,content:w||""}},i.getConvertedContent=function(t,e){return e===void 0&&(e=!1),e&&(t=t.split(";base64,")[1]),t=e?atob(t):t,{size:t.length,content:t}},i.buildFolderEnd=function(t,e,n){var r=ie.decToHex;return"PK\0\0\0\0"+r(t,2)+r(t,2)+r(e,4)+r(n,4)+"\0\0"},i.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},i.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);for(var o=-1,a=0,s=0,l=0,r=0;r<e;r++)a=n[r],s=(o^a)&255,l=D3[s],o=o>>>8^l;return o^-1},i.convertTime=function(t){var e=t.getHours();return e<<=6,e=e|t.getMinutes(),e<<=5,e=e|t.getSeconds()/2,e},i.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e=e|t.getMonth()+1,e<<=5,e=e|t.getDate(),e},i.folders=[],i.files=[],i}(),T3=[o3,f3,E3];ee.registerModules(T3);var lD=(()=>{class i extends iy{constructor(e){super("angular"),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,n){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},n)}):window.setTimeout(()=>{e()},n)}setInterval(e,n){return new Qt(r=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{r(window.setInterval(()=>{e()},n))}):r(window.setInterval(()=>{e()},n))})}addEventListener(e,n,r,o){this.isOutsideAngular(n)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(n,r,o)}):e.addEventListener(n,r,o)}dispatchEvent(e,n,r=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(n):n():(this.isEmitterUsed(e)||r)&&(!le.isInAngularZone()&&this._ngZone?this._ngZone.run(n):n())}isFrameworkComponent(e){if(!e)return!1;let n=e.prototype;return n&&"agInit"in n}}return i.\u0275fac=function(e){return new(e||i)(F(le))},i.\u0275prov=G({token:i,factory:i.\u0275fac}),i})(),cD=(()=>{class i extends sD{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let n=this;class r extends ay{init(s){super.init(s),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return n.createComponent(e)}hasMethod(s){return o.getFrameworkComponentInstance()[s]!=null}callMethod(s,l){let c=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[s].apply(c,l)}addMethod(s,l){o[s]=l}}let o=new r;return o}createComponent(e){let n=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(n)}}return i.\u0275fac=(()=>{let t;return function(n){return(t||(t=Pi(i)))(n||i)}})(),i.\u0275prov=G({token:i,factory:i.\u0275fac}),i})(),ay=class{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&typeof this._frameworkComponentInstance.destroy=="function"&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}},uD=(()=>{class i{constructor(e,n,r,o,a){this.viewContainerRef=n,this.angularFrameworkOverrides=r,this.frameworkComponentWrapper=o,this.componentFactoryResolver=a,this._initialised=!1,this._destroyed=!1,this._fullyReady=Qt.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new A,this.toolPanelSizeChanged=new A,this.cutStart=new A,this.cutEnd=new A,this.pasteStart=new A,this.pasteEnd=new A,this.columnVisible=new A,this.columnPinned=new A,this.columnResized=new A,this.columnMoved=new A,this.columnValueChanged=new A,this.columnPivotModeChanged=new A,this.columnPivotChanged=new A,this.columnGroupOpened=new A,this.newColumnsLoaded=new A,this.gridColumnsChanged=new A,this.displayedColumnsChanged=new A,this.virtualColumnsChanged=new A,this.columnEverythingChanged=new A,this.componentStateChanged=new A,this.cellValueChanged=new A,this.cellEditRequest=new A,this.rowValueChanged=new A,this.cellEditingStarted=new A,this.cellEditingStopped=new A,this.rowEditingStarted=new A,this.rowEditingStopped=new A,this.undoStarted=new A,this.undoEnded=new A,this.redoStarted=new A,this.redoEnded=new A,this.rangeDeleteStart=new A,this.rangeDeleteEnd=new A,this.filterOpened=new A,this.filterChanged=new A,this.filterModified=new A,this.advancedFilterBuilderVisibleChanged=new A,this.chartCreated=new A,this.chartRangeSelectionChanged=new A,this.chartOptionsChanged=new A,this.chartDestroyed=new A,this.cellKeyDown=new A,this.gridReady=new A,this.gridPreDestroyed=new A,this.firstDataRendered=new A,this.gridSizeChanged=new A,this.modelUpdated=new A,this.virtualRowRemoved=new A,this.viewportChanged=new A,this.bodyScroll=new A,this.bodyScrollEnd=new A,this.dragStarted=new A,this.dragStopped=new A,this.stateUpdated=new A,this.paginationChanged=new A,this.rowDragEnter=new A,this.rowDragMove=new A,this.rowDragLeave=new A,this.rowDragEnd=new A,this.columnRowGroupChanged=new A,this.rowGroupOpened=new A,this.expandOrCollapseAll=new A,this.pinnedRowDataChanged=new A,this.rowDataUpdated=new A,this.asyncTransactionsFlushed=new A,this.storeRefreshed=new A,this.cellClicked=new A,this.cellDoubleClicked=new A,this.cellFocused=new A,this.cellMouseOver=new A,this.cellMouseOut=new A,this.cellMouseDown=new A,this.rowClicked=new A,this.rowDoubleClicked=new A,this.rowSelected=new A,this.selectionChanged=new A,this.cellContextMenu=new A,this.rangeSelectionChanged=new A,this.tooltipShow=new A,this.tooltipHide=new A,this.sortChanged=new A,this.columnRowGroupChangeRequest=new A,this.columnPivotChangeRequest=new A,this.columnValueChangeRequest=new A,this.columnAggFuncChangeRequest=new A,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this));let e=El.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};let n=oD(this._nativeElement,e,this.gridParams);n&&(this.api=n,this.columnApi=new Rl(n)),this.gridPreDestroyed.observers.length>0&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,r=>r)}ngOnChanges(e){if(this._initialised){let n={};Object.entries(e).forEach(([r,o])=>{n[r]=o.currentValue}),El.processOnChange(n,this.api)}}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(e){let n=this[e],r=!!n&&n.observers&&n.observers.length>0,o=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`,a=!!this.gridOptions&&!!this.gridOptions[o];return r||a}globalEventListener(e,n){if(this._destroyed)return;let r=this[e];r&&this.isEmitterUsed(e)&&(e==="gridReady"?this._fullyReady.then(o=>{r.emit(n)}):r.emit(n))}}return i.\u0275fac=function(e){return new(e||i)(he(He),he(Bo),he(lD),he(cD),he(Go))},i.\u0275cmp=Ct({type:i,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[Fn([lD,cD]),Rn],decls:0,vars:0,template:function(e,n){},encapsulation:2}),i})(),lp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=Z({type:i}),i.\u0275inj=Q({}),i})();var O3=()=>[10,15,20],dD=(()=>{let t=class t{constructor(n,r){this.championService=n,this.fb=r,this.champions=[],this.championsData=[],this.searchForm=this.fb.group({searchQuery:[""]}),this.colDefs=[{field:"name"},{field:"title"},{}]}ngOnInit(){this.getChampions(),this.initializeSearchForm()}initializeSearchForm(){this.searchForm=this.fb.group({searchQuery:[""]})}filterByNameOrTitle(){console.log("searchQuery:",this.searchForm.get("searchQuery")?.value);let n=this.searchForm.get("searchQuery")?.value.toLowerCase();this.championsData=this.champions.filter(r=>r.name.toLowerCase().includes(n)||r.title.toLowerCase().includes(n)).map(r=>({name:r.name,title:r.title}))}getChampions(){this.championService.getChampions().subscribe(n=>{this.champions=n,this.championsData=this.champions.map(r=>({name:r.name,title:r.title})),console.log("Champions charg\xE9s:",this.champions)},n=>{console.error("Une erreur s'est produite lors du chargement des champions:",n)})}onBtnEpxort(){let n={fileName:"champions_data"};this.gridApi.exportDataAsCsv(n)}onGridReady(n){this.gridApi=n.api}};t.\u0275fac=function(r){return new(r||t)(he(PS),he(cE))},t.\u0275cmp=Ct({type:t,selectors:[["app-champions-list"]],decls:27,vars:8,consts:[[2,"background-color","#1f2632"],[1,"jumbotron","px-5","py-4","text-white","d-flex","align-items-center",2,"background-color","#2b3945"],["src","assets/LOLIcon.png","alt","icon","width","100","height","100",1,"img-fluid"],[2,"color","#3fccf3"],[1,"container","w-100","my-5","min-vh-100"],[1,"row","d-flex","justify-content-between"],[1,"col-12","col-lg-5","text-white"],[1,"fs-5","lh-base"],["src","assets/LolBanner.png","alt","banner",1,"img-fluid","mt-4"],[1,"col-12","col-lg-6"],[1,"row","mb-3"],[1,"col-5"],[3,"formGroup"],["type","text","id","searchQuery","formControlName","searchQuery","placeholder","Search by name or title",1,"form-control","bg-dark","text-white","border-secondary",3,"keyup"],[1,"col","d-flex","justify-content-end"],["color","primary",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-download"],[1,"ag-theme-quartz-dark","fs-6","text-capitalize",2,"height","100%","width","100%",3,"rowData","columnDefs","pagination","paginationPageSize","paginationPageSizeSelector","domLayout","gridReady"],[1,"footer","mt-auto","py-3",2,"background-color","#424f5b"],[1,"container","text-center","text-white"]],template:function(r,o){r&1&&(at(0,"div",0)(1,"div",1),Dt(2,"img",2),at(3,"h1",3),Li(4,"League Of Legends Hub"),st()(),at(5,"div",4)(6,"div",5)(7,"div",6)(8,"p",7),Li(9," Welcome to League Legends Hub, your one-stop destination for exploring League of Legends champions. "),Dt(10,"br")(11,"br"),Li(12,"Dive into the world of League of Legends and get insights into your favorite champions. Whether you're a newcomer or a seasoned player, League Legends Hub is here to guide you through the exciting realm of champions in League of Legends. "),st(),Dt(13,"img",8),st(),at(14,"div",9)(15,"div",10)(16,"div",11)(17,"form",12)(18,"input",13),jt("keyup",function(){return o.filterByNameOrTitle()}),st()()(),at(19,"div",14)(20,"button",15),jt("click",function(){return o.onBtnEpxort()}),Dt(21,"i",16),st()()(),at(22,"ag-grid-angular",17),jt("gridReady",function(s){return o.onGridReady(s)}),st()()()(),at(23,"footer",18)(24,"div",19)(25,"p"),Li(26,"\xA9 2023 League Of Legends Hub. All rights reserved."),st()()()()),r&2&&(Xa(17),jo("formGroup",o.searchForm),Xa(5),jo("rowData",o.championsData)("columnDefs",o.colDefs)("pagination",!0)("paginationPageSize",10)("paginationPageSizeSelector",a_(7,O3))("domLayout","autoHeight"))},dependencies:[uD,sE,Yu,tE,nE,Kg,Yg],styles:['@import"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css";[_ngcontent-%COMP%]::placeholder{color:#fff}']});let i=t;return i})();var pD=(()=>{let t=class t{constructor(){this.title="lolChampions"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Ct({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,o){r&1&&(at(0,"div"),Dt(1,"app-champions-list"),st(),Dt(2,"router-outlet"))},dependencies:[Pg,dD],styles:[`[_nghost-%COMP%] {
    --bright-blue: oklch(51.01% 0.274 263.83);
    --electric-violet: oklch(53.18% 0.28 296.97);
    --french-violet: oklch(47.66% 0.246 305.88);
    --vivid-pink: oklch(69.02% 0.277 332.77);
    --hot-red: oklch(61.42% 0.238 15.34);
    --orange-red: oklch(63.32% 0.24 31.68);

    --gray-900: oklch(19.37% 0.006 300.98);
    --gray-700: oklch(36.98% 0.014 302.71);
    --gray-400: oklch(70.9% 0.015 304.04);

    --red-to-pink-to-purple-vertical-gradient: linear-gradient(
      180deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --red-to-pink-to-purple-horizontal-gradient: linear-gradient(
      90deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --pill-accent: var(--bright-blue);

    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1[_ngcontent-%COMP%] {
    font-size: 3.125rem;
    color: var(--gray-900);
    font-weight: 500;
    line-height: 100%;
    letter-spacing: -0.125rem;
    margin: 0;
    font-family: "Inter Tight", -apple-system, BlinkMacSystemFont, "Segoe UI",
      Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji",
      "Segoe UI Emoji", "Segoe UI Symbol";
  }

  p[_ngcontent-%COMP%] {
    margin: 0;
    color: var(--gray-700);
  }

  main[_ngcontent-%COMP%] {
    width: 100%;
    min-height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    box-sizing: inherit;
    position: relative;
  }

  .angular-logo[_ngcontent-%COMP%] {
    max-width: 9.2rem;
  }

  .content[_ngcontent-%COMP%] {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 700px;
    margin-bottom: 3rem;
  }

  .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {
    margin-top: 1.75rem;
  }

  .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {
    margin-top: 1.5rem;
  }

  .divider[_ngcontent-%COMP%] {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    margin-inline: 0.5rem;
  }

  .pill-group[_ngcontent-%COMP%] {
    display: flex;
    flex-direction: column;
    align-items: start;
    flex-wrap: wrap;
    gap: 1.25rem;
  }

  .pill[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    --pill-accent: var(--bright-blue);
    background: color-mix(in srgb, var(--pill-accent) 5%, transparent);
    color: var(--pill-accent);
    padding-inline: 0.75rem;
    padding-block: 0.375rem;
    border-radius: 2.75rem;
    border: 0;
    transition: background 0.3s ease;
    font-family: var(--inter-font);
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4rem;
    letter-spacing: -0.00875rem;
    text-decoration: none;
  }

  .pill[_ngcontent-%COMP%]:hover {
    background: color-mix(in srgb, var(--pill-accent) 15%, transparent);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 1) {
    --pill-accent: var(--bright-blue);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 2) {
    --pill-accent: var(--french-violet);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 5) {
    --pill-accent: var(--hot-red);
  }

  .pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {
    margin-inline-start: 0.25rem;
  }

  .social-links[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    gap: 0.73rem;
    margin-top: 1.5rem;
  }

  .social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    transition: fill 0.3s ease;
    fill: var(--gray-400);
  }

  .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    fill: var(--gray-900);
  }

  @media screen and (max-width: 650px) {
    .content[_ngcontent-%COMP%] {
      flex-direction: column;
      width: max-content;
    }

    .divider[_ngcontent-%COMP%] {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1.5rem;
    }
  }`]});let i=t;return i})();function I3(i,t){return new ue(e=>{let n=!1,r=!1,o=i.subscribe(a=>{r=!0,setTimeout(()=>{e.next(a),n&&e.complete()},t)},a=>setTimeout(()=>e.error(a),t),()=>{n=!0,r||e.complete()});return()=>o.unsubscribe()})}var Me={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANTENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,UPGRADE_REQUIRED:426,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,PROCESSING:102,MULTI_STATUS:207,IM_USED:226,PERMANENT_REDIRECT:308,UNPROCESSABLE_ENTRY:422,LOCKED:423,FAILED_DEPENDENCY:424,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,NETWORK_AUTHENTICATION_REQUIRED:511},M3={100:{code:100,text:"Continue",description:'"The initial part of a request has been received and has not yet been rejected by the server."',spec_title:"RFC7231#6.2.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.1"},101:{code:101,text:"Switching Protocols",description:`"The server understands and is willing to comply with the client's request, via the Upgrade header field, for a change in the application protocol being used on this connection."`,spec_title:"RFC7231#6.2.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.2.2"},200:{code:200,text:"OK",description:'"The request has succeeded."',spec_title:"RFC7231#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.1"},201:{code:201,text:"Created",description:'"The request has been fulfilled and has resulted in one or more new resources being created."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},202:{code:202,text:"Accepted",description:'"The request has been accepted for processing, but the processing has not been completed."',spec_title:"RFC7231#6.3.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.3"},203:{code:203,text:"Non-Authoritative Information",description:`"The request was successful but the enclosed payload has been modified from that of the origin server's 200 (OK) response by a transforming proxy."`,spec_title:"RFC7231#6.3.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.4"},204:{code:204,text:"No Content",description:'"The server has successfully fulfilled the request and that there is no additional content to send in the response payload body."',spec_title:"RFC7231#6.3.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.5"},205:{code:205,text:"Reset Content",description:'"The server has fulfilled the request and desires that the user agent reset the "document view", which caused the request to be sent, to its original state as received from the origin server."',spec_title:"RFC7231#6.3.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.6"},206:{code:206,text:"Partial Content",description:`"The server is successfully fulfilling a range request for the target resource by transferring one or more parts of the selected representation that correspond to the satisfiable ranges found in the requests's Range header field."`,spec_title:"RFC7233#4.1",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.1"},300:{code:300,text:"Multiple Choices",description:'"The target resource has more than one representation, each with its own more specific identifier, and information about the alternatives is being provided so that the user (or user agent) can select a preferred representation by redirecting its request to one or more of those identifiers."',spec_title:"RFC7231#6.4.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.1"},301:{code:301,text:"Moved Permanently",description:'"The target resource has been assigned a new permanent URI and any future references to this resource ought to use one of the enclosed URIs."',spec_title:"RFC7231#6.4.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.2"},302:{code:302,text:"Found",description:'"The target resource resides temporarily under a different URI."',spec_title:"RFC7231#6.4.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.3"},303:{code:303,text:"See Other",description:'"The server is redirecting the user agent to a different resource, as indicated by a URI in the Location header field, that is intended to provide an indirect response to the original request."',spec_title:"RFC7231#6.4.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.4"},304:{code:304,text:"Not Modified",description:'"A conditional GET request has been received and would have resulted in a 200 (OK) response if it were not for the fact that the condition has evaluated to false."',spec_title:"RFC7232#4.1",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.1"},305:{code:305,text:"Use Proxy",description:"*deprecated*",spec_title:"RFC7231#6.4.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.5"},307:{code:307,text:"Temporary Redirect",description:'"The target resource resides temporarily under a different URI and the user agent MUST NOT change the request method if it performs an automatic redirection to that URI."',spec_title:"RFC7231#6.4.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.4.7"},400:{code:400,text:"Bad Request",description:'"The server cannot or will not process the request because the received syntax is invalid, nonsensical, or exceeds some limitation on what the server is willing to process."',spec_title:"RFC7231#6.5.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.1"},401:{code:401,text:"Unauthorized",description:'"The request has not been applied because it lacks valid authentication credentials for the target resource."',spec_title:"RFC7235#6.3.1",spec_href:"https://tools.ietf.org/html/rfc7235#section-3.1"},402:{code:402,text:"Payment Required",description:"*reserved*",spec_title:"RFC7231#6.5.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.2"},403:{code:403,text:"Forbidden",description:'"The server understood the request but refuses to authorize it."',spec_title:"RFC7231#6.5.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.3"},404:{code:404,text:"Not Found",description:'"The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."',spec_title:"RFC7231#6.5.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.4"},405:{code:405,text:"Method Not Allowed",description:'"The method specified in the request-line is known by the origin server but not supported by the target resource."',spec_title:"RFC7231#6.5.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.5"},406:{code:406,text:"Not Acceptable",description:'"The target resource does not have a current representation that would be acceptable to the user agent, according to the proactive negotiation header fields received in the request, and the server is unwilling to supply a default representation."',spec_title:"RFC7231#6.5.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.6"},407:{code:407,text:"Proxy Authentication Required",description:'"The client needs to authenticate itself in order to use a proxy."',spec_title:"RFC7231#6.3.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.3.2"},408:{code:408,text:"Request Timeout",description:'"The server did not receive a complete request message within the time that it was prepared to wait."',spec_title:"RFC7231#6.5.7",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.7"},409:{code:409,text:"Conflict",description:'"The request could not be completed due to a conflict with the current state of the resource."',spec_title:"RFC7231#6.5.8",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.8"},410:{code:410,text:"Gone",description:'"Access to the target resource is no longer available at the origin server and that this condition is likely to be permanent."',spec_title:"RFC7231#6.5.9",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.9"},411:{code:411,text:"Length Required",description:'"The server refuses to accept the request without a defined Content-Length."',spec_title:"RFC7231#6.5.10",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.10"},412:{code:412,text:"Precondition Failed",description:'"One or more preconditions given in the request header fields evaluated to false when tested on the server."',spec_title:"RFC7232#4.2",spec_href:"https://tools.ietf.org/html/rfc7232#section-4.2"},413:{code:413,text:"Payload Too Large",description:'"The server is refusing to process a request because the request payload is larger than the server is willing or able to process."',spec_title:"RFC7231#6.5.11",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.11"},414:{code:414,text:"URI Too Long",description:'"The server is refusing to service the request because the request-target is longer than the server is willing to interpret."',spec_title:"RFC7231#6.5.12",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.12"},415:{code:415,text:"Unsupported Media Type",description:'"The origin server is refusing to service the request because the payload is in a format not supported by the target resource for this method."',spec_title:"RFC7231#6.5.13",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.13"},416:{code:416,text:"Range Not Satisfiable",description:`"None of the ranges in the request's Range header field overlap the current extent of the selected resource or that the set of ranges requested has been rejected due to invalid ranges or an excessive request of small or overlapping ranges."`,spec_title:"RFC7233#4.4",spec_href:"https://tools.ietf.org/html/rfc7233#section-4.4"},417:{code:417,text:"Expectation Failed",description:`"The expectation given in the request's Expect header field could not be met by at least one of the inbound servers."`,spec_title:"RFC7231#6.5.14",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.14"},418:{code:418,text:"I'm a teapot",description:'"1988 April Fools Joke. Returned by tea pots requested to brew coffee."',spec_title:"RFC 2324",spec_href:"https://tools.ietf.org/html/rfc2324"},426:{code:426,text:"Upgrade Required",description:'"The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol."',spec_title:"RFC7231#6.5.15",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.5.15"},500:{code:500,text:"Internal Server Error",description:'"The server encountered an unexpected condition that prevented it from fulfilling the request."',spec_title:"RFC7231#6.6.1",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.1"},501:{code:501,text:"Not Implemented",description:'"The server does not support the functionality required to fulfill the request."',spec_title:"RFC7231#6.6.2",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.2"},502:{code:502,text:"Bad Gateway",description:'"The server, while acting as a gateway or proxy, received an invalid response from an inbound server it accessed while attempting to fulfill the request."',spec_title:"RFC7231#6.6.3",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.3"},503:{code:503,text:"Service Unavailable",description:'"The server is currently unable to handle the request due to a temporary overload or scheduled maintenance, which will likely be alleviated after some delay."',spec_title:"RFC7231#6.6.4",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.4"},504:{code:504,text:"Gateway Time-out",description:'"The server, while acting as a gateway or proxy, did not receive a timely response from an upstream server it needed to access in order to complete the request."',spec_title:"RFC7231#6.6.5",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.5"},505:{code:505,text:"HTTP Version Not Supported",description:'"The server does not support, or refuses to support, the protocol version that was used in the request message."',spec_title:"RFC7231#6.6.6",spec_href:"https://tools.ietf.org/html/rfc7231#section-6.6.6"},102:{code:102,text:"Processing",description:'"An interim response to inform the client that the server has accepted the complete request, but has not yet completed it."',spec_title:"RFC5218#10.1",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.1"},207:{code:207,text:"Multi-Status",description:'"Status for multiple independent operations."',spec_title:"RFC5218#10.2",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.2"},226:{code:226,text:"IM Used",description:'"The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance."',spec_title:"RFC3229#10.4.1",spec_href:"https://tools.ietf.org/html/rfc3229#section-10.4.1"},308:{code:308,text:"Permanent Redirect",description:'"The target resource has been assigned a new permanent URI and any future references to this resource SHOULD use one of the returned URIs. [...] This status code is similar to 301 Moved Permanently (Section 7.3.2 of rfc7231), except that it does not allow rewriting the request method from POST to GET."',spec_title:"RFC7238",spec_href:"https://tools.ietf.org/html/rfc7238"},422:{code:422,text:"Unprocessable Entity",description:'"The server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions."',spec_title:"RFC5218#10.3",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.3"},423:{code:423,text:"Locked",description:'"The source or destination resource of a method is locked."',spec_title:"RFC5218#10.4",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.4"},424:{code:424,text:"Failed Dependency",description:'"The method could not be performed on the resource because the requested action depended on another action and that action failed."',spec_title:"RFC5218#10.5",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.5"},428:{code:428,text:"Precondition Required",description:'"The origin server requires the request to be conditional."',spec_title:"RFC6585#3",spec_href:"https://tools.ietf.org/html/rfc6585#section-3"},429:{code:429,text:"Too Many Requests",description:'"The user has sent too many requests in a given amount of time ("rate limiting")."',spec_title:"RFC6585#4",spec_href:"https://tools.ietf.org/html/rfc6585#section-4"},431:{code:431,text:"Request Header Fields Too Large",description:'"The server is unwilling to process the request because its header fields are too large."',spec_title:"RFC6585#5",spec_href:"https://tools.ietf.org/html/rfc6585#section-5"},451:{code:451,text:"Unavailable For Legal Reasons",description:'"The server is denying access to the resource in response to a legal demand."',spec_title:"draft-ietf-httpbis-legally-restricted-status",spec_href:"https://tools.ietf.org/html/draft-ietf-httpbis-legally-restricted-status"},506:{code:506,text:"Variant Also Negotiates",description:'"The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process."',spec_title:"RFC2295#8.1",spec_href:"https://tools.ietf.org/html/rfc2295#section-8.1"},507:{code:507,text:"Insufficient Storage",description:'The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request."',spec_title:"RFC5218#10.6",spec_href:"https://tools.ietf.org/html/rfc2518#section-10.6"},511:{code:511,text:"Network Authentication Required",description:'"The client needs to authenticate to gain network access."',spec_title:"RFC6585#6",spec_href:"https://tools.ietf.org/html/rfc6585#section-6"}};function P3(i){return M3[i+""].text||"Unknown Status"}function F3(i){return i>=200&&i<300}var Ol=class{},sy=class{},cp=(()=>{let t=class t{constructor(n={}){Object.assign(this,{caseSensitiveSearch:!1,dataEncapsulation:!1,delay:500,delete404:!1,passThruUnknownUrl:!1,post204:!0,post409:!1,put204:!0,put404:!1,apiBase:void 0,host:void 0,rootPath:void 0},n)}};t.\u0275fac=function(r){return new(r||t)(F(sy))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();function N3(i){let e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(i),n={source:"",protocol:"",authority:"",userInfo:"",user:"",password:"",host:"",port:"",relative:"",path:"",directory:"",file:"",query:"",anchor:""},r=Object.keys(n),o=r.length;for(;o--;)n[r[o]]=e&&e[o]||"";return n}function L3(i){return i.replace(/\/$/,"")}var ly=class{constructor(t,e={}){this.inMemDbService=t,this.config=new cp,this.db={},this.requestInfoUtils=this.getRequestInfoUtils();let n=this.getLocation("/");this.config.host=n.host,this.config.rootPath=n.path,Object.assign(this.config,e)}get dbReady(){return this.dbReadySubject||(this.dbReadySubject=new Ke(!1),this.resetDb()),this.dbReadySubject.asObservable().pipe(Gt(t=>t))}handleRequest(t){return this.dbReady.pipe(on(()=>this.handleRequest_(t)))}handleRequest_(t){let e=t.urlWithParams?t.urlWithParams:t.url,n=this.bind("parseRequestUrl"),r=n&&n(e,this.requestInfoUtils)||this.parseRequestUrl(e),o=r.collectionName,a=this.db[o],s={req:t,apiBase:r.apiBase,collection:a,collectionName:o,headers:this.createHeaders({"Content-Type":"application/json"}),id:this.parseId(a,o,r.id),method:this.getRequestMethod(t),query:r.query,resourceUrl:r.resourceUrl,url:e,utils:this.requestInfoUtils},l;if(/commands\/?$/i.test(s.apiBase))return this.commands(s);let c=this.bind(s.method);if(c){let u=c(s);if(u)return u}return this.db[o]?this.createResponse$(()=>this.collectionHandler(s)):this.config.passThruUnknownUrl?this.getPassThruBackend().handle(t):(l=this.createErrorResponseOptions(e,Me.NOT_FOUND,`Collection '${o}' not found`),this.createResponse$(()=>l))}addDelay(t){let e=this.config.delay;return e===0?t:I3(t,e||500)}applyQuery(t,e){let n=[],r=this.config.caseSensitiveSearch?void 0:"i";e.forEach((a,s)=>{a.forEach(l=>n.push({name:s,rx:new RegExp(decodeURI(l),r)}))});let o=n.length;return o?t.filter(a=>{let s=!0,l=o;for(;s&&l;){l-=1;let c=n[l];s=c.rx.test(a[c.name])}return s}):t}bind(t){let e=this.inMemDbService[t];return e?e.bind(this.inMemDbService):void 0}bodify(t){return this.config.dataEncapsulation?{data:t}:t}clone(t){return JSON.parse(JSON.stringify(t))}collectionHandler(t){let e;switch(t.method){case"get":e=this.get(t);break;case"post":e=this.post(t);break;case"put":e=this.put(t);break;case"delete":e=this.delete(t);break;default:e=this.createErrorResponseOptions(t.url,Me.METHOD_NOT_ALLOWED,"Method not allowed");break}let n=this.bind("responseInterceptor");return n?n(e,t):e}commands(t){let e=t.collectionName.toLowerCase(),n=t.method,r={url:t.url};switch(e){case"resetdb":return r.status=Me.NO_CONTENT,this.resetDb(t).pipe(on(()=>this.createResponse$(()=>r,!1)));case"config":if(n==="get")r.status=Me.OK,r.body=this.clone(this.config);else{let o=this.getJsonBody(t.req);Object.assign(this.config,o),this.passThruBackend=void 0,r.status=Me.NO_CONTENT}break;default:r=this.createErrorResponseOptions(t.url,Me.INTERNAL_SERVER_ERROR,`Unknown command "${e}"`)}return this.createResponse$(()=>r,!1)}createErrorResponseOptions(t,e,n){return{body:{error:`${n}`},url:t,headers:this.createHeaders({"Content-Type":"application/json"}),status:e}}createResponse$(t,e=!0){let n=this.createResponseOptions$(t),r=this.createResponse$fromResponseOptions$(n);return e?this.addDelay(r):r}createResponseOptions$(t){return new ue(e=>{let n;try{n=t()}catch(o){let a=o.message||o;n=this.createErrorResponseOptions("",Me.INTERNAL_SERVER_ERROR,`${a}`)}let r=n.status;try{n.statusText=r!=null?P3(r):void 0}catch{}return r!=null&&F3(r)?(e.next(n),e.complete()):e.error(n),()=>{}})}delete({collection:t,collectionName:e,headers:n,id:r,url:o}){if(r==null)return this.createErrorResponseOptions(o,Me.NOT_FOUND,`Missing "${e}" id`);let a=this.removeById(t,r);return{headers:n,status:a||!this.config.delete404?Me.NO_CONTENT:Me.NOT_FOUND}}findById(t,e){return t.find(n=>n.id===e)}genId(t,e){let n=this.bind("genId");if(n){let r=n(t,e);if(r!=null)return r}return this.genIdDefault(t,e)}genIdDefault(t,e){if(!this.isCollectionIdNumeric(t,e))throw new Error(`Collection '${e}' id type is non-numeric or unknown. Can only generate numeric ids.`);let n=0;return t.reduce((r,o)=>{n=Math.max(n,typeof o.id=="number"?o.id:n)},void 0),n+1}get({collection:t,collectionName:e,headers:n,id:r,query:o,url:a}){let s=t;return r!=null&&r!==""?s=this.findById(t,r):o&&(s=this.applyQuery(t,o)),s?{body:this.bodify(this.clone(s)),headers:n,status:Me.OK}:this.createErrorResponseOptions(a,Me.NOT_FOUND,`'${e}' with id='${r}' not found`)}getLocation(t){if(!t.startsWith("http")){let e=typeof document>"u"?void 0:document,n=e?e.location.protocol+"//"+e.location.host:"http://fake";t=t.startsWith("/")?n+t:n+"/"+t}return N3(t)}getPassThruBackend(){return this.passThruBackend?this.passThruBackend:this.passThruBackend=this.createPassThruBackend()}getRequestInfoUtils(){return{createResponse$:this.createResponse$.bind(this),findById:this.findById.bind(this),isCollectionIdNumeric:this.isCollectionIdNumeric.bind(this),getConfig:()=>this.config,getDb:()=>this.db,getJsonBody:this.getJsonBody.bind(this),getLocation:this.getLocation.bind(this),getPassThruBackend:this.getPassThruBackend.bind(this),parseRequestUrl:this.parseRequestUrl.bind(this)}}indexOf(t,e){return t.findIndex(n=>n.id===e)}parseId(t,e,n){if(!this.isCollectionIdNumeric(t,e))return n;let r=parseFloat(n);return isNaN(r)?n:r}isCollectionIdNumeric(t,e){return!!(t&&t[0])&&typeof t[0].id=="number"}parseRequestUrl(t){try{let e=this.getLocation(t),n=(this.config.rootPath||"").length,r="";e.host!==this.config.host&&(n=1,r=e.protocol+"//"+e.host+"/");let a=e.path.substring(n).split("/"),s=0,l;this.config.apiBase==null?l=a[s++]:(l=L3(this.config.apiBase.trim()),l?s=l.split("/").length:s=0),l+="/";let c=a[s++];c=c&&c.split(".")[0];let u=a[s++],d=this.createQueryMap(e.query),p=r+l+c+"/";return{apiBase:l,collectionName:c,id:u,query:d,resourceUrl:p}}catch(e){let n=`unable to parse url '${t}'; original error: ${e.message}`;throw new Error(n)}}post({collection:t,collectionName:e,headers:n,id:r,req:o,resourceUrl:a,url:s}){let l=this.clone(this.getJsonBody(o));if(l.id==null)try{l.id=r||this.genId(t,e)}catch(d){let p=d.message||"";return/id type is non-numeric/.test(p)?this.createErrorResponseOptions(s,Me.UNPROCESSABLE_ENTRY,p):this.createErrorResponseOptions(s,Me.INTERNAL_SERVER_ERROR,`Failed to generate new id for '${e}'`)}if(r&&r!==l.id)return this.createErrorResponseOptions(s,Me.BAD_REQUEST,"Request id does not match item.id");r=l.id;let c=this.indexOf(t,r),u=this.bodify(l);return c===-1?(t.push(l),n.set("Location",a+"/"+r),{headers:n,body:u,status:Me.CREATED}):this.config.post409?this.createErrorResponseOptions(s,Me.CONFLICT,`'${e}' item with id='${r} exists and may not be updated with POST; use PUT instead.`):(t[c]=l,this.config.post204?{headers:n,status:Me.NO_CONTENT}:{headers:n,body:u,status:Me.OK})}put({collection:t,collectionName:e,headers:n,id:r,req:o,url:a}){let s=this.clone(this.getJsonBody(o));if(s.id==null)return this.createErrorResponseOptions(a,Me.NOT_FOUND,`Missing '${e}' id`);if(r&&r!==s.id)return this.createErrorResponseOptions(a,Me.BAD_REQUEST,`Request for '${e}' id does not match item.id`);r=s.id;let l=this.indexOf(t,r),c=this.bodify(s);return l>-1?(t[l]=s,this.config.put204?{headers:n,status:Me.NO_CONTENT}:{headers:n,body:c,status:Me.OK}):this.config.put404?this.createErrorResponseOptions(a,Me.NOT_FOUND,`'${e}' item with id='${r} not found and may not be created with PUT; use POST instead.`):(t.push(s),{headers:n,body:c,status:Me.CREATED})}removeById(t,e){let n=this.indexOf(t,e);return n>-1?(t.splice(n,1),!0):!1}resetDb(t){this.dbReadySubject&&this.dbReadySubject.next(!1);let e=this.inMemDbService.createDb(t);return(e instanceof ue?e:typeof e.then=="function"?De(e):Y(e)).pipe(Gt()).subscribe(r=>{this.db=r,this.dbReadySubject&&this.dbReadySubject.next(!0)}),this.dbReady}},k3=(()=>{let t=class t extends ly{constructor(n,r,o){super(n,r),this.xhrFactory=o}handle(n){try{return this.handleRequest(n)}catch(r){let o=r.message||r,a=this.createErrorResponseOptions(n.url,Me.INTERNAL_SERVER_ERROR,`${o}`);return this.createResponse$(()=>a)}}getJsonBody(n){return n.body}getRequestMethod(n){return(n.method||"get").toLowerCase()}createHeaders(n){return new wr(n)}createQueryMap(n){let r=new Map;if(n){let o=new Xn({fromString:n});o.keys().forEach(a=>r.set(a,o.getAll(a)||[]))}return r}createResponse$fromResponseOptions$(n){return n.pipe(oe(r=>new Yo(r)))}createPassThruBackend(){try{return new yu(this.xhrFactory)}catch(n){throw n.message="Cannot create passThru404 backend; "+(n.message||""),n}}};t.\u0275fac=function(r){return new(r||t)(F(Ol),F(cp,8),F(Zn))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();function z3(i,t,e){return new k3(i,t,e)}var fD=(()=>{let t=class t{static forRoot(n,r){return{ngModule:t,providers:[{provide:Ol,useClass:n},{provide:cp,useValue:r},{provide:Ko,useFactory:z3,deps:[Ol,cp,Zn]}]}}static forFeature(n,r){return t.forRoot(n,r)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({});let i=t;return i})();var hD={"1":{title:"the Dark Child",id:1,key:"Annie",name:"Annie"},"2":{title:"the Berserker",id:2,key:"Olaf",name:"Olaf"},"3":{title:"the Colossus",id:3,key:"Galio",name:"Galio"},"4":{title:"the Card Master",id:4,key:"TwistedFate",name:"Twisted Fate"},"5":{title:"the Seneschal of Demacia",id:5,key:"XinZhao",name:"Xin Zhao"},"6":{title:"the Dreadnought",id:6,key:"Urgot",name:"Urgot"},"7":{title:"the Deceiver",id:7,key:"Leblanc",name:"LeBlanc"},"8":{title:"the Crimson Reaper",id:8,key:"Vladimir",name:"Vladimir"},"9":{title:"the Harbinger of Doom",id:9,key:"Fiddlesticks",name:"Fiddlesticks"},"10":{title:"The Judicator",id:10,key:"Kayle",name:"Kayle"},"11":{title:"the Wuju Bladesman",id:11,key:"MasterYi",name:"Master Yi"},"12":{title:"the Minotaur",id:12,key:"Alistar",name:"Alistar"},"13":{title:"the Rune Mage",id:13,key:"Ryze",name:"Ryze"},"14":{title:"The Undead Juggernaut",id:14,key:"Sion",name:"Sion"},"15":{title:"the Battle Mistress",id:15,key:"Sivir",name:"Sivir"},"16":{title:"the Starchild",id:16,key:"Soraka",name:"Soraka"},"17":{title:"the Swift Scout",id:17,key:"Teemo",name:"Teemo"},"18":{title:"the Yordle Gunner",id:18,key:"Tristana",name:"Tristana"},"19":{title:"the Uncaged Wrath of Zaun",id:19,key:"Warwick",name:"Warwick"},"20":{title:"the Yeti Rider",id:20,key:"Nunu",name:"Nunu"},"21":{title:"the Bounty Hunter",id:21,key:"MissFortune",name:"Miss Fortune"},"22":{title:"the Frost Archer",id:22,key:"Ashe",name:"Ashe"},"23":{title:"the Barbarian King",id:23,key:"Tryndamere",name:"Tryndamere"},"24":{title:"Grandmaster at Arms",id:24,key:"Jax",name:"Jax"},"25":{title:"Fallen Angel",id:25,key:"Morgana",name:"Morgana"},"26":{title:"the Chronokeeper",id:26,key:"Zilean",name:"Zilean"},"27":{title:"the Mad Chemist",id:27,key:"Singed",name:"Singed"},"28":{title:"the Widowmaker",id:28,key:"Evelynn",name:"Evelynn"},"29":{title:"the Plague Rat",id:29,key:"Twitch",name:"Twitch"},"30":{title:"the Deathsinger",id:30,key:"Karthus",name:"Karthus"},"31":{title:"the Terror of the Void",id:31,key:"Chogath",name:"Cho'Gath"},"32":{title:"the Sad Mummy",id:32,key:"Amumu",name:"Amumu"},"33":{title:"the Armordillo",id:33,key:"Rammus",name:"Rammus"},"34":{title:"the Cryophoenix",id:34,key:"Anivia",name:"Anivia"},"35":{title:"the Demon Jester",id:35,key:"Shaco",name:"Shaco"},"36":{title:"the Madman of Zaun",id:36,key:"DrMundo",name:"Dr. Mundo"},"37":{title:"Maven of the Strings",id:37,key:"Sona",name:"Sona"},"38":{title:"the Void Walker",id:38,key:"Kassadin",name:"Kassadin"},"39":{title:"the Will of the Blades",id:39,key:"Irelia",name:"Irelia"},"40":{title:"the Storm's Fury",id:40,key:"Janna",name:"Janna"},"41":{title:"the Saltwater Scourge",id:41,key:"Gangplank",name:"Gangplank"},"42":{title:"the Daring Bombardier",id:42,key:"Corki",name:"Corki"},"43":{title:"the Enlightened One",id:43,key:"Karma",name:"Karma"},"44":{title:"the Shield of Valoran",id:44,key:"Taric",name:"Taric"},"45":{title:"the Tiny Master of Evil",id:45,key:"Veigar",name:"Veigar"},"48":{title:"the Troll King",id:48,key:"Trundle",name:"Trundle"},"50":{title:"the Master Tactician",id:50,key:"Swain",name:"Swain"},"51":{title:"the Sheriff of Piltover",id:51,key:"Caitlyn",name:"Caitlyn"},"53":{title:"the Great Steam Golem",id:53,key:"Blitzcrank",name:"Blitzcrank"},"54":{title:"Shard of the Monolith",id:54,key:"Malphite",name:"Malphite"},"55":{title:"the Sinister Blade",id:55,key:"Katarina",name:"Katarina"},"56":{title:"the Eternal Nightmare",id:56,key:"Nocturne",name:"Nocturne"},"57":{title:"the Twisted Treant",id:57,key:"Maokai",name:"Maokai"},"58":{title:"the Butcher of the Sands",id:58,key:"Renekton",name:"Renekton"},"59":{title:"the Exemplar of Demacia",id:59,key:"JarvanIV",name:"Jarvan IV"},"60":{title:"the Spider Queen",id:60,key:"Elise",name:"Elise"},"61":{title:"the Lady of Clockwork",id:61,key:"Orianna",name:"Orianna"},"62":{title:"the Monkey King",id:62,key:"MonkeyKing",name:"Wukong"},"63":{title:"the Burning Vengeance",id:63,key:"Brand",name:"Brand"},"64":{title:"the Blind Monk",id:64,key:"LeeSin",name:"Lee Sin"},"67":{title:"the Night Hunter",id:67,key:"Vayne",name:"Vayne"},"68":{title:"the Mechanized Menace",id:68,key:"Rumble",name:"Rumble"},"69":{title:"the Serpent's Embrace",id:69,key:"Cassiopeia",name:"Cassiopeia"},"72":{title:"the Crystal Vanguard",id:72,key:"Skarner",name:"Skarner"},"74":{title:"the Revered Inventor",id:74,key:"Heimerdinger",name:"Heimerdinger"},"75":{title:"the Curator of the Sands",id:75,key:"Nasus",name:"Nasus"},"76":{title:"the Bestial Huntress",id:76,key:"Nidalee",name:"Nidalee"},"77":{title:"the Spirit Walker",id:77,key:"Udyr",name:"Udyr"},"78":{title:"Keeper of the Hammer",id:78,key:"Poppy",name:"Poppy"},"79":{title:"the Rabble Rouser",id:79,key:"Gragas",name:"Gragas"},"80":{title:"the Artisan of War",id:80,key:"Pantheon",name:"Pantheon"},"81":{title:"the Prodigal Explorer",id:81,key:"Ezreal",name:"Ezreal"},"82":{title:"the Iron Revenant",id:82,key:"Mordekaiser",name:"Mordekaiser"},"83":{title:"Shepherd of Souls",id:83,key:"Yorick",name:"Yorick"},"84":{title:"the Fist of Shadow",id:84,key:"Akali",name:"Akali"},"85":{title:"the Heart of the Tempest",id:85,key:"Kennen",name:"Kennen"},"86":{title:"The Might of Demacia",id:86,key:"Garen",name:"Garen"},"89":{title:"the Radiant Dawn",id:89,key:"Leona",name:"Leona"},"90":{title:"the Prophet of the Void",id:90,key:"Malzahar",name:"Malzahar"},"91":{title:"the Blade's Shadow",id:91,key:"Talon",name:"Talon"},"92":{title:"the Exile",id:92,key:"Riven",name:"Riven"},"96":{title:"the Mouth of the Abyss",id:96,key:"KogMaw",name:"Kog'Maw"},"98":{title:"the Eye of Twilight",id:98,key:"Shen",name:"Shen"},"99":{title:"the Lady of Luminosity",id:99,key:"Lux",name:"Lux"},"101":{title:"the Magus Ascendant",id:101,key:"Xerath",name:"Xerath"},"102":{title:"the Half-Dragon",id:102,key:"Shyvana",name:"Shyvana"},"103":{title:"the Nine-Tailed Fox",id:103,key:"Ahri",name:"Ahri"},"104":{title:"the Outlaw",id:104,key:"Graves",name:"Graves"},"105":{title:"the Tidal Trickster",id:105,key:"Fizz",name:"Fizz"},"106":{title:"the Thunder's Roar",id:106,key:"Volibear",name:"Volibear"},"107":{title:"the Pridestalker",id:107,key:"Rengar",name:"Rengar"},"110":{title:"the Arrow of Retribution",id:110,key:"Varus",name:"Varus"},"111":{title:"the Titan of the Depths",id:111,key:"Nautilus",name:"Nautilus"},"112":{title:"the Machine Herald",id:112,key:"Viktor",name:"Viktor"},"113":{title:"Fury of the North",id:113,key:"Sejuani",name:"Sejuani"},"114":{title:"the Grand Duelist",id:114,key:"Fiora",name:"Fiora"},"115":{title:"the Hexplosives Expert",id:115,key:"Ziggs",name:"Ziggs"},"117":{title:"the Fae Sorceress",id:117,key:"Lulu",name:"Lulu"},"119":{title:"the Glorious Executioner",id:119,key:"Draven",name:"Draven"},"120":{title:"the Shadow of War",id:120,key:"Hecarim",name:"Hecarim"},"121":{title:"the Voidreaver",id:121,key:"Khazix",name:"Kha'Zix"},"122":{title:"the Hand of Noxus",id:122,key:"Darius",name:"Darius"},"126":{title:"the Defender of Tomorrow",id:126,key:"Jayce",name:"Jayce"},"127":{title:"the Ice Witch",id:127,key:"Lissandra",name:"Lissandra"},"131":{title:"Scorn of the Moon",id:131,key:"Diana",name:"Diana"},"133":{title:"Demacia's Wings",id:133,key:"Quinn",name:"Quinn"},"134":{title:"the Dark Sovereign",id:134,key:"Syndra",name:"Syndra"},"136":{title:"The Star Forger",id:136,key:"AurelionSol",name:"Aurelion Sol"},"141":{title:"the Shadow Reaper",id:141,key:"Kayn",name:"Kayn"},"143":{title:"Rise of the Thorns",id:143,key:"Zyra",name:"Zyra"},"150":{title:"the Missing Link",id:150,key:"Gnar",name:"Gnar"},"154":{title:"the Secret Weapon",id:154,key:"Zac",name:"Zac"},"157":{title:"the Unforgiven",id:157,key:"Yasuo",name:"Yasuo"},"161":{title:"the Eye of the Void",id:161,key:"Velkoz",name:"Vel'Koz"},"163":{title:"the Stoneweaver",id:163,key:"Taliyah",name:"Taliyah"},"164":{title:"the Steel Shadow",id:164,key:"Camille",name:"Camille"},"201":{title:"the Heart of the Freljord",id:201,key:"Braum",name:"Braum"},"202":{title:"the Virtuoso",id:202,key:"Jhin",name:"Jhin"},"203":{title:"The Eternal Hunters",id:203,key:"Kindred",name:"Kindred"},"222":{title:"the Loose Cannon",id:222,key:"Jinx",name:"Jinx"},"223":{title:"the River King",id:223,key:"TahmKench",name:"Tahm Kench"},"236":{title:"the Purifier",id:236,key:"Lucian",name:"Lucian"},"238":{title:"the Master of Shadows",id:238,key:"Zed",name:"Zed"},"240":{title:"the Cantankerous Cavalier",id:240,key:"Kled",name:"Kled"},"245":{title:"the Boy Who Shattered Time",id:245,key:"Ekko",name:"Ekko"},"254":{title:"the Piltover Enforcer",id:254,key:"Vi",name:"Vi"},"266":{title:"the Darkin Blade",id:266,key:"Aatrox",name:"Aatrox"},"267":{title:"the Tidecaller",id:267,key:"Nami",name:"Nami"},"268":{title:"the Emperor of the Sands",id:268,key:"Azir",name:"Azir"},"412":{title:"the Chain Warden",id:412,key:"Thresh",name:"Thresh"},"420":{title:"the Kraken Priestess",id:420,key:"Illaoi",name:"Illaoi"},"421":{title:"the Void Burrower",id:421,key:"RekSai",name:"Rek'Sai"},"427":{title:"the Green Father",id:427,key:"Ivern",name:"Ivern"},"429":{title:"the Spear of Vengeance",id:429,key:"Kalista",name:"Kalista"},"432":{title:"the Wandering Caretaker",id:432,key:"Bard",name:"Bard"},"497":{title:"The Charmer",id:497,key:"Rakan",name:"Rakan"},"498":{title:"the Rebel",id:498,key:"Xayah",name:"Xayah"},"516":{title:"The Fire below the Mountain",id:516,key:"Ornn",name:"Ornn"}};var up=class{createDb(){return{champions:Object.values(hD)}}};var cy;try{cy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{cy=!1}var Il=(()=>{let t=class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?__(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||cy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(F(In))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Al;function H3(){if(Al==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Al=!0}))}finally{Al=Al||!1}return Al}function uy(i){return H3()?i:!!i.capture}function gD(i){return i.composedPath?i.composedPath()[0]:i.target}function mD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var cr="*";function yD(i,t=null){return{type:2,steps:i,options:t}}function dy(i){return{type:6,styles:i,offset:null}}var vi=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Ml=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++n==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},dp="!";function wD(i){return new N(3e3,!1)}function j3(){return new N(3100,!1)}function B3(){return new N(3101,!1)}function U3(i){return new N(3001,!1)}function W3(i){return new N(3003,!1)}function q3(i){return new N(3004,!1)}function $3(i,t){return new N(3005,!1)}function K3(){return new N(3006,!1)}function Y3(){return new N(3007,!1)}function Q3(i,t){return new N(3008,!1)}function Z3(i){return new N(3002,!1)}function X3(i,t,e,n,r){return new N(3010,!1)}function J3(){return new N(3011,!1)}function eW(){return new N(3012,!1)}function tW(){return new N(3200,!1)}function nW(){return new N(3202,!1)}function rW(){return new N(3013,!1)}function iW(i){return new N(3014,!1)}function oW(i){return new N(3015,!1)}function aW(i){return new N(3016,!1)}function sW(i,t){return new N(3404,!1)}function lW(i){return new N(3502,!1)}function cW(i){return new N(3503,!1)}function uW(){return new N(3300,!1)}function dW(i){return new N(3504,!1)}function pW(i){return new N(3301,!1)}function fW(i,t){return new N(3302,!1)}function hW(i){return new N(3303,!1)}function gW(i,t){return new N(3400,!1)}function mW(i){return new N(3401,!1)}function vW(i){return new N(3402,!1)}function yW(i,t){return new N(3505,!1)}function yi(i){switch(i.length){case 0:return new vi;case 1:return i[0];default:return new Ml(i)}}function PD(i,t,e=new Map,n=new Map){let r=[],o=[],a=-1,s=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==a,d=u&&s||new Map;l.forEach((p,f)=>{let h=f,g=p;if(f!=="offset")switch(h=i.normalizePropertyName(h,r),g){case dp:g=e.get(f);break;case cr:g=n.get(f);break;default:g=i.normalizeStyleValue(f,h,g,r);break}d.set(h,g)}),u||o.push(d),s=d,a=c}),r.length)throw lW(r);return o}function Py(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&py(e,"start",i)));break;case"done":i.onDone(()=>n(e&&py(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&py(e,"destroy",i)));break}}function py(i,t,e){let n=e.totalTime,r=!!e.disabled,o=Fy(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),a=i._data;return a!=null&&(o._data=a),o}function Fy(i,t,e,n,r="",o=0,a){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!a}}function nn(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function CD(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var wW=(()=>typeof document>"u"?null:document.documentElement)();function Ny(i){let t=i.parentNode||i.host||null;return t===wW?null:t}function CW(i){return i.substring(1,6)=="ebkit"}var lo=null,bD=!1;function bW(i){lo||(lo=_W()||{},bD=lo.style?"WebkitAppearance"in lo.style:!1);let t=!0;return lo.style&&!CW(i)&&(t=i in lo.style,!t&&bD&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in lo.style)),t}function _W(){return typeof document<"u"?document.body:null}function FD(i,t){for(;t;){if(t===i)return!0;t=Ny(t)}return!1}function ND(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var Ly=(()=>{let t=class t{validateStyleProperty(n){return bW(n)}matchesElement(n,r){return!1}containsElement(n,r){return FD(n,r)}getParentElement(n){return Ny(n)}query(n,r,o){return ND(n,r,o)}computeStyle(n,r,o){return o||""}animate(n,r,o,a,s,l=[],c){return new vi(o,a)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})(),Vl=(()=>{let t=class t{};t.NOOP=new Ly;let i=t;return i})(),po=class{};var SW=1e3,LD="{{",EW="}}",kD="ng-enter",yy="ng-leave",pp="ng-trigger",vp=".ng-trigger",_D="ng-animating",wy=".ng-animating";function Ar(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Cy(parseFloat(t[1]),t[2])}function Cy(i,t){switch(t){case"s":return i*SW;default:return i}}function yp(i,t,e){return i.hasOwnProperty("duration")?i:xW(i,t,e)}function xW(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof i=="string"){let s=i.match(n);if(s===null)return t.push(wD(i)),{duration:0,delay:0,easing:""};r=Cy(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(o=Cy(parseFloat(l),s[4]));let c=s[5];c&&(a=c)}else r=i;if(!e){let s=!1,l=t.length;r<0&&(t.push(j3()),s=!0),o<0&&(t.push(B3()),s=!0),s&&t.splice(l,0,wD(i))}return{duration:r,delay:o,easing:a}}function Gl(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function zD(i){let t=new Map;return Object.keys(i).forEach(e=>{let n=i[e];t.set(e,n)}),t}function DW(i){return i.length?i[0]instanceof Map?i:i.map(t=>zD(t)):[]}function Ta(i,t=new Map,e){if(e)for(let[n,r]of e)t.set(n,r);for(let[n,r]of i)t.set(n,r);return t}function ur(i,t,e){t.forEach((n,r)=>{let o=ky(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function uo(i,t){t.forEach((e,n)=>{let r=ky(n);i.style[r]=""})}function Pl(i){return Array.isArray(i)?i.length==1?i[0]:yD(i):i}function TW(i,t,e){let n=t.params||{},r=VD(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(U3(o))})}var by=new RegExp(`${LD}\\s*(.+?)\\s*${EW}`,"g");function VD(i){let t=[];if(typeof i=="string"){let e;for(;e=by.exec(i);)t.push(e[1]);by.lastIndex=0}return t}function Nl(i,t,e){let n=i.toString(),r=n.replace(by,(o,a)=>{let s=t[a];return s==null&&(e.push(W3(a)),s=""),s.toString()});return r==n?i:r}function wp(i){let t=[],e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}var RW=/-+([a-z0-9])/g;function ky(i){return i.replace(RW,(...t)=>t[1].toUpperCase())}function OW(i,t){return i===0||t===0}function AW(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,a)=>{n.has(a)||r.push(a),n.set(a,o)}),r.length)for(let o=1;o<t.length;o++){let a=t[o];r.forEach(s=>a.set(s,GD(i,s)))}}return t}function tn(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw q3(t.type)}}function GD(i,t){return window.getComputedStyle(i)[t]}var IW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Cp=class extends po{normalizePropertyName(t,e){return ky(t)}normalizeStyleValue(t,e,n,r){let o="",a=n.toString().trim();if(IW.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&r.push($3(t,n))}return a+o}};var bp="*";function MW(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>PW(n,e,t)):e.push(i),e}function PW(i,t,e){if(i[0]==":"){let l=FW(i,e);if(typeof l=="function"){t.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(oW(i)),t;let r=n[1],o=n[2],a=n[3];t.push(SD(r,a));let s=r==bp&&a==bp;o[0]=="<"&&!s&&t.push(SD(a,r))}function FW(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(aW(i)),"* => *"}}var fp=new Set(["true","1"]),hp=new Set(["false","0"]);function SD(i,t){let e=fp.has(i)||hp.has(i),n=fp.has(t)||hp.has(t);return(r,o)=>{let a=i==bp||i==r,s=t==bp||t==o;return!a&&e&&typeof r=="boolean"&&(a=r?fp.has(i):hp.has(i)),!s&&n&&typeof o=="boolean"&&(s=o?fp.has(t):hp.has(t)),a&&s}}var HD=":self",NW=new RegExp(`s*${HD}s*,?`,"g");function jD(i,t,e,n){return new _y(i).build(t,e,n)}var ED="",_y=class{constructor(t){this._driver=t}build(t,e,n){let r=new Sy(e);return this._resetContextStyleTimingState(r),tn(this,Pl(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=ED,t.collectedStyles=new Map,t.collectedStyles.set(ED,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,o=[],a=[];return t.name.charAt(0)=="@"&&e.errors.push(K3()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==0){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==1){let l=this.visitTransition(s,e);n+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(Y3())}),{type:7,name:t.name,states:o,transitions:a,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,a=r||{};if(n.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{VD(l).forEach(c=>{a.hasOwnProperty(c)||o.add(c)})})}),o.size){let s=wp(o.values());e.errors.push(Q3(t.name,s))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=tn(this,Pl(t.animation),e);return{type:1,matchers:MW(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:co(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>tn(this,n,e)),options:co(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,o=t.steps.map(a=>{e.currentTime=n;let s=tn(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:3,steps:o,options:co(t.options)}}visitAnimate(t,e){let n=VW(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:dy({});if(o.type==5)r=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;let c={};n.easing&&(c.easing=n.easing),a=dy(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of r)typeof s=="string"?s===cr?n.push(s):e.errors.push(Z3(s)):n.push(zD(s));let o=!1,a=null;return n.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(a=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(LD)>=0){o=!0;break}}}),{type:6,styles:n,easing:a,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(a=>{typeof a!="string"&&a.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(X3(l,u.startTime,u.endTime,o,r)),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),e.options&&TW(s,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(J3()),n;let r=1,o=0,a=[],s=!1,l=!1,c=0,u=t.steps.map(w=>{let C=this._makeStyleAst(w,e),b=C.offset!=null?C.offset:zW(C.styles),_=0;return b!=null&&(o++,_=C.offset=b),l=l||_<0||_>1,s=s||_<c,c=_,a.push(_),C});l&&e.errors.push(eW()),s&&e.errors.push(tW());let d=t.steps.length,p=0;o>0&&o<d?e.errors.push(nW()):o==0&&(p=r/(d-1));let f=d-1,h=e.currentTime,g=e.currentAnimateTimings,y=g.duration;return u.forEach((w,C)=>{let b=p>0?C==f?1:p*C:a[C],_=b*y;e.currentTime=h+g.delay+_,g.duration=_,this._validateStyleAst(w,e),w.offset=b,n.styles.push(w)}),n}visitReference(t,e){return{type:8,animation:tn(this,Pl(t.animation),e),options:co(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:co(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:co(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,a]=LW(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,nn(e.collectedStyles,e.currentQuerySelector,new Map);let s=tn(this,Pl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:co(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(rW());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:yp(t.timings,e.errors,!0);return{type:12,animation:tn(this,Pl(t.animation),e),timings:n,options:null}}};function LW(i){let t=!!i.split(/\s*,\s*/).find(e=>e==HD);return t&&(i=i.replace(NW,"")),i=i.replace(/@\*/g,vp).replace(/@\w+/g,e=>vp+"-"+e.slice(1)).replace(/:animating/g,wy),[i,t]}function kW(i){return i?Gl(i):null}var Sy=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function zW(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function VW(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=yp(i,t).duration;return fy(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=fy(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=yp(e,t);return fy(r.duration,r.delay,r.easing)}function co(i){return i?(i=Gl(i),i.params&&(i.params=kW(i.params))):i={},i}function fy(i,t,e){return{duration:i,delay:t,easing:e}}function zy(i,t,e,n,r,o,a=null,s=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var Ll=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},GW=1,HW=":enter",jW=new RegExp(HW,"g"),BW=":leave",UW=new RegExp(BW,"g");function BD(i,t,e,n,r,o=new Map,a=new Map,s,l,c=[]){return new Ey().buildKeyframes(i,t,e,n,r,o,a,s,l,c)}var Ey=class{buildKeyframes(t,e,n,r,o,a,s,l,c,u=[]){c=c||new Ll;let d=new xy(t,e,c,r,o,u,[]);d.options=l;let p=l.delay?Ar(l.delay):0;d.currentTimeline.delayNextStep(p),d.currentTimeline.setStyles([a],null,d.errors,l),tn(this,n,d);let f=d.timelines.filter(h=>h.containsAnimation());if(f.length&&s.size){let h;for(let g=f.length-1;g>=0;g--){let y=f[g];if(y.element===e){h=y;break}}h&&!h.allowOnlyTimelineStyles()&&h.setStyles([s],null,d.errors,l)}return f.length?f.map(h=>h.buildKeyframes()):[zy(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let o=r?.delay;if(o){let a=typeof o=="number"?o:Ar(Nl(o,r?.params??{},e.errors));n.delayNextStep(a)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,a=n.duration!=null?Ar(n.duration):null,s=n.delay!=null?Ar(n.delay):null;return a!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),tn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==6&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_p);let a=Ar(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>tn(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ar(t.options.delay):0;t.steps.forEach(a=>{let s=e.createSubContext(t.options);o&&s.delayNextStep(o),tn(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?Nl(n,e.params,e.errors):n;return yp(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=t.style;o.type==5?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ar(r.delay):0;o&&(e.previousNode.type===6||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_p);let a=n,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),tn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let p=d.currentTimeline.currentTime;a=Math.max(a,p)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1),l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=n.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;tn(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}},_p={},xy=class i{constructor(t,e,n,r,o,a,s,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_p,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Sp(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=Ar(n.duration)),n.delay!=null&&(r.delay=Ar(n.delay));let o=n.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=Nl(o[s],a,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=_p,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new Dy(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,a){let s=[];if(r&&s.push(this.element),t.length>0){t=t.replace(jW,"."+this._enterClassName),t=t.replace(UW,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),s.push(...c)}return!o&&s.length==0&&a.push(iW(e)),s}},Sp=class i{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=GW,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||cr),this._currentKeyframe.set(e,cr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},a=WW(t,this._globalTimelineStyles);for(let[s,l]of a){let c=Nl(l,o,n);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??cr),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((s,l)=>{let c=Ta(s,new Map,this._backFill);c.forEach((u,d)=>{u===dp?t.add(d):u===cr&&e.add(d)}),n||c.set("offset",l/this.duration),r.push(c)});let o=t.size?wp(t.values()):[],a=e.size?wp(e.values()):[];if(n){let s=r[0],l=new Map(s);s.set("offset",0),l.set("offset",1),r=[s,l]}return zy(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},Dy=class extends Sp{constructor(t,e,n,r,o,a,s=!1){super(t,e,a.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],a=n+e,s=e/a,l=Ta(t[0]);l.set("offset",0),o.push(l);let c=Ta(t[0]);c.set("offset",xD(s)),o.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let p=Ta(t[d]),f=p.get("offset"),h=e+f*n;p.set("offset",xD(h/a)),o.push(p)}n=a,e=0,r="",t=o}return zy(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function xD(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function WW(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n=n||t.keys();for(let o of n)e.set(o,cr)}else Ta(r,e)}),e}function DD(i,t,e,n,r,o,a,s,l,c,u,d,p){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:p}}var hy={},Ep=class{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return qW(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,a,s,l,c,u){let d=[],p=this.ast.options&&this.ast.options.params||hy,f=s&&s.params||hy,h=this.buildStyles(n,f,d),g=l&&l.params||hy,y=this.buildStyles(r,g,d),w=new Set,C=new Map,b=new Map,_=r==="void",D={params:$W(g,p),delay:this.ast.options?.delay},R=u?[]:BD(t,e,this.ast.animation,o,a,h,y,D,c,d),M=0;if(R.forEach(k=>{M=Math.max(k.duration+k.delay,M)}),d.length)return DD(e,this._triggerName,n,r,_,h,y,[],[],C,b,M,d);R.forEach(k=>{let V=k.element,U=nn(C,V,new Set);k.preStyleProps.forEach(Se=>U.add(Se));let ne=nn(b,V,new Set);k.postStyleProps.forEach(Se=>ne.add(Se)),V!==e&&w.add(V)});let O=wp(w.values());return DD(e,this._triggerName,n,r,_,h,y,R,O,C,b,M)}};function qW(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}function $W(i,t){let e=Gl(t);for(let n in i)i.hasOwnProperty(n)&&i[n]!=null&&(e[n]=i[n]);return e}var Ty=class{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=Gl(this.defaultParams);return Object.keys(t).forEach(o=>{let a=t[o];a!==null&&(r[o]=a)}),this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,s)=>{a&&(a=Nl(a,r,e));let l=this.normalizer.normalizePropertyName(s,e);a=this.normalizer.normalizeStyleValue(s,l,a,e),n.set(s,a)})}),n}};function KW(i,t,e){return new Ry(i,t,e)}var Ry=class{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Ty(r.style,o,n))}),TD(this.states,"true","1"),TD(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Ep(t,r,this.states))}),this.fallbackTransition=YW(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(a=>a.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function YW(i,t,e){let o={type:1,animation:{type:2,steps:[],options:null},matchers:[(a,s)=>!0],options:null,queryCount:0,depCount:0};return new Ep(i,o,t)}function TD(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var QW=new Ll,Oy=class{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let n=[],r=[],o=jD(this._driver,e,n,r);if(n.length)throw cW(n);r.length&&void 0,this._animations.set(t,o)}_buildPlayer(t,e,n){let r=t.element,o=PD(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],o=this._animations.get(t),a,s=new Map;if(o?(a=BD(this._driver,e,o,kD,yy,new Map,new Map,n,QW,r),a.forEach(u=>{let d=nn(s,u.element,new Map);u.postStyleProps.forEach(p=>d.set(p,null))})):(r.push(uW()),a=[]),r.length)throw dW(r);s.forEach((u,d)=>{u.forEach((p,f)=>{u.set(f,this._driver.computeStyle(d,f,cr))})});let l=a.map(u=>{let d=s.get(u.element);return this._buildPlayer(u,new Map,d)}),c=yi(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw pW(t);return e}listen(t,e,n,r){let o=Fy(e,"","","");return Py(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let a=r[0]||{};this.create(t,e,a);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},RD="ng-animate-queued",ZW=".ng-animate-queued",gy="ng-animate-disabled",XW=".ng-animate-disabled",JW="ng-star-inserted",e4=".ng-star-inserted",t4=[],UD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},n4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jn="__ng_removed",kl=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=i4(r),n){let o=Gl(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},Fl="void",my=new kl(Fl),Ay=class{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,wn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw fW(n,e);if(n==null||n.length==0)throw hW(e);if(!o4(n))throw gW(n,e);let o=nn(this._elementListeners,t,[]),a={name:e,phase:n,callback:r};o.push(a);let s=nn(this._engine.statesByElement,t,new Map);return s.has(e)||(wn(t,pp),wn(t,pp+"-"+e),s.set(e,my)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw mW(t);return e}trigger(t,e,n,r=!0){let o=this._getTrigger(e),a=new zl(this.id,e,t),s=this._engine.statesByElement.get(t);s||(wn(t,pp),wn(t,pp+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e),c=new kl(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=my),!(c.value===Fl)&&l.value===c.value){if(!l4(l.params,c.params)){let g=[],y=o.matchStyles(l.value,l.params,g),w=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{uo(t,y),ur(t,w)})}return}let p=nn(this._engine.playersByElement,t,[]);p.forEach(g=>{g.namespaceId==this.id&&g.triggerName==e&&g.queued&&g.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),h=!1;if(!f){if(!r)return;f=o.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:a,isFallbackTransition:h}),h||(wn(t,RD),a.onStart(()=>{Da(t,RD)})),a.onDone(()=>{let g=this.players.indexOf(a);g>=0&&this.players.splice(g,1);let y=this._engine.playersByElement.get(t);if(y){let w=y.indexOf(a);w>=0&&y.splice(w,1)}}),this.players.push(a),p.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,vp,!0);n.forEach(r=>{if(r[jn])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let o=this._engine.statesByElement.get(t),a=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(a.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,Fl,r);u&&s.push(u)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),n&&yi(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let l=this._triggers.get(a).fallbackTransition,c=n.get(a)||my,u=new kl(Fl),d=new zl(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(n.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[jn];(!o||o===UD)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){wn(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==n.triggerName){let l=Fy(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Py(n.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Iy=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new Ay(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let a=!1,s=this.driver.getParentElement(e);for(;s;){let l=r.get(s);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}a||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,r){if(gp(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!gp(e))return;let o=e[jn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){let a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),wn(t,gy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Da(t,gy))}removeNode(t,e,n){if(gp(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[jn]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return gp(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,vp,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,wy,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[jn];if(e&&e.setForRemoval){if(t[jn]=UD,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(gy)&&this.markElementAsDisabled(t,!1),this.driver.query(t,XW,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];wn(r,JW)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?yi(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw vW(t)}_flushAnimations(t,e){let n=new Ll,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(H=>{u.add(H);let L=this.driver.query(H,ZW,!0);for(let q=0;q<L.length;q++)u.add(L[q])});let d=this.bodyNode,p=Array.from(this.statesByElement.keys()),f=ID(p,this.collectedEnterElements),h=new Map,g=0;f.forEach((H,L)=>{let q=kD+g++;h.set(L,q),H.forEach(re=>wn(re,q))});let y=[],w=new Set,C=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){let L=this.collectedLeaveElements[H],q=L[jn];q&&q.setForRemoval&&(y.push(L),w.add(L),q.hasAnimation?this.driver.query(L,e4,!0).forEach(re=>w.add(re)):C.add(L))}let b=new Map,_=ID(p,Array.from(w));_.forEach((H,L)=>{let q=yy+g++;b.set(L,q),H.forEach(re=>wn(re,q))}),t.push(()=>{f.forEach((H,L)=>{let q=h.get(L);H.forEach(re=>Da(re,q))}),_.forEach((H,L)=>{let q=b.get(L);H.forEach(re=>Da(re,q))}),y.forEach(H=>{this.processLeaveNode(H)})});let D=[],R=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(e).forEach(q=>{let re=q.player,Oe=q.element;if(D.push(re),this.collectedEnterElements.length){let ut=Oe[jn];if(ut&&ut.setForMove){if(ut.previousTriggersValues&&ut.previousTriggersValues.has(q.triggerName)){let wi=ut.previousTriggersValues.get(q.triggerName),rn=this.statesByElement.get(q.element);if(rn&&rn.has(q.triggerName)){let Wl=rn.get(q.triggerName);Wl.value=wi,rn.set(q.triggerName,Wl)}}re.destroy();return}}let St=!d||!this.driver.containsElement(d,Oe),it=b.get(Oe),Cn=h.get(Oe),ze=this._buildInstruction(q,n,Cn,it,St);if(ze.errors&&ze.errors.length){R.push(ze);return}if(St){re.onStart(()=>uo(Oe,ze.fromStyles)),re.onDestroy(()=>ur(Oe,ze.toStyles)),r.push(re);return}if(q.isFallbackTransition){re.onStart(()=>uo(Oe,ze.fromStyles)),re.onDestroy(()=>ur(Oe,ze.toStyles)),r.push(re);return}let qy=[];ze.timelines.forEach(ut=>{ut.stretchStartingKeyframe=!0,this.disabledNodes.has(ut.element)||qy.push(ut)}),ze.timelines=qy,n.append(Oe,ze.timelines);let bT={instruction:ze,player:re,element:Oe};a.push(bT),ze.queriedElements.forEach(ut=>nn(s,ut,[]).push(re)),ze.preStyleProps.forEach((ut,wi)=>{if(ut.size){let rn=l.get(wi);rn||l.set(wi,rn=new Set),ut.forEach((Wl,Ap)=>rn.add(Ap))}}),ze.postStyleProps.forEach((ut,wi)=>{let rn=c.get(wi);rn||c.set(wi,rn=new Set),ut.forEach((Wl,Ap)=>rn.add(Ap))})});if(R.length){let H=[];R.forEach(L=>{H.push(yW(L.triggerName,L.errors))}),D.forEach(L=>L.destroy()),this.reportError(H)}let M=new Map,O=new Map;a.forEach(H=>{let L=H.element;n.has(L)&&(O.set(L,L),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,M))}),r.forEach(H=>{let L=H.element;this._getPreviousPlayers(L,!1,H.namespaceId,H.triggerName,null).forEach(re=>{nn(M,L,[]).push(re),re.destroy()})});let k=y.filter(H=>MD(H,l,c)),V=new Map;AD(V,this.driver,C,c,cr).forEach(H=>{MD(H,l,c)&&k.push(H)});let ne=new Map;f.forEach((H,L)=>{AD(ne,this.driver,new Set(H),l,dp)}),k.forEach(H=>{let L=V.get(H),q=ne.get(H);V.set(H,new Map([...L?.entries()??[],...q?.entries()??[]]))});let Se=[],Ne=[],Ee={};a.forEach(H=>{let{element:L,player:q,instruction:re}=H;if(n.has(L)){if(u.has(L)){q.onDestroy(()=>ur(L,re.toStyles)),q.disabled=!0,q.overrideTotalTime(re.totalTime),r.push(q);return}let Oe=Ee;if(O.size>1){let it=L,Cn=[];for(;it=it.parentNode;){let ze=O.get(it);if(ze){Oe=ze;break}Cn.push(it)}Cn.forEach(ze=>O.set(ze,Oe))}let St=this._buildAnimation(q.namespaceId,re,M,o,ne,V);if(q.setRealPlayer(St),Oe===Ee)Se.push(q);else{let it=this.playersByElement.get(Oe);it&&it.length&&(q.parentPlayer=yi(it)),r.push(q)}}else uo(L,re.fromStyles),q.onDestroy(()=>ur(L,re.toStyles)),Ne.push(q),u.has(L)&&r.push(q)}),Ne.forEach(H=>{let L=o.get(H.element);if(L&&L.length){let q=yi(L);H.setRealPlayer(q)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<y.length;H++){let L=y[H],q=L[jn];if(Da(L,yy),q&&q.hasAnimation)continue;let re=[];if(s.size){let St=s.get(L);St&&St.length&&re.push(...St);let it=this.driver.query(L,wy,!0);for(let Cn=0;Cn<it.length;Cn++){let ze=s.get(it[Cn]);ze&&ze.length&&re.push(...ze)}}let Oe=re.filter(St=>!St.destroyed);Oe.length?a4(this,L,Oe):this.processLeaveNode(L)}return y.length=0,Se.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();let L=this.players.indexOf(H);this.players.splice(L,1)}),H.play()}),Se}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let a=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(a=s)}else{let s=this.playersByElement.get(t);if(s){let l=!o||o==Fl;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(n||r)&&(a=a.filter(s=>!(n&&n!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(t,e,n){let r=e.triggerName,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==o,d=nn(n,c,[]);this._getPreviousPlayers(c,u,a,s,e.toState).forEach(f=>{let h=f.getRealPlayer();h.beforeDestroy&&h.beforeDestroy(),f.destroy(),d.push(f)})}uo(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,a){let s=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,p=e.timelines.map(h=>{let g=h.element;u.add(g);let y=g[jn];if(y&&y.removedBeforeQueried)return new vi(h.duration,h.delay);let w=g!==l,C=s4((n.get(g)||t4).map(M=>M.getRealPlayer())).filter(M=>{let O=M;return O.element?O.element===g:!1}),b=o.get(g),_=a.get(g),D=PD(this._normalizer,h.keyframes,b,_),R=this._buildPlayer(h,D,C);if(h.subTimeline&&r&&d.add(g),w){let M=new zl(t,s,g);M.setRealPlayer(R),c.push(M)}return R});c.forEach(h=>{nn(this.playersByQueriedElement,h.element,[]).push(h),h.onDone(()=>r4(this.playersByQueriedElement,h.element,h))}),u.forEach(h=>wn(h,_D));let f=yi(p);return f.onDestroy(()=>{u.forEach(h=>Da(h,_D)),ur(l,e.toStyles)}),d.forEach(h=>{nn(r,h,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new vi(t.duration,t.delay)}},zl=class{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new vi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Py(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){nn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function r4(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function i4(i){return i??null}function gp(i){return i&&i.nodeType===1}function o4(i){return i=="start"||i=="done"}function OD(i,t){let e=i.style.display;return i.style.display=t??"none",e}function AD(i,t,e,n,r){let o=[];e.forEach(l=>o.push(OD(l)));let a=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let p=t.computeStyle(c,d,r);u.set(d,p),(!p||p.length==0)&&(c[jn]=n4,a.push(c))}),i.set(c,u)});let s=0;return e.forEach(l=>OD(l,o[s++])),a}function ID(i,t){let e=new Map;if(i.forEach(s=>e.set(s,[])),t.length==0)return e;let n=1,r=new Set(t),o=new Map;function a(s){if(!s)return n;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=a(c),o.set(s,l),l}return t.forEach(s=>{let l=a(s);l!==n&&e.get(l).push(s)}),e}function wn(i,t){i.classList?.add(t)}function Da(i,t){i.classList?.remove(t)}function a4(i,t,e){yi(e).onDone(()=>i.processLeaveNode(t))}function s4(i){let t=[];return WD(i,t),t}function WD(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof Ml?WD(n.players,t):t.push(n)}}function l4(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}function MD(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}var Ra=class{constructor(t,e,n){this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Iy(t.body,e,n),this._timelineEngine=new Oy(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){let a=t+"-"+r,s=this._triggerCache[a];if(!s){let l=[],c=[],u=jD(this._driver,o,l,c);if(l.length)throw sW(r,l);c.length&&void 0,s=KW(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[o,a]=CD(n),s=r;this._timelineEngine.command(o,e,a,s)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if(n.charAt(0)=="@"){let[a,s]=CD(n);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function c4(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=vy(t[0]),t.length>1&&(n=vy(t[t.length-1]))):t instanceof Map&&(e=vy(t)),e||n?new u4(i,e,n):null}var u4=(()=>{let t=class t{constructor(n,r,o){this._element=n,this._startStyles=r,this._endStyles=o,this._state=0;let a=t.initialStylesByElement.get(n);a||t.initialStylesByElement.set(n,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ur(this._element,this._initialStyles),this._endStyles&&(ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(uo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(uo(this._element,this._endStyles),this._endStyles=null),ur(this._element,this._initialStyles),this._state=3)}};t.initialStylesByElement=new WeakMap;let i=t;return i})();function vy(i){let t=null;return i.forEach((e,n)=>{d4(n)&&(t=t||new Map,t.set(n,e))}),t}function d4(i){return i==="display"||i==="position"}var xp=class{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:GD(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Dp=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return FD(t,e)}getParentElement(t){return Ny(t)}query(t,e,n){return ND(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,r,o,a=[]){let s=r==0?"both":"forwards",l={duration:n,delay:r,fill:s};o&&(l.easing=o);let c=new Map,u=a.filter(f=>f instanceof xp);OW(n,r)&&u.forEach(f=>{f.currentSnapshot.forEach((h,g)=>c.set(g,h))});let d=DW(e).map(f=>Ta(f));d=AW(t,d,c);let p=c4(t,d);return new xp(t,d,l,p)}};var mp="@",qD="@.disabled",Tp=class{constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==mp&&e==qD?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},My=class extends Tp{constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==mp?e.charAt(1)=="."&&e==qD?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==mp){let r=p4(t),o=e.slice(1),a="";return o.charAt(0)!=mp&&([o,a]=f4(o)),this.engine.listen(this.namespaceId,r,o,a,s=>{let l=s._data||-1;this.factory.scheduleListenerCallback(l,n,s)})}return this.delegate.listen(t,e,n)}};function p4(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function f4(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var Rp=class{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(t,e){let n="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new Tp(n,r,this.engine,d),c.set(r,u)}return u}let o=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,a,t,c.name,c)};return e.data.animation.forEach(s),new My(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var g4=(()=>{let t=class t extends Ra{constructor(n,r,o,a){super(n,r,o)}ngOnDestroy(){this.flush()}};t.\u0275fac=function(r){return new(r||t)(F(Le),F(Vl),F(po),F(vr))},t.\u0275prov=G({token:t,factory:t.\u0275fac});let i=t;return i})();function m4(){return new Cp}function v4(i,t,e){return new Rp(i,t,e)}var KD=[{provide:po,useFactory:m4},{provide:Ra,useClass:g4},{provide:Ii,useFactory:v4,deps:[bu,Ra,le]}],$D=[{provide:Vl,useFactory:()=>new Dp},{provide:ru,useValue:"BrowserAnimations"},...KD],y4=[{provide:Vl,useClass:Ly},{provide:ru,useValue:"NoopAnimations"},...KD],Op=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?y4:$D}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({providers:$D,imports:[Qo]});let i=t;return i})();function Vy(i){return Array.isArray(i)?i:[i]}function Gy(i){return i instanceof He?i.nativeElement:i}var w4=(()=>{let t=class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var YD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({providers:[w4]});let i=t;return i})();var QD=new Set,fo,C4=(()=>{let t=class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_4}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&b4(n,this._nonce),this._matchMedia(n)}};t.\u0275fac=function(r){return new(r||t)(F(Il),F(Ya,8))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function b4(i,t){if(!QD.has(i))try{fo||(fo=document.createElement("style"),t&&(fo.nonce=t),fo.setAttribute("type","text/css"),document.head.appendChild(fo)),fo.sheet&&(fo.sheet.insertRule(`@media ${i} {body{ }}`,0),QD.add(i))}catch(e){console.error(e)}}function _4(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var XD=(()=>{let t=class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new ot}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return ZD(Vy(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=ZD(Vy(n)).map(s=>this._registerQuery(s).observable),a=Ei(o);return a=Mr(a.pipe(_n(1)),a.pipe(nf(1),Yp(0))),a.pipe(oe(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{l.matches=l.matches||c,l.breakpoints[u]=c}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),a={observable:new ue(s=>{let l=c=>this._zone.run(()=>s.next(c));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Ia(r),oe(({matches:s})=>({query:n,matches:s})),Ma(this._destroySubject)),mql:r};return this._queries.set(n,a),a}};t.\u0275fac=function(r){return new(r||t)(F(C4),F(le))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function ZD(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function tT(i){return i.buttons===0||i.detail===0}function nT(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var JD="cdk-high-contrast-black-on-white",eT="cdk-high-contrast-white-on-black",Hy="cdk-high-contrast-active",rT=(()=>{let t=class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=j(XD).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,a=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(Hy,JD,eT),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===1?n.add(Hy,JD):r===2&&n.add(Hy,eT)}}};t.\u0275fac=function(r){return new(r||t)(F(Il),F(Le))},t.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var jy=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({});let i=t;return i})();function R4(){return!0}var O4=new $("mat-sanity-checks",{providedIn:"root",factory:R4}),Fe=(()=>{let t=class t{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return mD()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};t.\u0275fac=function(r){return new(r||t)(F(rT),F(O4,8),F(Le))},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[jy,jy]});let i=t;return i})();var Wy=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Fe,Fe]});let i=t;return i})(),By=class{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},iT=uy({passive:!0,capture:!0}),Uy=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=gD(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){let o=this._events.get(e);if(o){let a=o.get(n);a?a.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,iT)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,iT)))}},oT={enterDuration:225,exitDuration:150},A4=800,aT=uy({passive:!0,capture:!0}),sT=["mousedown","touchstart"],lT=["mouseup","mouseleave","touchend","touchcancel"],Hl=class Hl{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Gy(n))}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=W(W({},oT),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let a=n.radius||I4(t,e,r),s=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-a}px`,u.style.top=`${l-a}px`,u.style.height=`${a*2}px`,u.style.width=`${a*2}px`,n.color!=null&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),p=d.transitionProperty,f=d.transitionDuration,h=p==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,g=new By(this,u,n,h);u.style.transform="scale3d(1, 1, 1)",g.state=0,n.persistent||(this._mostRecentTransientRipple=g);let y=null;return!h&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let w=()=>this._finishRippleTransition(g),C=()=>this._destroyRipple(g);u.addEventListener("transitionend",w),u.addEventListener("transitioncancel",C),y={onTransitionEnd:w,onTransitionCancel:C}}),this._activeRipples.set(g,y),(h||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(t){if(t.state===2||t.state===3)return;let e=t.element,n=W(W({},oT),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Gy(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,sT.forEach(n=>{Hl._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lT.forEach(e=>{this._triggerElement.addEventListener(e,this,aT)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===0?this._startFadeOutTransition(t):t.state===2&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=1,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){let e=tT(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+A4;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!nT(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===1||t.config.terminateOnPointerUp&&t.state===0;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(sT.forEach(e=>Hl._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&lT.forEach(e=>t.removeEventListener(e,this,aT)))}};Hl._eventManager=new Uy;var cT=Hl;function I4(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var dT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Fe,Fe]});let i=t;return i})();var pT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Fe,dT,Fe]});let i=t;return i})();var fT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Fe,Ur,Fe]});let i=t;return i})();var Ul=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Fe,Ur,YD,Fe]});let i=t;return i})();var hT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({});let i=t;return i})();var gT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Fe,Ul,Ul,hT,Fe]});let i=t;return i})();var mT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Wy,Fe,Wy,Fe]});let i=t;return i})();var vT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Fe,Fe]});let i=t;return i})();var yT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Fe,Fe]});let i=t;return i})();var wT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=Q({imports:[Ur,lp,uE,pT,fT,Ul,gT,mT,Qo,Op,yT,vT]});let i=t;return i})();var CT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t,bootstrap:[pD]}),t.\u0275inj=Q({imports:[Qo,lp,MS,fD.forRoot(up),F_,wT,Op]});let i=t;return i})();H_().bootstrapModule(CT).catch(i=>console.error(i));
